(self.webpackChunkgdm_search_components_vjs=self.webpackChunkgdm_search_components_vjs||[]).push([[565],{3142:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"results":"Results: {from} to {to} among {notExactly}{count}","title":"Title","relevance":"Relevance","per_page":"per page","changeDate":"Update","sortBy":"Sort by"},"fr":{"results":"Résultats: <strong>{from}</strong> à <strong>{to}</strong> sur {notExactly}{count}","title":"Titre","relevance":"Pertinence","changeDate":"Mise à jour","sortBy":"Trier par","per_page":"par page"}}'),delete e.options._Ctor}},1189:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"process_dates":"Dates","identifiers":"Identifiers","image_dates":"Date of  <span>images&nbsp;<i class=\'fa {class} {active}\'></i></span>","temporal_extent":"Temporal <span>extent&nbsp;<i class=\'fa {class} {active}\'></i></span>","parameters":"Parameters","no_process":"No process","no_team":"No team","unauthorized":"Access Unauthorized","forbidden":"Access Forbidden: deconnected?","creation":"Created","start":"Start","status":"Status"},"fr":{"process_dates":"Dates","identifiers":"Identifiants","image_dates":"Date des  <span>images&nbsp;<i class=\'fa {class} {active}\'></i></span>","temporal_extent":"Etendue  <span>temporelle&nbsp;<i class=\'fa {class} {active}\'></i></span>","parameters":"Paramètres","no_process":"Aucun calcul","no_team":"Aucune équipe","unauthorized":"Accès non autorisé à cette ressource","forbidden":"Access interdit: deconnecté?","creation":"Création","start":"Début","status":"Statut"}}'),delete e.options._Ctor}},807:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"draw_bbox":"Draw a bounding box"},"fr":{"draw_bbox":"Dessiner / Modifier les limites sur la carte"}}'),delete e.options._Ctor}},1875:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"process_extent":"Process Dates","temporal_extent":"Temporal Extent","spatial_extent":"Spatial Extent","filters":"Filters","no_filter":"No filter","reset":"Reset","search":"Search","see_archived":"See archived jobs","service_group":"Service group","creation":"Creation","start":"Start","status":"Status","team":"Team"},"fr":{"process_extent":"Dates du calcul","temporal_extent":"Etendue temporelle","spatial_extent":"Etendue spatiale","filters":"Filtres","no_filter":"Aucun filtre","reset":"Intialiser","search":"Rechercher","see_archived":"Voir les jobs archivés","service_group":"Groupe de services","creation":"Création","start":"Lancement","status":"Statut","team":"Équipe"}}'),delete e.options._Ctor}},7088:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"clear_data":"All results will be deleted on this date","created":"Created","collection":"Collection","consult":"Consult","dsmopt_default_correlation":"Uncorrelated threshold ","dsmopt_use_roi":"Use ROI","dsmopt_roi_sizex":"ROI size X","dsmopt_roi_sizey":"ROI size Y","aspy_input_mode":"Input mode","aspy_run_stereo_pipeline":"Run stereo pipeline","aspy_output_epsg":"EPSG code for final products projection","aspy_output_res_factor":"Output resolution factor","end":"Job end","remove_process":"Remove the job","squareCenter":"Product center","start":"Job start"},"fr":{"clear_data":"Tous les résultats seront effacés à cette date","created":"Création","collection":"Collection","consult":"Consulter","dsmopt_default_correlation":"Seuil de dé-corrélation","dsmopt_use_roi":"Utilisation d\'une Zone d\'Intérêt","dsmopt_roi_sizex":"Taille de la zone en X","dsmopt_roi_sizey":"Taille de la zone en Y","aspy_input_mode":"Input mode","aspy_run_stereo_pipeline":"Run stereo pipeline","aspy_output_epsg":"EPSG code for final products projection","aspy_output_res_factor":"Output resolution factor","end":"Fin","remove_process":"Supprimer le job","squareCenter":"Centre du produit","start":"Début"}}'),delete e.options._Ctor}},5514:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"nothing":"nothing"},"fr":{"nothing":"nothing"}}'),delete e.options._Ctor}},9099:e=>{e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"north_symbol":"N","east_symbol":"E","south_symbol":"S","west_symbol":"W","reset":"Reset","draw":"Draw","titleLatitude":"Latitude must be a number between -90° and 90° (ex: 65.3)","titleLongitude":"Longitude must be a number between -180° and 180° (ex: -110.3)"},"fr":{"north_symbol":"N","east_symbol":"E","south_symbol":"S","west_symbol":"O","reset":"Initialiser","draw":"Dessiner","titleLatitude":"La latitude doit être un nombre compris entre -90° et 90° (ex: 65.3)","titleLongitude":"La longitude doit être comprise entre -180° et 180° (ex: -110.3)"}}'),delete e.options._Ctor}},5566:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,"\n.mtdt-paging span.mtdt-navigation span{\n  font-size: 1.3em;\n  cursor: pointer;\n  margin: 0 1px;\n  padding:5px;\n cursor:pointer;\n border-radius:3px;\n /*background:#8c0209;*/\n background:grey;\n padding:3px 5px;\n color:white;\n  vertical-align:middle;\n  opacity:0.9;\n}\n.mtdt-paging span.mtdt-navigation.disabled span{\n  opacity:0.3;\n  cursor:not-allowed;\n}\n.mtdt-paging span.mtdt-navigation:not(.disabled) span:hover{\n  opacity:1;\n  font-size:1.31em;\n}\n.mtdt-paging .formater-select:not(.formater-multiple) select {\n  padding: .3em 2.5em .5em .5em;\n}\n\n",""]),e.exports=t},3604:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,"\n.gdm-process-search {\n  font-family: Roboto, sans-serif;\n}\n.button{\n    font-family: Arial;\n    font-size: 1em;\n    display: inline-block;\n    margin: 0px 7px 3px 0;\n    padding: 3px 12px;\n    height: auto;\n    line-height: 1.43;\n    white-space: normal;\n    text-align: center;\n    background: #ececea;\n    border-width: 1px;\n    border-style: solid;\n    border-radius: 3px;\n    border-color: #ffffff #d4d4cf #d4d4cf;\n    color: #000;\n    text-decoration: none;\n  /*  text-shadow: 0 -1px 1px #bcbcb4, 1px 0 1px #d4d4cf, 0 1px 1px #d4d4cf, -1px 0 1px #bcbcb4;*/\n    vertical-align: top;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);}\n.button:hover\n{\n   background: #f0f0e6;\n   text-decoration: none;\n}\n.button:disabled{\n    color: #999;\n    pointer-events: none;\n}\n.fa-button span {\n   display:inline-block;\n}\n",""]),e.exports=t},961:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,"\n.fa-button[data-v-210c06f5] {\n  cursor: pointer;\n  padding: 1px 3px;\n}\n.fa-button[data-v-210c06f5]:hover {\n  border:1px dotted grey;\n}\ni.unactive[data-v-210c06f5],\nspan.unactive[data-v-210c06f5] {\n  color: #5f5f5f;\n}\n.gdm-process-search[data-v-210c06f5]{\nfont-size: 0.9rem;\n}\n.gdm-process-header[data-v-210c06f5] {\ndisplay: grid;\n  grid-template-columns: minmax(180px,1fr) 110px minmax(190px,1fr) minmax(100px, 1fr) minmax(300px, 2fr);\n  grid-gap: 5px;\n   text-align:left;\n   font-weight:700;\n   border: 1px solid lightgrey;\n   max-height: 35px;\npadding: 5px 0;\n}\n.gdm-process-header-column-1[data-v-210c06f5] {\n  grid-column: 1;\n  grid-row: 1;\n  padding-left:5px;\n}\n.gdm-process-header-column-2[data-v-210c06f5] {\n  grid-column: 2;\n  grid-row: 1;\n  text-align:center;\n}\n.gdm-process-header-column-3[data-v-210c06f5] {\n  grid-column: 3;\n  grid-row: 1;\n}\n.gdm-process-header-column-4[data-v-210c06f5] {\n  grid-column: 4;\n  grid-row: 1;\n}\n.gdm-process-header-column-5[data-v-210c06f5] {\n  grid-column: 5;\n  grid-row: 1;\n}\n/* .gdm-process-search i.gdm-log {\n\tfont-size:20px;\n\tmargin-top:5px;\n\tcolor:grey;\n}\n.gdm-process-search span.date-purge {\n  font-size:0.9em;\n  color:#333;\n  font-style:italic;\n  cursor:pointer;\n}\n.gdm-process-search div.gdm-tooltip {\n  position:absolute;\n  background-color:#fafafa;\n  border: 1px solid #a3a3a3;\n  font-size: smaller;\n  margin-left:50px;\n  padding:4px;\n  width: 160px;\n  display:none;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 2px 5px 2px rgba(0, 0, 0, 0.4);\n  z-index:100;\n}\n.gdm-process-search div.gdm-tooltip:hover {\n  display:block;\n}\n.gdm-process-search tr:last-child div.gdm-tooltip{\n  margin-left:70px;\n  margin-top:-80px;\n}\n.gdm-process-search span.date-purge:hover + div.gdm-tooltip {\n  display:block;\n}\n.gdm-process-search i.gdm-log:hover + div.gdm-tooltip {\n  display:block;\n} */\n.gdm-process-search div.column-right[data-v-210c06f5]{\n width: calc(100% - 295px);\n display: block;\n margin-left: 285px;\n}\ndiv.message[data-v-210c06f5] {\n  font-size: 0.9rem;\n  margin: auto;\n  padding: 40px 0;\n  text-align: center;\n  font-style: italic;\n}\n/* table.gdm-list-process {\n  position:relative;\n  display:block;\n  width:100%;\n  height: 600px;\n  overflow:auto;\n  margin-bottom:5px;\n  border: 1px solid #ccc;\n  border-collapse: collapse;\n  box-shadow: 1px 1px 1px 2px rgba(0, 0, 0, 0.1);\n  z-index:0;\n} */\n.gdm-process-search div.gdm-wrapper[data-v-210c06f5] {\n  max-width:1950px;\n  margin:auto;\n}\n.gdm-process-search div.column-left[data-v-210c06f5]{\n  width:270px;\n  margin-left:5px;\n  float:left;\n}\n\n\n/* table.gdm-list-process th {\n  position: sticky; \n  top: 0;\n  padding:3px 8px;\n  vertical-align:top;\n  background:   #E8E8E8;\n  text-align:left;\n  border:none;\n  border-bottom: 2px solid #CCC;\n  z-index:1;\n}\n.gdm-process-search tr{\n   min-height:100px;\n   height:100px;\n} */\n.gdm-process-search div.highlight[data-v-210c06f5] {\n  background: #EFF6F6;\n}\n/*.gdm-process-search tr.selected {\n  background: #F6EFEF;\n} */\n/**thead {\n border: 1px solid #ccc;\n background: \n text-align: left;\n}**/\n/*table.gdm-list-process td{\n  padding:3px 8px;\n  vertical-align:top;\n  border-bottom: 1px solid #ccc;\n  border-left: none;\n  border-right: none;\n   min-width:15%;\n   width:15%;\n}\n\n\ntable.gdm-list-process td:last-child, \ntable.gdm-list-process th:last-child{\n      width: 100%;\n    }\n\ndiv.toSelect {\n cursor: pointer;\n padding: 2px;\n  margin: 3px 0px;\n  background: #F0f0f0;\n  border: 1px solid #909090;\n  border-radius:2px;\n  max-width: 250px;\n  white-space:normal;\n}\ndiv.toSelect.selectedUser,\ndiv.toSelect.selectedService{\n background: #f7f1ef;\n border-color:darkred;\n}\ndiv.toSelect:hover {\n background: #e5e5e5;\n}\ndiv.toSelect.selectedUser:hover,\ndiv.toSelect.selectedService:hover  {\n background: #f9eae6;\n}\n\ndiv.infos {\n  float:left;\n  vertical-align:top;\n  font-size:0.8em;\n  margin: 0 5px;\n}\ndiv.gdm-token{\n  color:#202020;\n  font-size:0.8em;\n  font-style:italic;\n  max-width: 190px;\noverflow-wrap: break-word;\n} */\n\n",""]),e.exports=t},9399:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,'\n /* @import "leaflet-draw/dist/leaflet.draw.css";*/\n.mtdt-draw-bbox{\n  position: absolute;\n   width: 600px;\n   height: 400px;\n   z-index:2000;\n   top: 50px;\n   left: 50px;\n /*  resize: both;\n   overflow:auto;\n  /* margin: -200px 0 0 -300px;*/\n   padding: 0px;\n   border-radius: 6px;\n   background: white;\n   border: 2px solid #ccc;\n   box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\n}\n.mtdt-draw-bbox div.mtdt-header{\n  margin:0;\n  border-radius: 6px 6px 0px 0px;\n}\n.mtdt-draw-bbox div.mtdt-header h3 {\n  color: inherit;\n}\ndiv[id="fmtDraw"]{\n  border-radius: 0px 0px 6px 6px;\n  height:350px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-top .leaflet-control{\n   margin-top: 3px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-left .leaflet-control{\n   margin-left: 3px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-control .leaflet-control-zoom-in, \ndiv[id="fmtDraw"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\n  font-size:18px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-bar a{\n background-image:none;\n width: 20px;\n height:20px;\n line-height:20px;\n}\ndiv[id="fmtDraw"] a.leaflet-draw-draw-rectangle:before{\n  content:"\\f04d";\n  font-family: "FontAwesome"\n}\ndiv[id="fmtDraw"] a.leaflet-draw-edit-edit:before{\n  content:"\\f040";\n  font-family: "FontAwesome"\n}\ndiv[id="fmtDraw"] a.leaflet-draw-edit-remove:before{\n  content:"\\f1f8";\n  font-family: "FontAwesome"\n}\n /** menu leaflet draw */\ndiv[id="fmtDraw"] .leaflet-container .leaflet-draw-section a {\n    color: #fff;\n    font-weight: 700;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li a {\n    color: #fff;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li {\n    display: block;\n    margin: 0 0 1px 0;\n    border-radius: 0;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions {\n    background: #555;\n    margin-left:5px;\n    padding: 2px;\n    -webkit-border-radius: 0 4px 4px 4px;\n    border-radius: 0 4px 4px 4px;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li:first-child a{\n    -webkit-border-radius: 0 4px 0 0;\n    border-radius: 0 4px 0 0;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li:last-child a{\n    -webkit-border-radius: 0 0px 4px 4px;\n    border-radius: 0 0px 4px 4px;\n}\n.mtdt-draw-bbox div.mtdt-header{\n   margin: 0 0 0px 0;\n   cursor: move;\n}\n.mtdt-draw-bbox span.close{\n     position:absolute;\n     top:2px;\n     right:4px;\n     cursor: pointer;\n}\n@media screen and (min-width: 1024px) {\n.mtdt-draw-bbox {\n       width: 700px;\n       height: 400px;\n}\n}\n@media screen and (min-width: 1680px) {\n.mtdt-draw-bbox {\n       width: 900px;\n       height: 600px;\n}\n}\n',""]),e.exports=t},9211:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,'\n.gdm-form-process[data-v-6ac9b100] {\n  margin-bottom: 0px;\n  min-height: 20px;\n  padding: 0px 0px 0px 0px;\nborder: 1px solid #ccc;\nbox-shadow: 1px 1px 1px 2px rgba(0, 0, 0, 0.1);\n}\n.gdm-form-process h3[data-v-6ac9b100] {\n  margin-top:0;\n}\n.gdm-form-process .formater-search-box[data-v-6ac9b100] {\n    margin: 5px 0;\n    width: 100%;\n    box-shadow: 0 2px 5px -5px rgba(0, 0, 0, 0.2);\n}\n.gdm-form-process .formater-search-box .content[data-v-6ac9b100]{\n    margin: 0;\n}\n.gdm-form-process .fa-close[data-v-6ac9b100]{\n  color: darkred;\n  margin-left:10px;\n  cursor:pointer;\n  vertical-align:top;\n}\n.gdm-form-process div.selectedUser[data-v-6ac9b100],\n.gdm-form-process div.selectedService[data-v-6ac9b100]{\n  float:left;\n  padding: 3px;\n  margin: 0px 5px 5px 0px;\n  background: #F0f0f0;\n  border: 1px solid grey;\n  border-radius:2px;\n}\n.gdm-form-process .text-search[data-v-6ac9b100] {\n  margin: 10px;\nwidth: calc(100% - 20px);\n}\n.gdm-form-process input[name="any"][data-v-6ac9b100] {\n   line-height: 35px;\n   height: 35px;\n   width: calc(100% - 40px);\n   border: none;\n   background-color: transparent;\n   padding: 0 10px;\n   outline: none;\n}\n.gdm-form-process input#globalReset[data-v-6ac9b100] {\n  margin: 0 0 3px 7px;\n  padding: 3px 12px;\n  text-align: center;\n  border-radius: 1px;\n  font-size: 16px;\n  line-height: 1.7;\n  border:1px solid #393933;\n  background-color: #808080;\n  color: #fff;\n  cursor: pointer;\n  text-decoration:none;\n  pointer-events: auto;\n  box-sizing: border-box;\n  box-shadow: 0 1px 5px rgba(0,0,0,.65);\n  opacity:0.8;\n}\n.gdm-form-process input#globalReset[data-v-6ac9b100]:hover{\n  opacity:1;\n    text-decoration:none;\n     outline: none;\n}\n.gdm-form-process input#globalReset[data-v-6ac9b100]:active,\n.gdm-form-process input#globalReset[data-v-6ac9b100]:visited,\n.gdm-form-process input#globalReset[data-v-6ac9b100]:focus,\n.gdm-form-process input#globalReset[data-v-6ac9b100]::-moz-focus-inner{\n     outline:0 none !important;\n     text-decoration:none;\n      -moz-outline-style: none;\n}\n\n',""]),e.exports=t},8485:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,"\n.gdm-process-row {\n  display: grid;\n  grid-template-columns: minmax(180px,1fr) 110px minmax(190px,1fr) minmax(100px, 1fr) minmax(150px, 1fr) minmax(150px, 1fr) 30px;\n  grid-gap: 5px;\n  row-gap: 5px;\n /* grid-template-rows: 20px 100px;*/ \n  grid-auto-rows: minmax(10px, auto);\n  font-size:0.9em;\n  border-bottom:1px solid lightgrey;\n  cursor: pointer;\n  padding: 5px 0;\n}\n.gdm-process-row:hover {\n  background: #EFF6F6;\n}\n.gdm-process-row.selected {\n   background: #F6EFEF;\n}\n.gdm-process-identifier {\n   grid-column: 1/6;\n  grid-row: 1;\n  font-weight:600;\n  font-size:0.9em;\n  padding-left: 5px;\n}\n.gdm-process-column-1 {\n  grid-column: 1;\n  grid-row:2;\n  padding-left:5px;\n}\n.gdm-process-column-2 {\n  grid-column: 2;\n  grid-row:2;\n  text-align:center;\n  padding-top:5px;\n}\n.gdm-process-column-3 {\n  grid-column: 3;\n  grid-row:2;\n}\n.gdm-process-column-4 {\n  grid-column: 4;\n  grid-row:2;\n  text-align:center;\n}\n.gdm-process-column-5 {\n  grid-column: 5;\n  grid-row:2;\n  font-size: 0.9em;\n}\n.gdm-process-column-6 {\n  grid-column: 6;\n  grid-row:2;\n  font-size: 0.9em;\n}\n.gdm-process-column-7 {\n  grid-column: 7;\n  grid-row:2;\n}\n.gdm-process-column-1 div {\n  line-height:1;\n}\n.gdm-process-column-7 span {\n  padding: 3px;\n  border: 1px dotted rgba(0,0,0,0);\n  cursor: pointer;\n}\n.gdm-process-column-7 span:hover {\n  border: 1px dotted grey;\n}\ndiv.toSelect {\n cursor: pointer;\n padding: 2px;\n  margin: 3px 0px;\n  background: #F0f0f0;\n  border: 1px solid #909090;\n  border-radius:2px;\n  line-height:1;\n  max-width: 250px;\n  white-space:normal;\n  word-break: break-all;\n}\n.toSelect.short {\n   display:inline-block;\n   padding:2px 3px;\n}\ndiv.toSelect:hover {\n background: #e5e5e5;\n}\ndiv.toSelect.selected{\n background: #f7f1ef;\n border-color:darkred;\n}\ndiv.toSelect.selected:hover  {\n background: #f9eae6;\n}\n.gdm-process-row span.date-purge {\n  font-size:0.9em;\n  color:#333;\n  font-style:italic;\n  cursor:pointer;\n}\n.gdm-process-row div.gdm-tooltip {\n  position:absolute;\n  background-color:#fafafa;\n  border: 1px solid #a3a3a3;\n  font-size: smaller;\n  margin-left:50px;\n  padding:4px;\n  width: 160px;\n  display:none;\n  word-break:break-all;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 2px 5px 2px rgba(0, 0, 0, 0.4);\n  z-index:100;\n}\n.gdm-process-row div.gdm-tooltip:hover {\n  display:block;\n}\n.gdm-process-row:last-child div.gdm-tooltip{\n  margin-left:70px;\n  margin-top:-80px;\n}\n.gdm-process-row span.date-purge:hover + div.gdm-tooltip {\n  display:block;\n}\n.gdm-process-row i.gdm-log:hover + div.gdm-tooltip {\n  display:block;\n}\n",""]),e.exports=t},7714:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,"\nspan.failed[data-v-fd4ad91e]{\n color: darkred;\n}\nspan.terminated[data-v-fd4ad91e]{\n color:darkgreen;\n}\nspan.running[data-v-fd4ad91e], \nspan.accepted[data-v-fd4ad91e],\nspan.waiting[data-v-fd4ad91e]{\n  color: grey;\n  font-size:16px;\n}\n\n",""]),e.exports=t},5010:(e,t,r)=>{(t=r(3645)(!1)).push([e.id,'\n.formater-spatial-search.disable{\n  pointer-events: none;\n  opacity: 0.8;\n}\n.formater-spatial-search .formater-input-group {\n    border: none;\n    display:inline-block;\n     /* Default color from aeris */\n    background-color: rgba(172,220,238,0.3);\n}\ndiv[id="app"] .formater-spatial-search  form .formater-input-group input,\n.formater-spatial-search .formater-input-group input {\n     border: none;\n     background-color: transparent;\n     padding: 0 5px;\n     outline: none;\n}\n.formater-spatial-search .formater-input-group span:first-letter {\n   text-transform: uppercase;\n}\n.formater-spatial-search .formater-input-group{\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    margin: 5px 0;\n    width: 48%;\n    height: 25px;\n    line-height: 25px;\n    overflow: hidden;\n}\n.mtdt-form .formater-spatial-search .formater-input-group {\n    width:48%;\n    height:25px;\n    margin: 5px auto;\n}\n.mtdt-form .formater-spatial-search .formater-input-group input{\n  min-width: 80px;\n  max-width: 90px;\n  text-align:center;\n  padding: 0 3px;\n  margin: 0 3px;\n}\n.formater-spatial-search .formater-input-group.cardinal-left{\n   float:left;\n}\n.formater-spatial-search .formater-input-group.cardinal-right{\n   float:right;\n}\n.formater-spatial-search .formater-input-group.cardinal-left input{\n   text-align:left;\n}\n.formater-spatial-search .formater-input-group.cardinal-right input{\n   text-align:right;\n   max-width: 70%;\n}\n.formater-spatial-search .formater-input-group.cardinal-center{\n   margin:auto;\n   clear:both;\n}\n.formater-spatial-search .formater-input-group .right {\n  min-width: 25px;\n  border-right: 1px solid #fff;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  text-align: center;\n}\n.formater-spatial-search .formater-input-group .left {\n  min-width: 25px;\n  border-left: 1px solid #fff;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  text-align: center;\n}\n.formater-spatial-search .box-toolbar {\n  text-align: right;\n  display:block;\n  margin: 0 0 10px 0;\n}\n.formater-spatial-search .box-toolbar button{\n  margin-left: 3px;\n  min-width: 38px;\n  padding: 1px 6px;\n}\n',""]),e.exports=t},8565:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>O});var s=r(8023);const n={name:"GdmPaging",components:{FormaterSelect:s.aT},props:{startIndex:{type:Number,default:0},maxRecords:{type:Number,default:25},totalResults:{type:Number,default:0},count:{type:Number,default:0},lang:{type:String,default:"en"},color:{type:String,default:"#808080"}},computed:{to:function(){return this.startIndex+this.count},nbPage:function(){var e=parseInt(this.totalResults/this.maxRecords);return e+=this.totalResults%this.maxRecords>0?1:0,this.currentPage=parseInt(this.startIndex/this.maxRecords)+1,e},recordsPerPage:function(){var e={},t=this;return this.options.forEach((function(r){e[r]=r+" "+t.$t("per_page")})),e},defaultRecord:function(){return this.maxRecords}},created:function(){this.from=this.startIndex+1,this.$i18n.locale=this.lang},mounted:function(){},destroyed:function(){},data:function(){return{from:1,currentPage:1,recordPerPage:this.maxRecords,notExactly:"",options:[10,25,50,100]}},methods:{goToFirst:function(){this.currentPage=1,this.emitChange()},goToLast:function(){console.log(this.nbPage),this.currentPage=this.nbPage,this.emitChange()},handleReset:function(e){this.currentPage=1},changePage:function(e){e<0&&1===this.currentPage||e>0&&this.currentPage===this.nbPage&&!this.notExactly||(this.currentPage+=e,this.from=(this.currentPage-1)*this.recordPerPage+1,this.emitChange())},nbRecordChange:function(e){this.recordPerPage=parseInt(e),this.emitChange()},emitChange:function(){this.$emit("change",{maxRecords:this.recordPerPage,startIndex:(this.currentPage-1)*this.recordPerPage})}}};r(5123);var a=r(1900),o=r(3142);const i=r.n(o)();var l=(0,a.Z)(n,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"mtdt-paging"},[t("div",{staticStyle:{width:"100%",height:"33px","line-height":"30px","text-align":"center"}},[t("span",{class:{disabled:1===e.currentPage?"disabled":"","mtdt-navigation":!0}},[t("span",{staticClass:"fa fa-angle-double-left",style:{background:e.color},on:{click:function(t){return e.goToFirst()}}}),e._v(" "),t("span",{staticClass:"fa fa-angle-left",style:{background:e.color},on:{click:function(t){return e.changePage(-1)}}})]),e._v(" "),t("span",{staticStyle:{margin:"0 10px"},domProps:{innerHTML:e._s(e.$tc("results",e.totalResults,{from:0===e.totalResults?0:e.startIndex+1,to:e.to,notExactly:e.notExactly,count:e.totalResults}))}}),e._v("\n   ("),t("formater-select",{attrs:{name:"recordPerPage",options:e.recordsPerPage,defaut:e.defaultRecord+"",type:"associative",color:"transparent"},on:{input:e.nbRecordChange}}),e._v(")\n   "),t("span",{class:{disabled:e.notExactly||e.currentPage!==e.nbPage&&0!==e.count?"":"disabled","mtdt-navigation":!0}},[t("span",{staticClass:"fa fa-angle-right",style:{background:e.color},on:{click:function(t){return e.changePage(1)}}}),e._v(" "),t("span",{staticClass:"fa fa-angle-double-right",style:{background:e.color},on:{click:function(t){return e.goToLast()}}})])],1)])}),[],!1,null,null,null);"function"==typeof i&&i(l);const c=l.exports;var d=r(381),p=r.n(d);const u={name:"GdmSpatialSearch",props:{lang:{type:String,default:"en"},polygon:{type:String,default:null},color:{type:String,default:"#808000"}},data:function(){return{north:"",south:"",east:"",west:"",areaSelect:!1,searchEventListener:null,resetEventListener:null,patternLatitude:"[-+]?(90|([1-8]?[0-9])([.][0-9]+)?)",patternLongitude:"[-+]?(180(.0+)?|((1[0-7][0-9])|([1-9]?[0-9]))([.][0-9]+)?)"}},computed:{},watch:{polygon:function(e){this.initBounds()}},destroyed:function(){document.removeEventListener("aerisResetEvent",this.resetEventListener),this.resetEventListener=null,document.removeEventListener("aerisSearchEvent",this.searchEventListener),this.searchEventListener=null,document.removeEventListener("fmt:selectAreaChange",this.selectAreaChangeListener),this.selectAreaChangeListener=null,document.removeEventListener("fmt:drawClose",this.drawCloseListener),this.drawCloseListener=null},created:function(){this.initBounds(),this.$i18n.locale=this.lang,this.resetEventListener=this.handleReset.bind(this),document.addEventListener("aerisResetEvent",this.resetEventListener),this.searchEventListener=this.handleSearch.bind(this),document.addEventListener("aerisSearchEvent",this.searchEventListener),this.selectAreaChangeListener=this.handleBounds.bind(this),document.addEventListener("fmt:selectAreaChange",this.selectAreaChangeListener),this.drawCloseListener=this.handleDraw.bind(this),document.addEventListener("fmt:drawClose",this.drawCloseListener)},mounted:function(){this.ensureTheme()},methods:{bbox:function(){return{north:this.north,south:this.south,east:this.east,west:this.west}},initBounds:function(){if(this.polygon){var e=this.polygon.match(/(POLYGON\(\()([0-9\-,. ]+)(\)\))/);if(e.length>2){var t=e[2].split(","),r=[],s=[];t.forEach((function(e){var t=e.split(" ");s.push(parseFloat(t[0])),r.push(parseFloat(t[1]))})),this.east=Math.max.apply(Math,s),this.west=Math.min.apply(Math,s),this.north=Math.max.apply(Math,r),this.south=Math.min.apply(Math,r)}}else this.east="",this.west="",this.north="",this.south=""},validForm:function(){var e=this.$el.querySelectorAll("input"),t=!0;return e.forEach((function(e){t*=e.validity.valid})),""!==this.south&&""!==this.north&&""!==this.east&&""!==this.west||(t=!1),t},createBbox:function(){return!!this.validForm()&&[this.west,this.south,this.east,this.north].join(",")},createGeometry:function(){if(this.validForm()){var e=Math.round(1e4*this.north)/1e4,t=Math.round(1e4*this.south)/1e4,r=Math.round(1e4*this.east)/1e4,s=Math.round(1e4*this.west)/1e4,n="POLYGON(("+s+" "+e+",";return n+=r+" "+e+",",n+=r+" "+t+",",(n+=s+" "+t+",")+(s+" ")+e+"))"}return!1},validInput:function(e){if(13===e.which){var t=parseInt(e.target.dataset.index)+1,r=this.$el.querySelector('input[data-index="'+t+'"]');r&&r.focus()}},handleChange:function(e){if(!e||!e.target.validity.valid)return!1;var t=new CustomEvent("fmt:bboxChange",{detail:this.bbox()});document.dispatchEvent(t)},handleDraw:function(){if(this.areaSelect)var e=new CustomEvent("fmt:selectAreaDrawEnd",{detail:this.bbox()});else e=new CustomEvent("fmt:selectAreaDrawStart",{detail:this.bbox()});this.areaSelect=!this.areaSelect,document.dispatchEvent(e)},handleReset:function(){this.north="",this.east="",this.west="",this.south="";var e=new CustomEvent("fmt:bboxChange",{detail:this.bbox()});document.dispatchEvent(e)},handleResetLocal:function(){this.handleReset();var e=new CustomEvent("fmt:spatialChangeEvent");document.dispatchEvent(e)},handleBounds:function(e){this.north=Math.round(1e4*e.detail.north)/1e4,this.south=Math.round(1e4*e.detail.south)/1e4,this.east=Math.round(1e4*e.detail.east)/1e4,this.west=Math.round(1e4*e.detail.west)/1e4;var t=new CustomEvent("fmt:spatialChangeEvent");document.dispatchEvent(t)},handleSearch:function(e){var t=this.createGeometry(),r=this.createBbox();delete e.detail.geometry,delete e.detail.box,t&&(e.detail.geometry=t),r&&(e.detail.box=r)},ensureTheme:function(){if(this.$el&&this.$el.querySelector){var e=this.$shadeColor(this.color,.8),t=this.$el.querySelectorAll(".formater-input-group");[].forEach.call(t,(function(t){t.style.backgroundColor=e}))}}}};r(4618);var h=r(9099);const m=r.n(h)();var g=(0,a.Z)(u,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"formater-spatial-search"},[t("div",{staticClass:"box-toolbar",staticStyle:{background:"none"}},[t("button",{staticClass:"spatial-edit-button",attrs:{title:e.$t("draw")},on:{click:e.handleDraw}},[t("i",{staticClass:"fa fa-pencil-square-o"})]),e._v(" "),t("button",{staticClass:"spatial-reset-button",attrs:{title:e.$t("reset")},on:{click:e.handleResetLocal}},[t("i",{staticClass:"fa fa-remove"})])]),e._v(" "),t("form",{staticClass:"formater-spatial-search-content",attrs:{name:"formater-spatial-search"}},[t("div",{staticClass:"formater-input-group cardinal-center"},[t("span",{staticClass:"right"},[e._v(e._s(e.$t("north_symbol")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.north,expression:"north"}],attrs:{type:"text",name:"north",pattern:e.patternLatitude,title:e.$t("titleLatitude"),"data-index":"1"},domProps:{value:e.north},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.north=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"formater-input-group cardinal-left"},[t("span",{staticClass:"right"},[e._v(e._s(e.$t("west_symbol")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.west,expression:"west"}],attrs:{type:"text",name:"west",pattern:e.patternLongitude,title:e.$t("titleLongitude"),"data-index":"2"},domProps:{value:e.west},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.west=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"formater-input-group cardinal-right"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.east,expression:"east"}],attrs:{type:"text",name:"east",pattern:e.patternLongitude,title:e.$t("titleLongitude"),"data-index":"3"},domProps:{value:e.east},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.east=t.target.value)}}}),e._v(" "),t("span",{staticClass:"left"},[e._v(e._s(e.$t("east_symbol")))])]),e._v(" "),t("div",{staticClass:"formater-input-group cardinal-center"},[t("span",{staticClass:"right"},[e._v(e._s(e.$t("south_symbol")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.south,expression:"south"}],attrs:{type:"text",name:"south",pattern:e.patternLatitude,title:e.$t("titleLatitude"),"data-index":"4"},domProps:{value:e.south},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.south=t.target.value)}}})])])])}),[],!1,null,null,null);"function"==typeof m&&m(g);const f=g.exports;var v=r(59);const x={name:"GdmFormProcess",components:{FormaterTemporalSearch:s.bj,GdmSpatialSearch:f,FormaterSelect:s.aT,FormaterSearchBox:s.Wm,GdmMap:v.Z},props:{user:{type:Object,default:null},service:{type:Object,default:null},status:{type:Object,default:function(){}},groups:{type:Array,default:function(){return[]}},teams:{type:Object,default:function(){}},color:{type:String,default:"#808080"},lang:{type:String,default:"en"},featureCollection:{type:Object,default:null},parameters:{type:Object,default:function(){return{}}},back:{type:Boolean,default:!1},bbox:{type:String,default:null},height:{type:Number,default:700}},computed:{statusList:function(){var e=[];for(var t in this.status)e.indexOf(this.status[t].collection)<0&&e.push(this.status[t].collection);return e.sort(),e},team:function(){return this.parameters.team}},created:function(){this.archived=this.parameters.archived,this.$i18n.locale=this.lang,"fr"===this.lang?this.format="DD/MM/YYYY":this.format="MM/DD/YYYY"},mounted:function(){},destroyed:function(){},data:function(){return{process:{from:null,to:null,daymin:"2020-01-01",daymax:"now"},archived:!1,format:"DD/MM/YYYY",textSearch:null,dateFormat:"DD/MM/YYYY",pattern:"(0?[1-9]|[12][0-9]|3[01])/(0?[1-9]|1[012])/[0-9]{4}"}},methods:{removeFilter:function(e){this.$emit("remove",e)},backgroundColor:function(){return this.$shadeColor(this.color,.8)},date2str:function(e){return"now"===e?p()().format(this.format):p()(e).format(this.format)},str2date:function(e,t){return"now"==e?p()():p()(e,t)},dateChange:function(e){this.$emit("dateChange",e)},groupChange:function(e){"---"===e&&(e=null),this.$emit("groupChange",e)},teamChange:function(e){"---"===e&&(e=""),console.log(e),this.$emit("teamChange",e)},statusChange:function(e){"---"===e&&(e=null),this.$emit("statusChange",e)},archivedChange:function(){this.$emit("archivedChange",this.archived)},textChange:function(e){13!=e.which&&13!=e.keyCode||this.$emit("textChange",this.textSearch)},reset:function(e){this.textSearch="";var t=new CustomEvent("aerisResetEvent");document.dispatchEvent(t),this.$emit("reset")}}};r(5953);var b=r(1875);const _=r.n(b)();var y=(0,a.Z)(x,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gdm-form-process",staticStyle:{"overflow-y":"auto","overflow-x":"hidden"},style:{maxHeight:e.height+"px"}},[t("div",{staticStyle:{"text-align":"center",margin:"10px 0 30px 0"}},[t("input",{style:e.$buttonStyle(e.color),attrs:{id:"globalReset",type:"button",value:e.$t("reset")},on:{click:e.reset}})]),e._v(" "),t("div",{staticClass:"text-search",style:{background:e.backgroundColor()}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.textSearch,expression:"textSearch"}],attrs:{id:"any",name:"any",placeholder:e.$t("search")},domProps:{value:e.textSearch},on:{keypress:e.textChange,input:function(t){t.target.composing||(e.textSearch=t.target.value)}}}),t("i",{staticClass:"fa fa-search"})]),e._v(" "),t("gdm-map",{attrs:{"feature-collection":e.featureCollection,fullscreen:"fmtLargeMap"}}),e._v(" "),t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-globe","open-icon-class":"fa fa-caret-right",title:e.$t("spatial_extent"),deployed:!1,type:"empty"}},[t("gdm-spatial-search",{attrs:{lang:e.lang,color:e.color,polygon:e.parameters.bbox}})],1),e._v(" "),t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-calendar","open-icon-class":"fa fa-caret-right",title:e.$t("temporal_extent"),deployed:!1,type:"empty"}},[t("formater-temporal-search",{attrs:{name:"temp",lang:"fr",color:e.color,format:e.format,"default-from":e.parameters.tempStart,"default-to":e.parameters.tempEnd,daymin:"2014-04-03"},on:{change:e.dateChange}})],1),e._v(" "),e.groups.length>0&&e.back?t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-object-group","open-icon-class":"fa fa-caret-right",title:e.$t("service_group"),deployed:!1,type:"empty"}},[t("formater-select",{attrs:{color:e.color,options:e.groups,defaut:e.parameters.group,width:"228px"},on:{input:e.groupChange}})],1):e._e(),e._v(" "),Object.keys(e.teams).length>0?t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-users","open-icon-class":"fa fa-caret-right",title:e.$t("team"),deployed:!1,type:"empty"}},[t("formater-select",{attrs:{color:e.color,name:"team",options:e.teams,defaut:e.team,type:"associative",width:"228px"},on:{input:e.teamChange}})],1):e._e(),e._v(" "),e.back?t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-cog","open-icon-class":"fa fa-caret-right",title:"Status",deployed:!1,type:"empty"}},[e.back?t("div",[t("span",{style:{color:e.color}},[e._v(e._s(e.$t("see_archived")))]),e._v(": "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.archived,expression:"archived"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.archived)?e._i(e.archived,null)>-1:e.archived},on:{change:[function(t){var r=e.archived,s=t.target,n=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&(e.archived=r.concat([null])):a>-1&&(e.archived=r.slice(0,a).concat(r.slice(a+1)))}else e.archived=n},e.archivedChange]}})]):e._e(),e._v(" "),e.statusList.length>0?t("formater-select",{attrs:{color:e.color,options:e.statusList,defaut:e.parameters.status,width:"228px"},on:{input:e.statusChange}}):e._e()],1):e._e(),e._v(" "),t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-hourglass-end","open-icon-class":"fa fa-caret-right",title:e.$t("process_extent"),deployed:!1,type:"empty"}},[t("b",{style:{color:e.color}},[e._v(e._s(e.$t("creation")))]),e._v(" "),t("formater-temporal-search",{attrs:{name:"",lang:"fr",color:e.color,format:e.format,"default-to":e.parameters.End,"default-from":e.parameters.Start,daymin:"2020-03-01"},on:{change:e.dateChange}}),e._v(" "),t("b",{style:{color:e.color}},[e._v(e._s(e.$t("start")))]),e._v(" "),t("formater-temporal-search",{attrs:{name:"process",lang:"fr",color:e.color,format:e.format,"default-to":e.parameters.processEnd,"default-from":e.parameters.processStart,daymin:"2020-03-01"},on:{change:e.dateChange}})],1),e._v(" "),e.back?t("formater-search-box",{attrs:{color:e.color,"header-icon-class":"fa fa-filter","open-icon-class":"fa fa-caret-right",title:e.$t("filters"),deployed:!1,type:"empty"}},[t("div",{staticStyle:{"margin-left":"10px","min-height":"70px"}},[e.user||e.service?e._e():t("div",{staticStyle:{"font-style":"italic",color:"grey"}},[e._v(e._s(e.$t("no_filter")))]),e._v(" "),e.user?t("div",{staticClass:"selectedUser"},[e._v(e._s(e.user.email)),t("span",{staticClass:"fa fa-close",on:{click:function(t){return e.removeFilter("user")}}})]):e._e(),e._v(" "),e.service?t("div",{staticClass:"selectedService"},[e._v(e._s(e.service.name)),t("span",{staticClass:"fa fa-close",on:{click:function(t){return e.removeFilter("service")}}})]):e._e()])]):e._e()],1)}),[],!1,null,"6ac9b100",null);"function"==typeof _&&_(y);const w=y.exports;var C=r(5243);r(1787),C.modLat=function(e){return(e%=180)>90?e-=180:e<-90&&(e+=180),e},C.modLng=function(e){return(e%=360)>180?e-=360:e<-180&&(e+=360),e};const S={name:"GdmDrawBbox",components:{},props:{lang:{type:String,default:"en"},color:{type:String,default:"#808080"}},created:function(){this.$i18n.locale=this.lang,"fr"===this.$i18n.locale&&(C.drawLocal=r(5260)),this.drawStartListener=this.open.bind(this),document.addEventListener("fmt:selectAreaDrawStart",this.drawStartListener),document.addEventListener("fmt:selectAreaDrawStart",this.drawStartListener),this.drawEndListener=this.close.bind(this),document.addEventListener("fmt:selectAreaDrawEnd",this.drawEndListener),this.bboxChangeListener=this.selectAreaChange.bind(this),document.addEventListener("fmt:bboxChange",this.bboxChangeListener),this.mousemoveListener=this.move.bind(this),document.addEventListener("mousemove",this.mousemoveListener),this.mouseupListener=this.moveEnd.bind(this),document.addEventListener("mouseup",this.mouseupListener),this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener)},destroyed:function(){document.removeEventListener("fmt:selectAreaDrawStart",this.drawStartListener),this.drawStartListener=null,document.removeEventListener("fmt:selectAreaDrawEnd",this.drawEndListener),this.drawEndListener=null,document.removeEventListener("fmt:bboxChange",this.bboxChangeListener),this.bboxChangeListener=null,document.removeEventListener("mousemove",this.mousemoveListener),this.mousemoveListener=null,document.removeEventListener("mouseup",this.mouseupListener),this.mouseupListener=null,window.removeEventListener("resize",this.resizeListener),this.resizeListener=null,this.map&&this.map.remove()},mounted:function(){this.$el.querySelector(".mtdt-header").style.color="white",this.$el.querySelector(".mtdt-header").style.background=this.color,this.initHeight(),this.initPosition(),this.initMap()},data:function(){return{mousemoveListener:null,mouseupListener:null,resizeListener:null,drawStartListener:null,drawEndListener:null,bboxChangeListener:null,drawing:!1,map:null,boundsLayer:null,defaultBounds:[[-60,-120],[75,130]],bbox:null,drawControl:null,drawLayers:null,selected:!1,intersection:null,delta:{x:0,y:0},pos:{x:0,y:0}}},methods:{initPosition:function(){var e=(this.$el.parentNode.offsetWidth-this.$el.offsetWidth)/2;this.$el.parentNode.style.position="relative",this.$el.style.left=e+"px",this.$el.style.top="25px",this.pos.x=e,this.pos.y=this.$el.offsetTop},initHeight:function(){var e=this.$el.offsetHeight-this.$el.querySelector(".mtdt-header").offsetHeight-4;this.$el.querySelector("#fmtDraw").style.height=e+"px"},removeBoundsLayer:function(){this.boundsLayer&&(this.boundsLayer.remove(),this.boundsLayer=null,this.intersection&&(this.intersection.remove(),this.intersection=null))},initBoundsLayer:function(){this.removeBoundsLayer()},initDrawControl:function(){if(!this.drawControl){this.drawLayers=new C.FeatureGroup,this.map.addLayer(this.drawLayers),this.drawControl=new C.Control.Draw({draw:{rectangle:{shapeOptions:{color:"#ff0000"}},circlemarker:!1,circle:!1,marker:!1,polygon:!1,polyline:!1},edit:{featureGroup:this.drawLayers}}),this.drawControl.addTo(this.map);var e=this;this.map.on(C.Draw.Event.CREATED,(function(t){t.layer;var r=t.layer.getBounds();e.bbox=e.drawValidBbox(r);var s=new CustomEvent("fmt:selectAreaChange",{detail:e.bbox});document.dispatchEvent(s)})),this.map.on(C.Draw.Event.EDITED,(function(t){var r;t.layers.eachLayer((function(e){r=e.getBounds()})),e.bbox=e.drawValidBbox(r);var s=new CustomEvent("fmt:selectAreaChange",{detail:e.bbox});document.dispatchEvent(s)})),this.map.on(C.Draw.Event.DELETED,(function(t){e.bbox=e.drawValidBbox(null);var r=new CustomEvent("fmt:selectAreaChange",{detail:{north:"",south:"",east:"",west:""}});document.dispatchEvent(r)}))}},initMap:function(){if(!this.map){var e=this.$el.querySelector("#fmtDraw");this.map=C.map(e).setView([51.505,-.09],2),C.tileLayer("//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',maxZoom:18,minZoom:1}).addTo(this.map),this.initDrawControl()}},open:function(e){this.drawing=!0;var t=this;setTimeout((function(){t.initHeight(),t.initPosition(),t.map.invalidateSize(),t.selectAreaChange(e)}),5)},getBounds:function(){return this.drawLayers.getBounds()},drawEnd:function(){var e=new CustomEvent("fmt:drawClose");document.dispatchEvent(e)},selectAreaChange:function(e){var t=e.detail;if(t&&""!==t.north&&""!==t.south&&""!==t.east&&""!==t.west){for(var r in t)t[r]=parseFloat(t[r]);var s={};s.south=Math.min(t.north,t.south),s.north=Math.max(t.north,t.south),s.west=Math.min(t.east,t.west),s.east=Math.max(t.east,t.west);var n=C.latLngBounds([[s.south,s.west],[s.north,s.east]]);this.bbox=this.drawValidBbox(n);var a=new CustomEvent("fmt:selectAreaChange",{detail:this.bbox});document.dispatchEvent(a)}else this.drawLayers.clearLayers(),this.bbox=null;n||(n=this.defaultBounds),this.map.fitBounds(n,{padding:[20,20]})},close:function(e){this.drawing=!1},movestart:function(e){this.selected=!0,this.delta={x:this.pos.x-this.$el.offsetLeft,y:this.pos.y-this.$el.offsetTop}},move:function(e){this.pos.x=e.clientX,this.pos.y=e.clientY,this.selected&&(this.$el.style.left=this.pos.x-this.delta.x+"px",this.$el.style.top=this.pos.y-this.delta.y+"px")},moveEnd:function(){this.selected=!1},resize:function(e){this.initHeight(),this.map.invalidateSize()},drawValidBbox:function(e){if(this.drawLayers.clearLayers(),!e)return null;var t={north:e.getNorth(),south:e.getSouth(),east:e.getEast(),west:e.getSouthWest().lng};if(t.east>180||t.west<-180){var r=t.east-t.west;r>360?(t.east=180,t.west=-180):(t.west=C.modLng(t.west),t.west=180===t.west?-180:t.west,t.east=Math.min(t.west+r,180))}e=[[t.south,t.west],[t.north,t.east]];var s=C.rectangle(e,{color:"#ff0000"});return this.drawLayers.addLayer(s),e=this.drawLayers.getBounds(),this.map.fitBounds(e,{padding:[20,20]}),t},drawIntersection:function(){this.intersection&&(this.intersection.remove(),this.intersection=null),this.bbox&&Object.assign({},this.bbox)}}};r(8860),r(9042);var L=r(807);const E=r.n(L)();var k=(0,a.Z)(S,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.drawing,expression:"drawing"}],staticClass:"mtdt-draw-bbox"},[t("div",{staticClass:"mtdt-header"},[t("span",{staticClass:"close fa fa-close",on:{click:e.drawEnd}}),e._v(" "),t("h3",{staticStyle:{padding:"10px",margin:"0"},on:{mousedown:e.movestart}},[e._v(e._s(e.$t("draw_bbox")))])]),e._v(" "),t("div",{staticClass:"mtdt-small",attrs:{id:"fmtDraw"}})])}),[],!1,null,null,null);"function"==typeof E&&E(k);const P=k.exports;var $=r(9935);const D={name:"GdmProcessRow",components:{GdmProcessStatus:$.Z},props:{process:{type:Object,default:null},back:{type:Boolean,default:!1},group:{type:String,default:null},lang:{type:String,default:"en"},selected:{type:Number,default:null},selectedService:{type:Object,default:null},selectedTeam:{type:String,default:null},selectedUser:{type:Object,default:null},statusList:{type:Object,default:function(){}},url:{type:String,default:null},userId:{type:Number,default:null}},computed:{canRemove:function(){return!(!this.back&&this.userId!==parseInt(this.process.properties.userId))&&["DEBUG","PRE-RUN","RUNNING","ACCEPTED"].indexOf(this.process.properties.status)<0}},data:function(){return{dateFormat:"YYYY-MM-DD hh:mm:ss",dateFormatDisplay:"DD/MM/YYYY"}},created:function(){this.$i18n.locale=this.lang,p().locale(this.lang),"en"===this.lang?this.dateFormatDisplay="MM/DD/YYYY":this.dateFormatDisplay="DD/MM/YYYY"},methods:{printDate:function(e,t){return t?p()(e,this.dateFormat).format(this.dateFormatDisplay+" HH:mm"):p()(e,this.dateFormat).format(this.dateFormatDisplay)},highlight:function(){this.$emit("highlight",this.process.properties.id)},remove:function(e){this.$emit("removeProcess",this.process.properties.id),e.stopPropagation()},selectProcess:function(){this.$emit("selectProcess",this.process.properties.id)},selectService:function(e){this.$emit("selectService",{id:this.process.properties.serviceId,name:this.process.properties.serviceName}),e.stopPropagation()},selectTeam:function(e){this.$emit("selectTeam",this.process.properties.team),e.stopPropagation()},selectUser:function(e){this.$emit("selectUser",{id:this.process.properties.userId,email:this.process.properties.email}),e.stopPropagation()}}};r(2021);var I=r(7088);const R=r.n(I)();var z=(0,a.Z)(D,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gdm-process-row",class:{selected:e.selected===parseInt(e.process.properties.id)},on:{mouseenter:function(t){return e.highlight()},click:function(t){return e.selectProcess()}}},[t("div",{staticClass:"gdm-process-identifier"},[e._v("  "+e._s(e.process.properties.id.toString().padStart(5,"0"))),e.process.properties.token?t("span",[e._v("-"+e._s(e.process.properties.token))]):e._e(),e._v(" "),e.process.properties.processusName?t("span",[e._v(e._s(e.process.properties.processusName))]):e._e()]),e._v(" "),t("div",{staticClass:"gdm-process-column-1"},[t("div",{staticClass:"toSelect",class:{selected:e.selectedService},on:{click:function(t){return e.selectService(t)}}},[e._v("\n\t      "+e._s(e.process.properties.serviceName)+"\n\t   ")]),e._v(" "),e.userId&&(e.back||["MNS","DSM"].indexOf(e.group)<0)?t("div",[e._v(e._s(e.process.properties.email))]):t("div",[t("div",{staticClass:"toSelect",class:{selected:e.selectedUser},on:{click:function(t){return e.selectUser(t)}}},[e._v("\n\t          "+e._s(e.process.properties.email)+"\n\t       ")])]),e._v(" "),e.process.properties.team?t("div",{staticClass:"toSelect short",class:{selected:e.selectedTeam===e.process.properties.team},on:{click:function(t){return e.selectTeam(t)}}},[e._v("\n\t          "+e._s(e.process.properties.team)+"\n\t   ")]):e._e()]),e._v(" "),t("div",{staticClass:"gdm-process-column-2"},[t("gdm-process-status",{attrs:{status:e.process.properties.status,"status-list":e.statusList,progress:e.process.properties.progress,lang:e.lang}}),e._v(" "),t("div",[e.url?t("a",{staticClass:"button",attrs:{href:e.url+e.process.properties.id}},[e._v(e._s(e.$t("consult")))]):e._e()]),e._v(" "),t("div",{staticStyle:{position:"relative"}},[!e.back&&"SAR"!==e.group||"RUNNING"!==e.process.properties.status&&"FAILED"!==e.process.properties.status?e._e():t("i",{staticClass:"gdm-log fa fa-question-circle"}),e._v(" "),t("div",{staticClass:"gdm-tooltip"},[t("span",[e._v(e._s(e.process.properties.progress)+" %")]),e._v(" "),e.process.properties.log?t("div",[e._v(e._s(e.process.properties.log))]):e._e()])])],1),e._v(" "),t("div",{staticClass:"gdm-process-column-3"},[t("div",[t("b",[e._v(e._s(e.$t("created"))+": ")]),e._v(" "),t("span",{staticStyle:{"white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.start,!0))+"\n           ")])]),e._v(" "),["TERMINATED","RUNNING","FAILED","ABORTED","PURGED"].indexOf(e.process.properties.status)>=0?t("div",[t("div",[t("b",[e._v(e._s(e.$t("start"))+": ")]),e._v(" "),t("span",{staticStyle:{"white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.processStart,!0))+"\n             ")])]),e._v(" "),t("div",[t("b",[e._v(e._s(e.$t("end"))+":")]),e._v(" "),e.process.properties.processEnd?t("span",{staticStyle:{"white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.processEnd,!0))+"\n             ")]):t("span",{staticStyle:{color:"grey","white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.end,!0))+"\n             ")])])]):e._e(),e._v(" "),t("div",{staticStyle:{position:"relative"}},[!e.process.properties.keep&&e.process.properties.datePurge&&"TERMINATED"===e.process.properties.status?t("span",{staticClass:"date-purge"},[t("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" "),t("b",[e._v("Purge: ")]),e._v(e._s(e.printDate(e.process.properties.datePurge))+"\n\t         ")]):e._e(),e._v(" "),t("div",{staticClass:"gdm-tooltip"},[e._v(e._s(e.$t("clear_data")))])])]),e._v(" "),t("div",{staticClass:"gdm-process-column-4"},[e._v("\n         "+e._s(e.printDate(e.process.properties.temporalExtent[0]))+"\n          "),"DEM"!==e.group?t("span",[t("b",[e._v("→")]),e._v("\n             "+e._s(e.printDate(e.process.properties.temporalExtent[1]))+"\n          ")]):e._e()]),e._v(" "),t("div",{staticClass:"gdm-process-column-5"},[t("div",{staticClass:"infos"},[e._l(["provider","position"],(function(r){return t("div",[e.process.properties[r]?t("div",e._l(e.process.properties[r],(function(r,s){return"bbox"!==s&&"providerName"!==s&&r?t("div",[t("div",[t("b",[e._v(e._s(e.$t(s))+":")]),e._v(" "+e._s(r))])]):e._e()})),0):e._e()])})),e._v(" "),e._l(["sub_swath","relative_orbit"],(function(r){return t("div",[e.process.properties.parameters.hasOwnProperty(r)?t("div",[t("b",[e._v(e._s(e.$hypens2camel(r))+":")]),e._v(" "+e._s(e.process.properties.parameters[r]))]):e._e()])}))],2)]),e._v(" "),t("div",{staticClass:"gdm-process-column-6"},[t("div",{staticClass:"infos"},[e.process.properties.parameters&&Object.keys(e.process.properties.parameters).length<5?t("div",e._l(e.process.properties.parameters,(function(r,s){return t("div",[t("div",[t("b",[e._v(e._s(e.$t(s))+" :")]),e._v(" "+e._s(r))])])})),0):e._e(),e._v(" "),t("div",[e._l(["atmo","rlooks_int","rlooks_unw"],(function(r){return t("div",[e.process.properties.parameters.hasOwnProperty(r)?t("div",[t("b",[e._v(e._s(e.$hypens2camel(r))+":")]),e._v(" "+e._s(e.process.properties.parameters[r]))]):e._e()])})),e._v(" "),e._l(["correl_split_date","correl_input_mode","correl_correlator","do_analysis","do_correction_filtering"],(function(r){return t("div",[e.process.properties.parameters.hasOwnProperty(r)?t("div",[t("b",[e._v(e._s(e.$hypens2camel(r))+":")]),e._v(" "+e._s(e.process.properties.parameters[r]))]):e._e()])})),e._v(" "),e._l(["dsmopt_default_correlation","dsmopt_use_roi","dsmopt_roi_sizex","dsmopt_roi_sizey"],(function(r){return t("div",[e.process.properties.parameters.hasOwnProperty(r)?t("div",[t("b",[e._v(e._s(e.$t(r))+":")]),e._v(" "+e._s(e.process.properties.parameters[r]))]):e._e()])})),e._v(" "),e._l(["aspy_input_mode","aspy_run_stereo_pipeline","aspy_output_epsg","aspy_output_res_factor"],(function(r){return t("div",[e.process.properties.parameters.hasOwnProperty(r)?t("div",[t("b",[e._v(e._s(e.$t(r))+":")]),e._v(" "+e._s(e.process.properties.parameters[r]))]):e._e()])}))],2)])]),e._v(" "),t("div",{staticClass:"gdm-process-column-7"},[e.canRemove?t("div",[t("span",{staticClass:"fa fa-close",attrs:{title:e.$t("remove_process")},on:{click:function(t){return e.remove(t)}}})]):e._e()])])}),[],!1,null,null,null);"function"==typeof R&&R(z);const A=z.exports;function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var F=function(e){var t,r=new URLSearchParams(e),s={},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(r.keys());try{for(n.s();!(t=n.n()).done;){var a=t.value;r.getAll(a).length>1?s[a]=r.getAll(a):s[a]=r.get(a)}}catch(e){n.e(e)}finally{n.f()}return s};const N={name:"GdmProcessSearch",components:{GdmPaging:c,GdmFormProcess:w,GdmProcessRow:A,GdmDrawBbox:P,GdmProcessStatus:$.Z},props:{api:{type:String,default:null},url:{type:String,default:null},lang:{type:String,default:"fr"},group:{type:String,default:null},what:{type:String,default:"process"},userId:{type:Number,default:null},roles:{type:String|Array,default:""},color:{type:String,default:"#808080"},example:{type:Boolean,value:!1},back:{type:Boolean,default:!1}},computed:{teams:function(){var e=[];e="string"==typeof this.roles||this.roles instanceof String?this.roles.split(","):this.roles;var t={};return e.length>0&&(t[0]="---",t.no=this.$i18n.t("no_team"),e.forEach((function(e){t[e]=e}))),t},idUser:function(){return this.$store?this.$store.getters["user/id"]:this.userId}},watch:{$route:function(e){this.extractRouteParams();var t=e.fullPath.substring(e.fullPath.indexOf("?"));this.search(t)}},data:function(){return{dateFormat:"YYYY-MM-DD hh:mm:ss",dateFormatDisplay:"DD/MM/YYYY",featureCollection:{},pagination:{startIndex:0,maxRecords:25,totalResults:null},listHeight:700,height:700,statusList:{},groups:[],spatialChangeListener:null,selectProcessLayerListener:null,resizeListener:null,popListener:null,selectedProcessId:null,order:{temporal:1,date:-1,processStart:1},orderBy:"date",parameters:{user:null,service:null,status:null,Start:null,End:null,tempStart:null,tempEnd:null,q:null,bbox:null,group:null,team:"0",order:"start DESC"},defaultValues:{status:null},timer:null}},created:function(){this.group||this.searchGroups(),this.spatialChangeListener=this.spatialChange.bind(this),document.addEventListener("fmt:spatialChangeEvent",this.spatialChangeListener),this.selectProcessLayerListener=this.selectedLayerChange.bind(this),document.addEventListener("gdm:selectProcessLayer",this.selectProcessLayerListener),this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener),this.mapListener=this.resize.bind(this),document.addEventListener("mapNodeChange",this.mapListener),this.launchUrl=this.api.substr(0,this.api.indexOf("api")),this.$i18n.locale=this.lang;var e="";this.$route?this.extractRouteParams():(this.popListener=this.stateChange.bind(this),window.addEventListener("popstate",this.popListener),this.extractParams(window.location.href),e=this.buildQuery()),this.search(e)},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.popListener&&(window.removeEventListener("popstate",this.popListener),this.popListener=null),document.removeEventListener("fmt:spatialChangeEvent",this.spatialChangeListener),this.spatialChangeListener=null,document.removeEventListener("gdm:selectProcessLayer",this.selectProcessLayerListener),this.selectProcessLayerListener=null,window.removeEventListener("resize",this.resizeListener),this.resizeListener=null},mounted:function(){this.resize()},methods:{stateChange:function(){this.extractParams(window.location.href);var e=this.buildQuery();this.search(e)},changeQuery:function(){var e=this.buildQuery();if(this.$router){var t=this.$route;console.log(t),this.$router.push({name:t.name,params:t.params,query:F(e)})}else{var r=new URL(window.location.href);r.search=e,window.history.pushState&&r.search!==window.location.search&&(window.history.pushState({path:r.href,query:e},"",r.href),this.search(e))}},buildQuery:function(){var e="?maxRecords="+this.pagination.maxRecords+"&index="+this.pagination.startIndex;this.parameters.user&&!this.userId&&(e+="&userId="+this.parameters.user.id),this.userId&&(e+="&userId="+this.userId),this.parameters.service&&(e+="&serviceId="+this.parameters.service.id),this.parameters.status&&(e+="&status="+this.parameters.status),this.parameters.any&&(e+="&any="+this.parameters.any),this.parameters.bbox&&(e+="&bbox="+this.parameters.bbox),this.parameters.group&&!this.group&&(e+="&group="+this.parameters.group),this.parameters.archived&&(e+="&archived=1"),this.parameters.team&&"0"!==this.parameters.team&&(e+="&team="+this.parameters.team),this.parameters.order&&(e+="&order="+encodeURIComponent(this.parameters.order));var t=this;return["Start","End","tempStart","tempEnd","processStart","processEnd"].forEach((function(r){t.parameters[r]&&"Invalid date"!=t.parameters[r]&&(e+="&"+r.charAt(0).toLowerCase()+r.slice(1)+"="+t.parameters[r])})),e},extractRouteParams:function(){var e="https://localhost"+this.$route.fullPath.substring(this.$route.fullPath.indexOf("?"));this.extractParams(e)},extractParams:function(e){var t=new URL(e),r=t.searchParams.get("maxRecords");r&&this.$set(this.pagination,"maxRecords",parseInt(r));var s=t.searchParams.get("index");s&&this.$set(this.pagination,"startIndex",parseInt(s));var n=t.searchParams.get("userId");n&&!this.userId?this.parameters.user={id:parseInt(n),email:"User "+n}:this.parameters.user=null;var a=t.searchParams.get("serviceId");this.parameters.service=a?{id:parseInt(a),name:"Service "+a}:null;var o=t.searchParams.get("status");this.parameters.status=o||null;var i=t.searchParams.get("team");if(i?this.$set(this.parameters,"team",i):this.$set(this.parameters,"team","0"),!this.groupId){var l=t.searchParams.get("group");this.parameters.group=l||null}var c=t.searchParams.get("archived");c&&(this.parameters.archived=c);var d=t.searchParams.get("order");if(d){this.parameters.order=decodeURIComponent(d);var p=this.parameters.order.split(", ")[0],u=this,h=p.split(" ");switch(h[0]){case"start":u.order.date="ASC"===h[1]?1:-1,u.orderBy="date";break;case"tempStart":u.order.temporal="ASC"===h[1]?1:-1,u.orderBy="temporal";break;case"processStart":u.order.processStart="ASC"===h[1]?1:-1,u.orderBy="processStart"}}u=this,["Start","End","tempStart","tempEnd","processStart","processEnd"].forEach((function(e){var r=e.charAt(0).toLowerCase()+e.slice(1),s=t.searchParams.get(r);u.parameters[e]=s||""}));var m=t.searchParams.get("bbox");this.parameters.bbox=m||null},search:function(e){var t=this,r={"Accept-Language":this.lang};this.group&&(r.groupKey=this.group);var s=this.api+this.what;this.userId&&this.back&&(e+="&userId="+this.userId),this.example&&(e+="&example=1"),this.groupId&&(e+="&group="+this.groupId),s+=e,this.$http.get(s,{credentials:!0,headers:r}).then((function(e){return t.display(e)}),(function(e){return t.error(e)}))},searchGroups:function(){var e=this;this.$http.get(this.api+"groups?short=1",{credentials:!0}).then((function(t){return e.groups=t.body}),(function(e){return console.log("error getGroups")}))},orderChange:function(e){switch(e){case"date":this.order.date=-1*this.order.date,this.orderBy="date",this.parameters.order="start "+(this.order.date>0?"ASC":"DESC");break;case"temporal":this.order.temporal=-1*this.order.temporal,this.orderBy="temporal",this.parameters.order="tempStart "+(this.order.temporal>0?"ASC":"DESC");break;case"processStart":this.order.processStart=-1*this.order.processStart,this.orderBy="processStart",this.parameters.order="processStart "+(this.order.processStart>0?"ASC":"DESC")}this.changeQuery()},archivedChange:function(e){e?this.parameters.archived=e:delete this.parameters.archived,this.changeQuery()},teamChange:function(e){this.parameters.team=e||"",this.changeQuery()},dateChange:function(e){var t=e.name.replace("from","Start").replace("to","End");this.parameters[t]=e.value,this.changeQuery()},display:function(e){var t=e.body.properties;this.pagination={startIndex:t.startIndex,totalResults:t.totalResults,maxRecords:t.itemsPerPage,count:e.body.features.length},Object.keys(this.statusList).length<=1&&(this.statusList=e.body.properties.status),this.featureCollection=e.body},error:function(e){switch(this.pagination={startIndex:0,totalResults:0,maxRecords:25,count:0},this.featureCollection={},e.status){case 403:console.log("Accès interdit, déconnecté?"),alert(this.$i18n.t("forbidden"));break;case 401:console.log("Vous n'avez pas les droits suffisants!"),alert(this.$i18n.t("unauthorized"))}},highlight:function(e){document.querySelectorAll(".gdm-process-search .highlight").forEach((function(e){e.classList.remove("highlight")})),document.querySelectorAll(".row"+e).forEach((function(e){e.classList.add("highlight")}));var t=new CustomEvent("gdm:processHighlight",{detail:{id:e}});document.dispatchEvent(t)},pageChange:function(e){this.pagination=e,this.changeQuery()},printDate:function(e,t){return t?p()(e,this.dateFormat).format(this.dateFormatDisplay+" HH:mm"):p()(e,this.dateFormat).format(this.dateFormatDisplay)},removeProcess:function(e){var t=this,r=this.api+"process/"+e;this.$http.delete(r,{credentials:!0}).then((function(e){t.search("")}))},removeSelected:function(e){this.parameters[e]=null,this.changeQuery()},reset:function(){for(var e in this.selectProcess(null),this.parameters)this.parameters[e]=null;this.changeQuery()},resize:function(){if(this.$el&&this.$el.querySelector){var e=this.$el.querySelector("#fmtLargeMap").offsetHeight;this.height=window.innerHeight-65,this.listHeight=this.height-e-32}},restart:function(e,t){var r=this;t.stopPropagation();var s=this.launchUrl+"api/restart/"+e;this.$http.get(s,{credentials:!0}).then((function(e){r.search()}))},selectedLayerChange:function(e){var t=e.detail.id;this.selectProcess(t)},selectProcess:function(e){var t=this.selectedProcessId;document.querySelectorAll(".gdm-process-search .selected").forEach((function(e){e.classList.remove("selected")})),parseInt(e)!==t?(document.querySelectorAll(".row"+e).forEach((function(e){e.classList.add("selected")})),this.selectedProcessId=parseInt(e)):this.selectedProcessId=null;var r=new CustomEvent("gdm:processSelect",{detail:{id:e}});document.dispatchEvent(r)},selectService:function(e){this.parameters.service&&this.parameters.service.id===e.id?this.parameters.service=null:this.parameters.service=e,this.changeQuery()},selectTeam:function(e){this.parameters.team&&this.parameters.team===e?this.parameters.team="0":this.parameters.team=e,this.changeQuery()},selectUser:function(e){this.parameters.user&&this.parameters.user.id===e.id?this.parameters.user=null:this.parameters.user=e,this.changeQuery()},groupChange:function(e){this.parameters.group=e,this.changeQuery()},spatialChange:function(e){var t=new CustomEvent("aerisSearchEvent",{detail:{}});document.dispatchEvent(t),t.detail.geometry?this.parameters.bbox=t.detail.geometry:this.parameters.bbox=null,this.changeQuery()},statusChange:function(e){this.parameters.status=e,this.changeQuery()},textChange:function(e){this.parameters.any=e?encodeURIComponent(e):null,this.changeQuery()}}};r(5406),r(7212);var T=r(1189);const B=r.n(T)();var Y=(0,a.Z)(N,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"gdm-process-search"},[t("gdm-draw-bbox",{attrs:{lang:e.lang,color:e.color}}),e._v(" "),t("div",{staticClass:"gdm-wrapper"},[t("div",{staticClass:"column-left"},[t("gdm-form-process",{attrs:{lang:e.lang,status:e.statusList,groups:e.groups,"feature-collection":e.featureCollection,color:e.color,user:e.parameters.user,service:e.parameters.service,height:e.height,back:e.back,parameters:e.parameters,teams:e.teams},on:{remove:e.removeSelected,dateChange:e.dateChange,statusChange:e.statusChange,groupChange:e.groupChange,teamChange:e.teamChange,textChange:e.textChange,archivedChange:e.archivedChange,reset:e.reset}})],1),e._v(" "),t("div",{staticClass:"column-right"},[t("div",{staticStyle:{width:"calc(100%)"},attrs:{id:"fmtLargeMap"}}),e._v(" "),e.featureCollection.features&&0!==e.featureCollection.features.length?t("div",[t("gdm-paging",{attrs:{"start-index":e.pagination.startIndex,"max-records":e.pagination.maxRecords,count:e.pagination.count,color:e.color,"total-results":e.pagination.totalResults,lang:e.lang},on:{change:e.pageChange}}),e._v(" "),t("div",{staticClass:"gdm-process-header",style:{background:e.$shadeColor(e.color,.8)}},[t("div",{staticClass:"gdm-process-header-column-1"},[e._v(e._s(e.$t("identifiers")))]),e._v(" "),t("div",{staticClass:"gdm-process-header-column-2"},[e._v(e._s(e.$t("status")))]),e._v(" "),t("div",{staticClass:"gdm-process-header-column-3"},[e._v("\n            "+e._s(e.$t("process_dates"))),t("br"),e._v(" "),t("span",{staticClass:"fa-button",on:{click:function(t){return e.orderChange("date")}}},[e._v("\n                "+e._s(e.$t("creation"))+" \n                "),t("i",{staticClass:"fa",class:{"fa-long-arrow-down":1===e.order.date,"fa-long-arrow-up":1!=e.order.date,unactive:"date"!=e.orderBy},staticStyle:{display:"inline-block"}})]),e._v(" "),t("span",{staticClass:"fa-button",staticStyle:{display:"inline-block"},on:{click:function(t){return e.orderChange("processStart")}}},[e._v("\n                "+e._s(e.$t("start"))+"\n                "),t("i",{staticClass:"fa",class:{"fa-long-arrow-down":1===e.order.processStart,"fa-long-arrow-up":1!=e.order.processStart,unactive:"processStart"!=e.orderBy}})])]),e._v(" "),t("div",{staticClass:"gdm-process-header-column-4"},[t("span",{staticClass:"fa-button",staticStyle:{display:"inline-block"},on:{click:function(t){return e.orderChange("temporal")}}},["MNS"===e.group?t("span",{domProps:{innerHTML:e._s(e.$t("image_dates",{class:1===e.order.temporal?"fa-long-arrow-down":"fa-long-arrow-up",active:"temporal"!=e.orderBy?"unactive":""}))}}):t("span",{domProps:{innerHTML:e._s(e.$t("temporal_extent",{class:1===e.order.temporal?"fa-long-arrow-down":"fa-long-arrow-up",active:"temporal"!=e.orderBy?"unactive":""}))}})])]),e._v(" "),t("div",{staticClass:"gdm-process-header-column-5"},[e._v(e._s(e.$t("parameters")))])]),e._v(" "),t("div",{staticStyle:{border:"1px solid lightgrey",overflow:"auto"},style:{height:e.listHeight+"px"},on:{mouseleave:function(t){return e.highlight(null)}}},e._l(e.featureCollection.features,(function(r,s){return e.featureCollection?t("gdm-process-row",{key:s,attrs:{process:r,selected:e.selectedProcessId,back:e.back,"selected-service":e.parameters.service,"user-id":e.idUser,"selected-team":e.parameters.team,"selected-user":e.parameters.user,"status-list":e.statusList,url:e.url,group:e.group,lang:e.lang},on:{selectService:e.selectService,selectTeam:e.selectTeam,selectUser:e.selectUser,highlight:e.highlight,selectProcess:e.selectProcess,removeProcess:e.removeProcess}}):e._e()})),1)],1):t("div",{staticClass:"message"},[e._v("\n        "+e._s(e.$t("no_process"))+"\n     ")])])])],1)}),[],!1,null,"210c06f5",null);"function"==typeof B&&B(Y);const O=Y.exports},9935:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});const s={name:"GdmProcessStatus",props:{status:{type:String,default:"WAITING"},statusList:{type:Object,default:function(){}},lang:{type:String,default:"en"},progress:{type:String|Number,default:0},size:{type:String,default:"small"}},data:function(){return{}},computed:{title:function(){return"RUNNING"===this.status?this.progress+"%":this.statusList[this.status].description}},destroyed:function(){},created:function(){this.$i18n.locale=this.lang},mounted:function(){},methods:{}};r(291);var n=r(1900),a=r(5514);const o=r.n(a)();var i=(0,n.Z)(s,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"text-align":"center",cursor:"pointer"},attrs:{title:e.title}},[t("span",{class:e.statusList[e.status].icon}),e._v(" "),t("div",{staticStyle:{"font-style":"italic","font-size":"0.9rem",color:"grey","margin-bottom":"5px"}},[e._v("\n     "+e._s(e.statusList[e.status].collection)+"\n   ")])])}),[],!1,null,"fd4ad91e",null);"function"==typeof o&&o(i);const l=i.exports},5123:(e,t,r)=>{var s=r(5566);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("5ac617c1",s,!0,{})},5406:(e,t,r)=>{var s=r(3604);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("25fed0d3",s,!0,{})},7212:(e,t,r)=>{var s=r(961);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("5662e4c7",s,!0,{})},9042:(e,t,r)=>{var s=r(9399);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("90fdf30e",s,!0,{})},5953:(e,t,r)=>{var s=r(9211);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("9a941096",s,!0,{})},2021:(e,t,r)=>{var s=r(8485);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("eaffdace",s,!0,{})},291:(e,t,r)=>{var s=r(7714);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("784deba5",s,!0,{})},4618:(e,t,r)=>{var s=r(5010);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),(0,r(5346).Z)("8bdbb90e",s,!0,{})}}]);
//# sourceMappingURL=565.gdm-search-components-vjs.js.map