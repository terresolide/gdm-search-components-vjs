(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{207:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"results":"Results: {from} to {to} among {notExactly}{count}","title":"Title","relevance":"Relevance","per_page":"per page","changeDate":"Update","sortBy":"Sort by"},"fr":{"results":"Résultats: <strong>{from}</strong> à <strong>{to}</strong> sur {notExactly}{count}","title":"Titre","relevance":"Pertinence","changeDate":"Mise à jour","sortBy":"Trier par","per_page":"par page"}}'),delete e.options._Ctor}},208:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"north_symbol":"N","east_symbol":"E","south_symbol":"S","west_symbol":"W","reset":"Reset","draw":"Draw","titleLatitude":"Latitude must be a number between -90° and 90° (ex: 65.3)","titleLongitude":"Longitude must be a number between -180° and 180° (ex: -110.3)"},"fr":{"north_symbol":"N","east_symbol":"E","south_symbol":"S","west_symbol":"O","reset":"Initialiser","draw":"Dessiner","titleLatitude":"La latitude doit être un nombre compris entre -90° et 90° (ex: 65.3)","titleLongitude":"La longitude doit être comprise entre -180° et 180° (ex: -110.3)"}}'),delete e.options._Ctor}},210:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"process_extent":"Process Dates","temporal_extent":"Temporal Extent","spatial_extent":"Spatial Extent","filters":"Filters","no_filter":"No filter","reset":"Reset","search":"Search","see_archived":"See archived jobs","service_group":"Service group"},"fr":{"process_extent":"Dates du calcul","temporal_extent":"Etendue temporelle","spatial_extent":"Etendue spatiale","filters":"Filtres","no_filter":"Aucun filtre","reset":"Intialiser","search":"Rechercher","see_archived":"Voir les jobs archivés","service_group":"Groupe de services"}}'),delete e.options._Ctor}},211:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"draw_bbox":"Draw a bounding box"},"fr":{"draw_bbox":"Dessiner / Modifier les limites sur la carte"}}'),delete e.options._Ctor}},213:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"clear_data":"All results will be deleted on this date","created":"Created","consult":"Consult","end":"Job end","remove_process":"Remove the job","start":"Job start"},"fr":{"clear_data":"Tous les résultats seront effacés à cette date","created":"Création","consult":"Consulter","end":"Fin","remove_process":"Supprimer le job","start":"Début"}}'),delete e.options._Ctor}},214:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"en":{"process_dates":"Job information","identifiers":"Identifiers","image_dates":"Date of images","temporal_extent":"Temporal extent","parameters":"Parameters","no_process":"No process","unauthorized":"Access Unauthorized","forbidden":"Access Forbidden: deconnected?"},"fr":{"process_dates":"Job information","identifiers":"Identifiants","image_dates":"Date des images","temporal_extent":"Etendue temporelle","parameters":"Paramètres","no_process":"Aucun calcul","unauthorized":"Accès non autorisé à cette ressource","forbidden":"Access interdit: deconnecté?"}}'),delete e.options._Ctor}},225:function(e,t,n){var r=n(256);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("4957c29a",r,!0,{})},226:function(e,t,n){var r=n(259);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("5dff11da",r,!0,{})},233:function(e,t,n){var r=n(284);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("da8c0d2a",r,!0,{})},235:function(e,t,n){var r=n(294);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("e847b7e8",r,!0,{})},237:function(e,t,n){var r=n(300);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("007af5ea",r,!0,{})},238:function(e,t,n){var r=n(303);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("25b3b6b2",r,!0,{})},239:function(e,t,n){var r=n(305);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(3).default)("11308aba",r,!0,{})},255:function(e,t,n){"use strict";n(225)},256:function(e,t,n){(t=n(2)(!1)).push([e.i,"\n.mtdt-paging span.mtdt-navigation span{\n  font-size: 1.3em;\n  cursor: pointer;\n  margin: 0 1px;\n  padding:5px;\n cursor:pointer;\n border-radius:3px;\n /*background:#8c0209;*/\n background:grey;\n padding:3px 5px;\n color:white;\n  vertical-align:middle;\n  opacity:0.9;\n}\n.mtdt-paging span.mtdt-navigation.disabled span{\n  opacity:0.3;\n  cursor:not-allowed;\n}\n.mtdt-paging span.mtdt-navigation:not(.disabled) span:hover{\n  opacity:1;\n  font-size:1.31em;\n}\n.mtdt-paging .formater-select:not(.formater-multiple) select {\n  padding: .3em 2.5em .5em .5em;\n}\n\n",""]),e.exports=t},257:function(e,t,n){"use strict";var r=n(207),s=n.n(r);t.default=s.a},258:function(e,t,n){"use strict";n(226)},259:function(e,t,n){(t=n(2)(!1)).push([e.i,'\n.formater-spatial-search.disable{\n  pointer-events: none;\n  opacity: 0.8;\n}\n.formater-spatial-search .formater-input-group {\n    border: none;\n    display:inline-block;\n     /* Default color from aeris */\n    background-color: rgba(172,220,238,0.3);\n}\ndiv[id="app"] .formater-spatial-search  form .formater-input-group input,\n.formater-spatial-search .formater-input-group input {\n     border: none;\n     background-color: transparent;\n     padding: 0 5px;\n     outline: none;\n}\n.formater-spatial-search .formater-input-group span:first-letter {\n   text-transform: uppercase;\n}\n.formater-spatial-search .formater-input-group{\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    margin: 5px 0;\n    width: 48%;\n    height: 25px;\n    line-height: 25px;\n    overflow: hidden;\n}\n.mtdt-form .formater-spatial-search .formater-input-group {\n    width:48%;\n    height:25px;\n    margin: 5px auto;\n}\n.mtdt-form .formater-spatial-search .formater-input-group input{\n  min-width: 80px;\n  max-width: 90px;\n  text-align:center;\n  padding: 0 3px;\n  margin: 0 3px;\n}\n.formater-spatial-search .formater-input-group.cardinal-left{\n   float:left;\n}\n.formater-spatial-search .formater-input-group.cardinal-right{\n   float:right;\n}\n.formater-spatial-search .formater-input-group.cardinal-left input{\n   text-align:left;\n}\n.formater-spatial-search .formater-input-group.cardinal-right input{\n   text-align:right;\n   max-width: 70%;\n}\n.formater-spatial-search .formater-input-group.cardinal-center{\n   margin:auto;\n   clear:both;\n}\n.formater-spatial-search .formater-input-group .right {\n  min-width: 25px;\n  border-right: 1px solid #fff;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  text-align: center;\n}\n.formater-spatial-search .formater-input-group .left {\n  min-width: 25px;\n  border-left: 1px solid #fff;\n  box-sizing: border-box;\n  display: block;\n  height: 100%;\n  text-align: center;\n}\n.formater-spatial-search .box-toolbar {\n  text-align: right;\n  display:block;\n  margin: 0 0 10px 0;\n}\n.formater-spatial-search .box-toolbar button{\n  margin-left: 3px;\n  min-width: 38px;\n  padding: 1px 6px;\n}\n',""]),e.exports=t},260:function(e,t,n){"use strict";var r=n(208),s=n.n(r);t.default=s.a},283:function(e,t,n){"use strict";n(233)},284:function(e,t,n){(t=n(2)(!1)).push([e.i,'\n.gdm-form-process[data-v-69c53c95] {\n  margin-bottom: 0px;\n  min-height: 20px;\n  padding: 0px 0px 0px 0px;\nborder: 1px solid #ccc;\nbox-shadow: 1px 1px 1px 2px rgba(0, 0, 0, 0.1);\n}\n.gdm-form-process h3[data-v-69c53c95] {\n  margin-top:0;\n}\n.gdm-form-process .formater-search-box[data-v-69c53c95] {\n    margin: 5px 0;\n    width: 100%;\n    box-shadow: 0 2px 5px -5px rgba(0, 0, 0, 0.2);\n}\n.gdm-form-process .formater-search-box .content[data-v-69c53c95]{\n    margin: 0;\n}\n.gdm-form-process .fa-close[data-v-69c53c95]{\n  color: darkred;\n  margin-left:10px;\n  cursor:pointer;\n  vertical-align:top;\n}\n.gdm-form-process div.selectedUser[data-v-69c53c95],\n.gdm-form-process div.selectedService[data-v-69c53c95]{\n  float:left;\n  padding: 3px;\n  margin: 0px 5px 5px 0px;\n  background: #F0f0f0;\n  border: 1px solid grey;\n  border-radius:2px;\n}\n.gdm-form-process .text-search[data-v-69c53c95] {\n  margin: 10px;\nwidth: calc(100% - 20px);\n}\n.gdm-form-process input[name="any"][data-v-69c53c95] {\n   line-height: 35px;\n   height: 35px;\n   width: calc(100% - 40px);\n   border: none;\n   background-color: transparent;\n   padding: 0 10px;\n   outline: none;\n}\n.gdm-form-process input#globalReset[data-v-69c53c95] {\n  margin: 0 0 3px 7px;\n  padding: 3px 12px;\n  text-align: center;\n  border-radius: 1px;\n  font-size: 16px;\n  line-height: 1.7;\n  border:1px solid #393933;\n  background-color: #808080;\n  color: #fff;\n  cursor: pointer;\n  text-decoration:none;\n  pointer-events: auto;\n  box-sizing: border-box;\n  box-shadow: 0 1px 5px rgba(0,0,0,.65);\n  opacity:0.8;\n}\n.gdm-form-process input#globalReset[data-v-69c53c95]:hover{\n  opacity:1;\n    text-decoration:none;\n     outline: none;\n}\n.gdm-form-process input#globalReset[data-v-69c53c95]:active,\n.gdm-form-process input#globalReset[data-v-69c53c95]:visited,\n.gdm-form-process input#globalReset[data-v-69c53c95]:focus,\n.gdm-form-process input#globalReset[data-v-69c53c95]::-moz-focus-inner{\n     outline:0 none !important;\n     text-decoration:none;\n      -moz-outline-style: none;\n}\n\n',""]),e.exports=t},285:function(e,t,n){"use strict";var r=n(210),s=n.n(r);t.default=s.a},293:function(e,t,n){"use strict";n(235)},294:function(e,t,n){(t=n(2)(!1)).push([e.i,'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n /* @import "leaflet-draw/dist/leaflet.draw.css";*/\n.mtdt-draw-bbox{\n  position: absolute;\n   width: 600px;\n   height: 400px;\n   z-index:2000;\n   top: 50px;\n   left: 50px;\n /*  resize: both;\n   overflow:auto;\n  /* margin: -200px 0 0 -300px;*/\n   padding: 0px;\n   border-radius: 6px;\n   background: white;\n   border: 2px solid #ccc;\n   box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\n}\n.mtdt-draw-bbox div.mtdt-header{\n  margin:0;\n  border-radius: 6px 6px 0px 0px;\n}\n.mtdt-draw-bbox div.mtdt-header h3 {\n  color: inherit;\n}\ndiv[id="fmtDraw"]{\n  border-radius: 0px 0px 6px 6px;\n  height:350px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-top .leaflet-control{\n   margin-top: 3px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-left .leaflet-control{\n   margin-left: 3px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-control .leaflet-control-zoom-in, \ndiv[id="fmtDraw"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\n  font-size:18px;\n}\ndiv[id="fmtDraw"].mtdt-small .leaflet-bar a{\n background-image:none;\n width: 20px;\n height:20px;\n line-height:20px;\n}\ndiv[id="fmtDraw"] a.leaflet-draw-draw-rectangle:before{\n  content:"\\f04d";\n  font-family: "FontAwesome"\n}\ndiv[id="fmtDraw"] a.leaflet-draw-edit-edit:before{\n  content:"\\f040";\n  font-family: "FontAwesome"\n}\ndiv[id="fmtDraw"] a.leaflet-draw-edit-remove:before{\n  content:"\\f1f8";\n  font-family: "FontAwesome"\n}\n /** menu leaflet draw */\ndiv[id="fmtDraw"] .leaflet-container .leaflet-draw-section a {\n    color: #fff;\n    font-weight: 700;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li a {\n    color: #fff;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li {\n    display: block;\n    margin: 0 0 1px 0;\n    border-radius: 0;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions {\n    background: #555;\n    margin-left:5px;\n    padding: 2px;\n    -webkit-border-radius: 0 4px 4px 4px;\n    border-radius: 0 4px 4px 4px;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li:first-child a{\n    -webkit-border-radius: 0 4px 0 0;\n    border-radius: 0 4px 0 0;\n}\ndiv[id="fmtDraw"] .leaflet-draw-actions li:last-child a{\n    -webkit-border-radius: 0 0px 4px 4px;\n    border-radius: 0 0px 4px 4px;\n}\n.mtdt-draw-bbox div.mtdt-header{\n   margin: 0 0 0px 0;\n   cursor: move;\n}\n.mtdt-draw-bbox span.close{\n     position:absolute;\n     top:2px;\n     right:4px;\n     cursor: pointer;\n}\n@media screen and (min-width: 1024px) {\n.mtdt-draw-bbox {\n       width: 700px;\n       height: 400px;\n}\n}\n@media screen and (min-width: 1680px) {\n.mtdt-draw-bbox {\n       width: 900px;\n       height: 600px;\n}\n}\n',""]),e.exports=t},295:function(e,t,n){"use strict";var r=n(211),s=n.n(r);t.default=s.a},299:function(e,t,n){"use strict";n(237)},300:function(e,t,n){(t=n(2)(!1)).push([e.i,"\n.gdm-process-row {\ndisplay: grid;\n  grid-template-columns: minmax(180px,1fr) 110px minmax(190px,1fr) minmax(100px, 1fr) minmax(150px, 1fr) minmax(150px, 1fr) 30px;\n  grid-gap: 5px;\n  grid-template-rows: 10px 100px; \n  /*grid-auto-rows: minmax(100px, auto);*/\n  font-size:0.9em;\n  border-bottom:1px solid lightgrey;\n  cursor: pointer;\n}\n.gdm-process-row:hover {\n  background: #EFF6F6;\n}\n.gdm-process-row.selected {\n   background: #F6EFEF;\n}\n.gdm-process-identifier {\n   grid-column: 1/6;\n  grid-row: 1;\n  font-weight:600;\n  font-size:0.9em;\n   padding-left:5px;\n}\n.gdm-process-column-1 {\n  grid-column: 1;\n  grid-row:2;\n  padding-left:5px;\n}\n.gdm-process-column-2 {\n  grid-column: 2;\n  grid-row:2;\n  text-align:center;\n  padding-top:5px;\n}\n.gdm-process-column-3 {\n  grid-column: 3;\n  grid-row:2;\n}\n.gdm-process-column-4 {\n  grid-column: 4;\n  grid-row:2;\n  text-align:center;\n}\n.gdm-process-column-5 {\n  grid-column: 5;\n  grid-row:2;\n  font-size: 0.9em;\n}\n.gdm-process-column-6 {\n  grid-column: 6;\n  grid-row:2;\n  font-size: 0.9em;\n}\n.gdm-process-column-7 {\n  grid-column: 7;\n  grid-row:2;\n}\n.gdm-process-column-1 div {\n  line-height:1;\n}\n.gdm-process-column-7 span {\n  padding: 3px;\n  border: 1px dotted rgba(0,0,0,0);\n  cursor: pointer;\n}\n.gdm-process-column-7 span:hover {\n  border: 1px dotted grey;\n}\ndiv.toSelect {\n cursor: pointer;\n padding: 2px;\n  margin: 3px 0px;\n  background: #F0f0f0;\n  border: 1px solid #909090;\n  border-radius:2px;\n  line-height:1;\n  max-width: 250px;\n  white-space:normal;\n  word-break: break-all;\n}\ndiv.toSelect:hover {\n background: #e5e5e5;\n}\ndiv.toSelect.selectedUser,\ndiv.toSelect.selectedService{\n background: #f7f1ef;\n border-color:darkred;\n}\ndiv.toSelect.selectedUser:hover,\ndiv.toSelect.selectedService:hover  {\n background: #f9eae6;\n}\n.gdm-process-row span.date-purge {\n  font-size:0.9em;\n  color:#333;\n  font-style:italic;\n  cursor:pointer;\n}\n.gdm-process-row div.gdm-tooltip {\n  position:absolute;\n  background-color:#fafafa;\n  border: 1px solid #a3a3a3;\n  font-size: smaller;\n  margin-left:50px;\n  padding:4px;\n  width: 160px;\n  display:none;\n  word-break:break-all;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 2px 5px 2px rgba(0, 0, 0, 0.4);\n  z-index:100;\n}\n.gdm-process-row div.gdm-tooltip:hover {\n  display:block;\n}\n.gdm-process-row:last-child div.gdm-tooltip{\n  margin-left:70px;\n  margin-top:-80px;\n}\n.gdm-process-row span.date-purge:hover + div.gdm-tooltip {\n  display:block;\n}\n.gdm-process-row i.gdm-log:hover + div.gdm-tooltip {\n  display:block;\n}\n",""]),e.exports=t},301:function(e,t,n){"use strict";var r=n(213),s=n.n(r);t.default=s.a},302:function(e,t,n){"use strict";n(238)},303:function(e,t,n){(t=n(2)(!1)).push([e.i,"\n.button{\n    font-family: Arial;\n    font-size: 1em;\n    display: inline-block;\n    margin: 0px 7px 3px 0;\n    padding: 3px 12px;\n    height: auto;\n    line-height: 1.43;\n    white-space: normal;\n    text-align: center;\n    background: #ececea;\n    border-width: 1px;\n    border-style: solid;\n    border-radius: 3px;\n    border-color: #ffffff #d4d4cf #d4d4cf;\n    color: #000;\n    text-decoration: none;\n  /*  text-shadow: 0 -1px 1px #bcbcb4, 1px 0 1px #d4d4cf, 0 1px 1px #d4d4cf, -1px 0 1px #bcbcb4;*/\n    vertical-align: top;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.65);}\n.button:hover\n{\n   background: #f0f0e6;\n   text-decoration: none;\n}\n.button:disabled{\n    color: #999;\n    pointer-events: none;\n}\n",""]),e.exports=t},304:function(e,t,n){"use strict";n(239)},305:function(e,t,n){(t=n(2)(!1)).push([e.i,"\n.fa-button[data-v-36a1bbfe] {\n  cursor: pointer;\n  padding: 1px 3px;\n}\n.fa-button[data-v-36a1bbfe]:hover {\n  border:1px dotted grey;\n}\n.gdm-process-search[data-v-36a1bbfe]{\nfont-size: 0.9rem;\n}\n.gdm-process-header[data-v-36a1bbfe] {\ndisplay: grid;\n  grid-template-columns: minmax(180px,1fr) 110px minmax(190px,1fr) minmax(100px, 1fr) minmax(300px, 2fr);\n  grid-gap: 5px;\n   text-align:left;\n   font-weight:700;\n   border: 1px solid lightgrey;\n   min-height:20px;\n   max-height:45px;\n}\n.gdm-process-header-column-1[data-v-36a1bbfe] {\n  grid-column: 1;\n  grid-row: 1;\n  padding-left:5px;\n}\n.gdm-process-header-column-2[data-v-36a1bbfe] {\n  grid-column: 2;\n  grid-row: 1;\n  text-align:center;\n}\n.gdm-process-header-column-3[data-v-36a1bbfe] {\n  grid-column: 3;\n  grid-row: 1;\n}\n.gdm-process-header-column-4[data-v-36a1bbfe] {\n  grid-column: 4;\n  grid-row: 1;\n}\n.gdm-process-header-column-5[data-v-36a1bbfe] {\n  grid-column: 5;\n  grid-row: 1;\n}\n/* .gdm-process-search i.gdm-log {\n\tfont-size:20px;\n\tmargin-top:5px;\n\tcolor:grey;\n}\n.gdm-process-search span.date-purge {\n  font-size:0.9em;\n  color:#333;\n  font-style:italic;\n  cursor:pointer;\n}\n.gdm-process-search div.gdm-tooltip {\n  position:absolute;\n  background-color:#fafafa;\n  border: 1px solid #a3a3a3;\n  font-size: smaller;\n  margin-left:50px;\n  padding:4px;\n  width: 160px;\n  display:none;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.4);\n  -moz-box-shadow: 0px 2px 5px 2px rgba(0, 0, 0, 0.4);\n  z-index:100;\n}\n.gdm-process-search div.gdm-tooltip:hover {\n  display:block;\n}\n.gdm-process-search tr:last-child div.gdm-tooltip{\n  margin-left:70px;\n  margin-top:-80px;\n}\n.gdm-process-search span.date-purge:hover + div.gdm-tooltip {\n  display:block;\n}\n.gdm-process-search i.gdm-log:hover + div.gdm-tooltip {\n  display:block;\n} */\n.gdm-process-search div.column-right[data-v-36a1bbfe]{\n width: calc(100% - 295px);\n display: block;\n margin-left: 285px;\n}\ndiv.message[data-v-36a1bbfe] {\n  font-size: 0.9rem;\n  margin: auto;\n  padding: 40px 0;\n  text-align: center;\n  font-style: italic;\n}\n/* table.gdm-list-process {\n  position:relative;\n  display:block;\n  width:100%;\n  height: 600px;\n  overflow:auto;\n  margin-bottom:5px;\n  border: 1px solid #ccc;\n  border-collapse: collapse;\n  box-shadow: 1px 1px 1px 2px rgba(0, 0, 0, 0.1);\n  z-index:0;\n} */\n.gdm-process-search div.gdm-wrapper[data-v-36a1bbfe] {\n  max-width:1950px;\n  margin:auto;\n}\n.gdm-process-search div.column-left[data-v-36a1bbfe]{\n  width:270px;\n  margin-left:5px;\n  float:left;\n}\n\n\n/* table.gdm-list-process th {\n  position: sticky; \n  top: 0;\n  padding:3px 8px;\n  vertical-align:top;\n  background:   #E8E8E8;\n  text-align:left;\n  border:none;\n  border-bottom: 2px solid #CCC;\n  z-index:1;\n}\n.gdm-process-search tr{\n   min-height:100px;\n   height:100px;\n} */\n.gdm-process-search div.highlight[data-v-36a1bbfe] {\n  background: #EFF6F6;\n}\n/*.gdm-process-search tr.selected {\n  background: #F6EFEF;\n} */\n/**thead {\n border: 1px solid #ccc;\n background: \n text-align: left;\n}**/\n/*table.gdm-list-process td{\n  padding:3px 8px;\n  vertical-align:top;\n  border-bottom: 1px solid #ccc;\n  border-left: none;\n  border-right: none;\n   min-width:15%;\n   width:15%;\n}\n\n\ntable.gdm-list-process td:last-child, \ntable.gdm-list-process th:last-child{\n      width: 100%;\n    }\n\ndiv.toSelect {\n cursor: pointer;\n padding: 2px;\n  margin: 3px 0px;\n  background: #F0f0f0;\n  border: 1px solid #909090;\n  border-radius:2px;\n  max-width: 250px;\n  white-space:normal;\n}\ndiv.toSelect.selectedUser,\ndiv.toSelect.selectedService{\n background: #f7f1ef;\n border-color:darkred;\n}\ndiv.toSelect:hover {\n background: #e5e5e5;\n}\ndiv.toSelect.selectedUser:hover,\ndiv.toSelect.selectedService:hover  {\n background: #f9eae6;\n}\n\ndiv.infos {\n  float:left;\n  vertical-align:top;\n  font-size:0.8em;\n  margin: 0 5px;\n}\ndiv.gdm-token{\n  color:#202020;\n  font-size:0.8em;\n  font-style:italic;\n  max-width: 190px;\noverflow-wrap: break-word;\n} */\n\n",""]),e.exports=t},306:function(e,t,n){"use strict";var r=n(214),s=n.n(r);t.default=s.a},359:function(e,t,n){"use strict";n.r(t);var r=n(18),s={name:"GdmPaging",components:{FormaterSelect:r.b},props:{startIndex:{type:Number,default:0},maxRecords:{type:Number,default:25},totalResults:{type:Number,default:0},count:{type:Number,default:0},lang:{type:String,default:"en"},color:{type:String,default:"#808080"}},computed:{to:function(){return this.startIndex+this.count},nbPage:function(){var e=parseInt(this.totalResults/this.maxRecords);return e+=this.totalResults%this.maxRecords>0?1:0,this.currentPage=parseInt(this.startIndex/this.maxRecords)+1,e},recordsPerPage:function(){var e={},t=this;return this.options.forEach((function(n){e[n]=n+" "+t.$t("per_page")})),e}},created:function(){this.from=this.startIndex+1,this.$i18n.locale=this.lang},mounted:function(){},destroyed:function(){},data:function(){return{from:1,currentPage:1,recordPerPage:this.maxRecords,notExactly:"",options:[10,25,50,100]}},methods:{goToFirst:function(){this.currentPage=1,this.emitChange()},goToLast:function(){console.log(this.nbPage),this.currentPage=this.nbPage,this.emitChange()},handleReset:function(e){this.currentPage=1},changePage:function(e){e<0&&1===this.currentPage||e>0&&this.currentPage===this.nbPage&&!this.notExactly||(this.currentPage+=e,this.from=(this.currentPage-1)*this.recordPerPage+1,this.emitChange())},nbRecordChange:function(e){this.recordPerPage=parseInt(e),this.emitChange()},emitChange:function(){this.$emit("change",{maxRecords:this.recordPerPage,startIndex:(this.currentPage-1)*this.recordPerPage})}}},a=(n(255),n(1)),i=n(257),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"mtdt-paging"},[n("div",{staticStyle:{width:"100%",height:"33px","line-height":"30px","text-align":"center"}},[n("span",{class:{disabled:1===e.currentPage?"disabled":"","mtdt-navigation":!0}},[n("span",{staticClass:"fa fa-angle-double-left",style:{background:e.color},on:{click:function(t){return e.goToFirst()}}}),e._v(" "),n("span",{staticClass:"fa fa-angle-left",style:{background:e.color},on:{click:function(t){return e.changePage(-1)}}})]),e._v(" "),n("span",{staticStyle:{margin:"0 10px"},domProps:{innerHTML:e._s(e.$tc("results",e.totalResults,{from:0===e.totalResults?0:e.startIndex+1,to:e.to,notExactly:e.notExactly,count:e.totalResults}))}}),e._v("\n   ("),n("formater-select",{attrs:{name:"recordPerPage",options:e.recordsPerPage,defaut:e.recordPerPage+"",type:"associative",color:"transparent"},on:{input:e.nbRecordChange}}),e._v(")\n   "),n("span",{class:{disabled:e.notExactly||e.currentPage!==e.nbPage&&0!==e.count?"":"disabled","mtdt-navigation":!0}},[n("span",{staticClass:"fa fa-angle-right",style:{background:e.color},on:{click:function(t){return e.changePage(1)}}}),e._v(" "),n("span",{staticClass:"fa fa-angle-double-right",style:{background:e.color},on:{click:function(t){return e.goToLast()}}})])],1)])}),[],!1,null,null,null);"function"==typeof i.default&&Object(i.default)(o);var l=o.exports,c=n(0),d=n.n(c),p={name:"GdmSpatialSearch",props:{lang:{type:String,default:"en"}},data:function(){return{north:"",south:"",east:"",west:"",areaSelect:!1,searchEventListener:null,resetEventListener:null,aerisThemeListener:null,patternLatitude:"[-+]?(90|([1-8]?[0-9])([.][0-9]+)?)",patternLongitude:"[-+]?(180(.0+)?|((1[0-7][0-9])|([1-9]?[0-9]))([.][0-9]+)?)"}},computed:{},destroyed:function(){document.removeEventListener("aerisResetEvent",this.resetEventListener),this.resetEventListener=null,document.removeEventListener("aerisSearchEvent",this.searchEventListener),this.searchEventListener=null,document.removeEventListener("aerisTheme",this.aerisThemeListener),this.aerisThemeListener=null,document.removeEventListener("fmt:selectAreaChange",this.selectAreaChangeListener),this.selectAreaChangeListener=null,document.removeEventListener("fmt:drawClose",this.drawCloseListener),this.drawCloseListener=null},created:function(){this.$i18n.locale=this.lang,this.resetEventListener=this.handleReset.bind(this),document.addEventListener("aerisResetEvent",this.resetEventListener),this.searchEventListener=this.handleSearch.bind(this),document.addEventListener("aerisSearchEvent",this.searchEventListener),this.aerisThemeListener=this.handleTheme.bind(this),document.addEventListener("aerisTheme",this.aerisThemeListener),this.selectAreaChangeListener=this.handleBounds.bind(this),document.addEventListener("fmt:selectAreaChange",this.selectAreaChangeListener),this.drawCloseListener=this.handleDraw.bind(this),document.addEventListener("fmt:drawClose",this.drawCloseListener)},mounted:function(){var e=new CustomEvent("aerisThemeRequest",{});document.dispatchEvent(e)},methods:{bbox:function(){return{north:this.north,south:this.south,east:this.east,west:this.west}},validForm:function(){var e=this.$el.querySelectorAll("input"),t=!0;return e.forEach((function(e){t*=e.validity.valid})),""!==this.south&&""!==this.north&&""!==this.east&&""!==this.west||(t=!1),t},createBbox:function(){return!!this.validForm()&&[this.west,this.south,this.east,this.north].join(",")},createGeometry:function(){if(this.validForm()){var e=Math.round(1e4*this.north)/1e4,t=Math.round(1e4*this.south)/1e4,n=Math.round(1e4*this.east)/1e4,r=Math.round(1e4*this.west)/1e4,s="POLYGON(("+r+" "+e+",";return s+=n+" "+e+",",s+=n+" "+t+",",s+=r+" "+t+",",s+=r+" "+e+"))"}return!1},validInput:function(e){if(13===e.which){var t=parseInt(e.target.dataset.index)+1,n=this.$el.querySelector('input[data-index="'+t+'"]');n&&n.focus()}},handleChange:function(e){if(!e||!e.target.validity.valid)return!1;var t=new CustomEvent("fmt:bboxChange",{detail:this.bbox()});document.dispatchEvent(t)},handleDraw:function(){if(this.areaSelect)var e=new CustomEvent("fmt:selectAreaDrawEnd",{detail:this.bbox()});else e=new CustomEvent("fmt:selectAreaDrawStart",{detail:this.bbox()});this.areaSelect=!this.areaSelect,document.dispatchEvent(e)},handleReset:function(){this.north="",this.east="",this.west="",this.south="";var e=new CustomEvent("fmt:bboxChange",{detail:this.bbox()});document.dispatchEvent(e)},handleResetLocal:function(){this.handleReset();var e=new CustomEvent("fmt:spatialChangeEvent");document.dispatchEvent(e)},handleBounds:function(e){this.north=Math.round(1e4*e.detail.north)/1e4,this.south=Math.round(1e4*e.detail.south)/1e4,this.east=Math.round(1e4*e.detail.east)/1e4,this.west=Math.round(1e4*e.detail.west)/1e4;var t=new CustomEvent("fmt:spatialChangeEvent");document.dispatchEvent(t)},handleSearch:function(e){var t=this.createGeometry(),n=this.createBbox();delete e.detail.geometry,delete e.detail.box,t&&(e.detail.geometry=t),n&&(e.detail.box=n)},handleTheme:function(e){this.theme=e.detail,this.ensureTheme()},ensureTheme:function(){if(this.$el&&this.$el.querySelector){var e=this.$shadeColor(this.theme.emphasis,.8),t=this.$el.querySelectorAll(".formater-input-group");[].forEach.call(t,(function(t){t.style.backgroundColor=e}))}}}},u=(n(258),n(260)),h=Object(a.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"formater-spatial-search"},[n("div",{staticClass:"box-toolbar",staticStyle:{background:"none"}},[n("button",{staticClass:"spatial-edit-button",attrs:{title:e.$t("draw")},on:{click:e.handleDraw}},[n("i",{staticClass:"fa fa-pencil-square-o"})]),e._v(" "),n("button",{staticClass:"spatial-reset-button",attrs:{title:e.$t("reset")},on:{click:e.handleResetLocal}},[n("i",{staticClass:"fa fa-remove"})])]),e._v(" "),n("form",{staticClass:"formater-spatial-search-content",attrs:{name:"formater-spatial-search"}},[n("div",{staticClass:"formater-input-group cardinal-center"},[n("span",{staticClass:"right"},[e._v(e._s(e.$t("north_symbol")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.north,expression:"north"}],attrs:{type:"text",name:"north",pattern:e.patternLatitude,title:e.$t("titleLatitude"),"data-index":"1"},domProps:{value:e.north},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.north=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"formater-input-group cardinal-left"},[n("span",{staticClass:"right"},[e._v(e._s(e.$t("west_symbol")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.west,expression:"west"}],attrs:{type:"text",name:"west",pattern:e.patternLongitude,title:e.$t("titleLongitude"),"data-index":"2"},domProps:{value:e.west},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.west=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"formater-input-group cardinal-right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.east,expression:"east"}],attrs:{type:"text",name:"east",pattern:e.patternLongitude,title:e.$t("titleLongitude"),"data-index":"3"},domProps:{value:e.east},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.east=t.target.value)}}}),e._v(" "),n("span",{staticClass:"left"},[e._v(e._s(e.$t("east_symbol")))])]),e._v(" "),n("div",{staticClass:"formater-input-group cardinal-center"},[n("span",{staticClass:"right"},[e._v(e._s(e.$t("south_symbol")))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.south,expression:"south"}],attrs:{type:"text",name:"south",pattern:e.patternLatitude,title:e.$t("titleLatitude"),"data-index":"4"},domProps:{value:e.south},on:{keydown:e.validInput,change:e.handleChange,input:function(t){t.target.composing||(e.south=t.target.value)}}})])])])}),[],!1,null,null,null);"function"==typeof u.default&&Object(u.default)(h);var m=h.exports,g=n(254),f={name:"GdmFormProcess",components:{FormaterTemporalSearch:r.c,GdmSpatialSearch:m,FormaterSelect:r.b,FormaterSearchBox:r.a,GdmMap:g.a},props:{user:{type:Object,default:null},service:{type:Object,default:null},status:{type:Object,default:function(){}},groups:{type:Array,default:function(){return[]}},color:{type:String,default:"#808080"},lang:{type:String,default:"en"},featureCollection:{type:Object,default:null},back:{type:Boolean,default:!1},bbox:{type:String,default:null},height:{type:Number,default:700}},computed:{statusList:function(){var e=[];for(var t in this.status)e.indexOf(this.status[t].collection)<0&&e.push(this.status[t].collection);return e.sort(),e}},created:function(){this.$i18n.locale=this.lang,"fr"===this.lang?this.format="DD/MM/YYYY":this.format="MM/DD/YYYY"},mounted:function(){},destroyed:function(){},data:function(){return{process:{from:null,to:null,daymin:"2020-01-01",daymax:"now"},archived:!1,format:"DD/MM/YYYY",textSearch:null,dateFormat:"DD/MM/YYYY",pattern:"(0?[1-9]|[12][0-9]|3[01])/(0?[1-9]|1[012])/[0-9]{4}",parameters:{status:null}}},methods:{removeFilter:function(e){this.$emit("remove",e)},backgroundColor:function(){return this.$shadeColor(this.color,.8)},date2str:function(e){return"now"===e?d()().format(this.format):d()(e).format(this.format)},str2date:function(e,t){return"now"==e?d()():d()(e,t)},dateChange:function(e){this.$emit("dateChange",e)},groupChange:function(e){"---"===e&&(e=null),this.$emit("groupChange",e)},statusChange:function(e){"---"===e&&(e=null),this.$emit("statusChange",e)},archivedChange:function(){this.$emit("archivedChange",this.archived)},textChange:function(e){13!=e.which&&13!=e.keyCode||this.$emit("textChange",this.textSearch)},reset:function(e){this.textSearch="";var t=new CustomEvent("aerisResetEvent");document.dispatchEvent(t),this.$emit("reset")}}},v=(n(283),n(285)),x=Object(a.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gdm-form-process",staticStyle:{"overflow-y":"auto","overflow-x":"hidden"},style:{maxHeight:e.height+"px"}},[n("div",{staticStyle:{"text-align":"center",margin:"10px 0 30px 0"}},[n("input",{style:e.$buttonStyle(e.color),attrs:{id:"globalReset",type:"button",value:e.$t("reset")},on:{click:e.reset}})]),e._v(" "),n("div",{staticClass:"text-search",style:{background:e.backgroundColor()}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.textSearch,expression:"textSearch"}],attrs:{id:"any",name:"any",placeholder:e.$t("search")},domProps:{value:e.textSearch},on:{keypress:e.textChange,input:function(t){t.target.composing||(e.textSearch=t.target.value)}}}),n("i",{staticClass:"fa fa-search"})]),e._v(" "),n("gdm-map",{attrs:{"feature-collection":e.featureCollection,fullscreen:"fmtLargeMap"}}),e._v(" "),n("formater-search-box",{attrs:{"header-icon-class":"fa fa-globe","open-icon-class":"fa fa-caret-right",title:e.$t("spatial_extent"),deployed:!1,type:"empty"}},[n("gdm-spatial-search",{attrs:{lang:e.lang}})],1),e._v(" "),n("formater-search-box",{attrs:{"header-icon-class":"fa fa-calendar","open-icon-class":"fa fa-caret-right",title:e.$t("temporal_extent"),deployed:!1,type:"empty"}},[n("formater-temporal-search",{attrs:{name:"temp",lang:"fr",format:e.format,daymin:"2014-04-03"},on:{change:e.dateChange}})],1),e._v(" "),e.groups.length>0?n("formater-search-box",{attrs:{"header-icon-class":"fa fa-object-group","open-icon-class":"fa fa-caret-right",title:e.$t("service_group"),deployed:!1,type:"empty"}},[n("formater-select",{attrs:{options:e.groups,defaut:null,width:"228px"},on:{input:e.groupChange}})],1):e._e(),e._v(" "),n("formater-search-box",{attrs:{"header-icon-class":"fa fa-cog","open-icon-class":"fa fa-caret-right",title:"Status",deployed:!1,type:"empty"}},[e.back?n("div",[n("span",{style:{color:e.color}},[e._v(e._s(e.$t("see_archived")))]),e._v(": "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.archived,expression:"archived"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.archived)?e._i(e.archived,null)>-1:e.archived},on:{change:[function(t){var n=e.archived,r=t.target,s=!!r.checked;if(Array.isArray(n)){var a=e._i(n,null);r.checked?a<0&&(e.archived=n.concat([null])):a>-1&&(e.archived=n.slice(0,a).concat(n.slice(a+1)))}else e.archived=s},e.archivedChange]}})]):e._e(),e._v(" "),n("formater-select",{attrs:{options:e.statusList,defaut:e.parameters.status,width:"228px"},on:{input:e.statusChange}})],1),e._v(" "),n("formater-search-box",{attrs:{"header-icon-class":"fa fa-hourglass-end","open-icon-class":"fa fa-caret-right",title:e.$t("process_extent"),deployed:!1,type:"empty"}},[n("formater-temporal-search",{attrs:{name:"",lang:"fr",format:e.format,daymin:"2020-03-01"},on:{change:e.dateChange}})],1),e._v(" "),n("formater-search-box",{attrs:{"header-icon-class":"fa fa-filter","open-icon-class":"fa fa-caret-right",title:e.$t("filters"),deployed:!1,type:"empty"}},[n("div",{staticStyle:{"margin-left":"10px","min-height":"70px"}},[e.user||e.service?e._e():n("div",{staticStyle:{"font-style":"italic",color:"grey"}},[e._v(e._s(e.$t("no_filter")))]),e._v(" "),e.user?n("div",{staticClass:"selectedUser"},[e._v(e._s(e.user.email)),n("span",{staticClass:"fa fa-close",on:{click:function(t){return e.removeFilter("user")}}})]):e._e(),e._v(" "),e.service?n("div",{staticClass:"selectedService"},[e._v(e._s(e.service.name)),n("span",{staticClass:"fa fa-close",on:{click:function(t){return e.removeFilter("service")}}})]):e._e()])])],1)}),[],!1,null,"69c53c95",null);"function"==typeof v.default&&Object(v.default)(x);var b=x.exports,_=n(209);n(286),_.modLat=function(e){return(e%=180)>90?e-=180:e<-90&&(e+=180),e},_.modLng=function(e){return(e%=360)>180?e-=360:e<-180&&(e+=360),e};var w={name:"GdmDrawBbox",components:{},props:{lang:{type:String,default:"en"},color:{type:String,default:"#808080"}},created:function(){this.$i18n.locale=this.lang,"fr"===this.$i18n.locale&&(_.drawLocal=n(287)),this.drawStartListener=this.open.bind(this),document.addEventListener("fmt:selectAreaDrawStart",this.drawStartListener),document.addEventListener("fmt:selectAreaDrawStart",this.drawStartListener),this.drawEndListener=this.close.bind(this),document.addEventListener("fmt:selectAreaDrawEnd",this.drawEndListener),this.bboxChangeListener=this.selectAreaChange.bind(this),document.addEventListener("fmt:bboxChange",this.bboxChangeListener),this.mousemoveListener=this.move.bind(this),document.addEventListener("mousemove",this.mousemoveListener),this.mouseupListener=this.moveEnd.bind(this),document.addEventListener("mouseup",this.mouseupListener),this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener)},destroyed:function(){document.removeEventListener("fmt:selectAreaDrawStart",this.drawStartListener),this.drawStartListener=null,document.removeEventListener("fmt:selectAreaDrawEnd",this.drawEndListener),this.drawEndListener=null,document.removeEventListener("fmt:bboxChange",this.bboxChangeListener),this.bboxChangeListener=null,document.removeEventListener("mousemove",this.mousemoveListener),this.mousemoveListener=null,document.removeEventListener("mouseup",this.mouseupListener),this.mouseupListener=null,window.removeEventListener("resize",this.resizeListener),this.resizeListener=null,this.map&&this.map.remove()},mounted:function(){this.$el.querySelector(".mtdt-header").style.color="white",this.$el.querySelector(".mtdt-header").style.background=this.color,this.initHeight(),this.initPosition(),this.initMap()},data:function(){return{mousemoveListener:null,mouseupListener:null,resizeListener:null,drawStartListener:null,drawEndListener:null,bboxChangeListener:null,drawing:!1,map:null,boundsLayer:null,defaultBounds:[[-60,-120],[75,130]],bbox:null,drawControl:null,drawLayers:null,selected:!1,intersection:null,delta:{x:0,y:0},pos:{x:0,y:0}}},methods:{initPosition:function(){var e=(this.$el.parentNode.offsetWidth-this.$el.offsetWidth)/2;this.$el.parentNode.style.position="relative";this.$el.style.left=e+"px",this.$el.style.top="25px",this.pos.x=e,this.pos.y=this.$el.offsetTop},initHeight:function(){var e=this.$el.offsetHeight-this.$el.querySelector(".mtdt-header").offsetHeight-4;this.$el.querySelector("#fmtDraw").style.height=e+"px"},removeBoundsLayer:function(){this.boundsLayer&&(this.boundsLayer.remove(),this.boundsLayer=null,this.intersection&&(this.intersection.remove(),this.intersection=null))},initBoundsLayer:function(){this.removeBoundsLayer()},initDrawControl:function(){if(!this.drawControl){this.drawLayers=new _.FeatureGroup,this.map.addLayer(this.drawLayers),this.drawControl=new _.Control.Draw({draw:{rectangle:{shapeOptions:{color:"#ff0000"}},circlemarker:!1,circle:!1,marker:!1,polygon:!1,polyline:!1},edit:{featureGroup:this.drawLayers}}),this.drawControl.addTo(this.map);var e=this;this.map.on(_.Draw.Event.CREATED,(function(t){t.layer;var n=t.layer.getBounds();e.bbox=e.drawValidBbox(n);var r=new CustomEvent("fmt:selectAreaChange",{detail:e.bbox});document.dispatchEvent(r)})),this.map.on(_.Draw.Event.EDITED,(function(t){var n;t.layers.eachLayer((function(e){n=e.getBounds()})),e.bbox=e.drawValidBbox(n);var r=new CustomEvent("fmt:selectAreaChange",{detail:e.bbox});document.dispatchEvent(r)})),this.map.on(_.Draw.Event.DELETED,(function(t){e.bbox=e.drawValidBbox(null);var n=new CustomEvent("fmt:selectAreaChange",{detail:{north:"",south:"",east:"",west:""}});document.dispatchEvent(n)}))}},initMap:function(){if(!this.map){var e=this.$el.querySelector("#fmtDraw");this.map=_.map(e).setView([51.505,-.09],2),_.tileLayer("//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',maxZoom:18,minZoom:1}).addTo(this.map),this.initDrawControl()}},open:function(e){this.drawing=!0;var t=this;setTimeout((function(){t.initHeight(),t.initPosition(),t.map.invalidateSize(),t.selectAreaChange(e)}),5)},getBounds:function(){return this.drawLayers.getBounds()},drawEnd:function(){var e=new CustomEvent("fmt:drawClose");document.dispatchEvent(e)},selectAreaChange:function(e){var t=e.detail;if(t&&""!==t.north&&""!==t.south&&""!==t.east&&""!==t.west){for(var n in t)t[n]=parseFloat(t[n]);var r={};r.south=Math.min(t.north,t.south),r.north=Math.max(t.north,t.south),r.west=Math.min(t.east,t.west),r.east=Math.max(t.east,t.west);var s=_.latLngBounds([[r.south,r.west],[r.north,r.east]]);this.bbox=this.drawValidBbox(s);var a=new CustomEvent("fmt:selectAreaChange",{detail:this.bbox});document.dispatchEvent(a)}else this.drawLayers.clearLayers(),this.bbox=null;if(!s)s=this.defaultBounds;this.map.fitBounds(s,{padding:[20,20]})},close:function(e){this.drawing=!1},movestart:function(e){this.selected=!0,this.delta={x:this.pos.x-this.$el.offsetLeft,y:this.pos.y-this.$el.offsetTop}},move:function(e){this.pos.x=e.clientX,this.pos.y=e.clientY,this.selected&&(this.$el.style.left=this.pos.x-this.delta.x+"px",this.$el.style.top=this.pos.y-this.delta.y+"px")},moveEnd:function(){this.selected=!1},resize:function(e){this.initHeight(),this.map.invalidateSize()},drawValidBbox:function(e){if(this.drawLayers.clearLayers(),!e)return null;var t={north:e.getNorth(),south:e.getSouth(),east:e.getEast(),west:e.getSouthWest().lng};if(t.east>180||t.west<-180){var n=t.east-t.west;n>360?(t.east=180,t.west=-180):(t.west=_.modLng(t.west),t.west=180===t.west?-180:t.west,t.east=Math.min(t.west+n,180))}e=[[t.south,t.west],[t.north,t.east]];var r=_.rectangle(e,{color:"#ff0000"});return this.drawLayers.addLayer(r),e=this.drawLayers.getBounds(),this.map.fitBounds(e,{padding:[20,20]}),t},drawIntersection:function(){if(this.intersection&&(this.intersection.remove(),this.intersection=null),this.bbox)Object.assign({},this.bbox)}}},y=(n(288),n(293),n(295)),C=Object(a.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.drawing,expression:"drawing"}],staticClass:"mtdt-draw-bbox"},[n("div",{staticClass:"mtdt-header"},[n("span",{staticClass:"close fa fa-close",on:{click:e.drawEnd}}),e._v(" "),n("h3",{staticStyle:{padding:"10px",margin:"0"},on:{mousedown:e.movestart}},[e._v(e._s(e.$t("draw_bbox")))])]),e._v(" "),n("div",{staticClass:"mtdt-small",attrs:{id:"fmtDraw"}})])}),[],!1,null,null,null);"function"==typeof y.default&&Object(y.default)(C);var L=C.exports,E=n(224),S={name:"GdmProcessRow",components:{GdmProcessStatus:E.a},props:{process:{type:Object,default:null},back:{type:Boolean,default:!1},group:{type:String,default:null},lang:{type:String,default:"en"},selected:{type:String,default:null},selectedService:{type:String,default:null},selectedUser:{type:Object,default:null},statusList:{type:Object,default:function(){}},url:{type:String,default:null},userId:{type:Number,default:null}},computed:{canRemove:function(){return!(!this.back&&this.userId!==parseInt(this.process.properties.userId))&&["DEBUG","PRE-RUN","RUNNING","ACCEPTED"].indexOf(this.process.properties.status)<0}},data:function(){return{dateFormat:"YYYY-MM-DD hh:mm:ss",dateFormatDisplay:"DD/MM/YYYY"}},created:function(){this.$i18n.locale=this.lang,d.a.locale(this.lang),"en"===this.lang?this.dateFormatDisplay="MM/DD/YYYY":this.dateFormatDisplay="DD/MM/YYYY"},methods:{printDate:function(e,t){return t?d()(e,this.dateFormat).format(this.dateFormatDisplay+" HH:mm"):d()(e,this.dateFormat).format(this.dateFormatDisplay)},highlight:function(){this.$emit("highlight",this.process.properties.id)},remove:function(e){this.$emit("removeProcess",this.process.properties.id),e.stopPropagation()},selectProcess:function(){this.$emit("selectProcess",this.process.properties.id)},selectService:function(e){this.$emit("selectService",{id:this.process.properties.serviceId,name:this.process.properties.serviceName}),e.stopPropagation()},selectUser:function(e){this.$emit("selectUser",{id:this.process.properties.userId,email:this.process.properties.email}),e.stopPropagation()}}},k=(n(299),n(301)),D=Object(a.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gdm-process-row",class:{selected:e.selected===e.process.properties.id},on:{mouseenter:function(t){return e.highlight()},click:function(t){return e.selectProcess()}}},[n("div",{staticClass:"gdm-process-identifier"},[e._v("  "+e._s(e.process.properties.id.toString().padStart(5,"0"))),e.process.properties.token?n("span",[e._v("-"+e._s(e.process.properties.token))]):e._e()]),e._v(" "),n("div",{staticClass:"gdm-process-column-1"},[n("div",{staticClass:"toSelect",class:{selectedService:e.selectedService},on:{click:function(t){return e.selectService(t)}}},[e._v("\n\t      "+e._s(e.process.properties.serviceName)+"\n\t   ")]),e._v(" "),e.userId&&(e.back||["MNS","DSM"].indexOf(e.group)<0)?n("div",[e._v(e._s(e.process.properties.email))]):n("div",[n("div",{staticClass:"toSelect",class:{selectedUser:e.selectedUser},on:{click:function(t){return e.selectUser(t)}}},[e._v("\n\t          "+e._s(e.process.properties.email)+"\n\t       ")])]),e._v(" "),e.process.properties.processusName?n("div",[e._v("("+e._s(e.process.properties.processusName)+")")]):e._e()]),e._v(" "),n("div",{staticClass:"gdm-process-column-2"},[n("gdm-process-status",{attrs:{status:e.process.properties.status,"status-list":e.statusList,progress:e.process.properties.progress,lang:e.lang}}),e._v(" "),n("div",[e.url?n("a",{staticClass:"button",attrs:{href:e.url+e.process.properties.id}},[e._v(e._s(e.$t("consult")))]):e._e()]),e._v(" "),n("div",{staticStyle:{position:"relative"}},[!e.back&&"SAR"!==e.group||"RUNNING"!==e.process.properties.status&&"FAILED"!==e.process.properties.status?e._e():n("i",{staticClass:"gdm-log fa fa-question-circle"}),e._v(" "),n("div",{staticClass:"gdm-tooltip"},[n("span",[e._v(e._s(e.process.properties.progress)+" %")]),e._v(" "),e.process.properties.log?n("div",[e._v(e._s(e.process.properties.log))]):e._e()])])],1),e._v(" "),n("div",{staticClass:"gdm-process-column-3"},[n("div",[n("b",[e._v(e._s(e.$t("created"))+": ")]),e._v(" "),n("span",{staticStyle:{"white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.start,!0))+"\n           ")])]),e._v(" "),["TERMINATED","RUNNING","FAILED","ABORTED","PURGED"].indexOf(e.process.properties.status)>=0?n("div",[n("div",[n("b",[e._v(e._s(e.$t("start"))+": ")]),e._v(" "),n("span",{staticStyle:{"white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.processStart,!0))+"\n             ")])]),e._v(" "),n("div",[n("b",[e._v(e._s(e.$t("end"))+":")]),e._v(" "),e.process.properties.processEnd?n("span",{staticStyle:{"white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.processEnd,!0))+"\n             ")]):n("span",{staticStyle:{color:"grey","white-space":"nowrap"}},[e._v("\n             "+e._s(e.printDate(e.process.properties.end,!0))+"\n             ")])])]):e._e(),e._v(" "),n("div",{staticStyle:{position:"relative"}},[e.process.properties.datePurge&&"TERMINATED"===e.process.properties.status?n("span",{staticClass:"date-purge"},[n("i",{staticClass:"fa fa-exclamation-triangle"}),e._v(" "),n("b",[e._v("Purge: ")]),e._v(e._s(e.printDate(e.process.properties.datePurge))+"\n\t         ")]):e._e(),e._v(" "),n("div",{staticClass:"gdm-tooltip"},[e._v(e._s(e.$t("clear_data")))])])]),e._v(" "),n("div",{staticClass:"gdm-process-column-4"},[e._v("\n         "+e._s(e.printDate(e.process.properties.temporalExtent[0]))+"\n          "),"DEM"!==e.group?n("span",[n("b",[e._v("→")]),e._v("\n             "+e._s(e.printDate(e.process.properties.temporalExtent[1]))+"\n          ")]):e._e()]),e._v(" "),n("div",{staticClass:"gdm-process-column-5"},[n("div",{staticClass:"infos"},[e._l(["provider","position"],(function(t){return n("div",[e.process.properties[t]?n("div",e._l(e.process.properties[t],(function(t,r){return"bbox"!==r&&"providerName"!==r&&t?n("div",[n("div",[n("b",[e._v(e._s(r)+":")]),e._v(" "+e._s(t))])]):e._e()})),0):e._e()])})),e._v(" "),e._l(["sub_swath","relative_orbit"],(function(t){return n("div",[e.process.properties.parameters.hasOwnProperty(t)?n("div",[n("b",[e._v(e._s(e.$hypens2camel(t))+":")]),e._v(" "+e._s(e.process.properties.parameters[t]))]):e._e()])}))],2)]),e._v(" "),n("div",{staticClass:"gdm-process-column-6"},[n("div",{staticClass:"infos"},[e.process.properties.parameters&&Object.keys(e.process.properties.parameters).length<10?n("div",e._l(e.process.properties.parameters,(function(t,r){return n("div",[n("div",[n("b",[e._v(e._s(r)+":")]),e._v(" "+e._s(t))])])})),0):n("div",[e._l(["atmo","rlooks_int","rlooks_unw"],(function(t){return n("div",[e.process.properties.parameters.hasOwnProperty(t)?n("div",[n("b",[e._v(e._s(e.$hypens2camel(t))+":")]),e._v(" "+e._s(e.process.properties.parameters[t]))]):e._e()])})),e._v(" "),e._l(["correl_split_date","correl_input_mode","correl_correlator","do_analysis","do_correction_filtering"],(function(t){return n("div",[e.process.properties.parameters.hasOwnProperty(t)?n("div",[n("b",[e._v(e._s(e.$hypens2camel(t))+":")]),e._v(" "+e._s(e.process.properties.parameters[t]))]):e._e()])})),e._v(" "),e._l(["dsmopt_ortho","dsmopt_default_correlation","dsmopt_export_l93","dsmopt_use_roi","dsmopt_roi_sizex","dsmopt_roi_sizey"],(function(t){return n("div",[e.process.properties.parameters.hasOwnProperty(t)?n("div",[n("b",[e._v(e._s(e.$hypens2camel(t.replace("dsmopt_","")))+":")]),e._v(" "+e._s(e.process.properties.parameters[t]))]):e._e()])}))],2)])]),e._v(" "),n("div",{staticClass:"gdm-process-column-7"},[e.canRemove?n("div",[n("span",{staticClass:"fa fa-close",attrs:{title:e.$t("remove_process")},on:{click:function(t){return e.remove(t)}}})]):e._e()])])}),[],!1,null,null,null);"function"==typeof k.default&&Object(k.default)(D);var P={name:"GdmProcessSearch",components:{GdmPaging:l,GdmFormProcess:b,GdmProcessRow:D.exports,GdmDrawBbox:L,GdmProcessStatus:E.a},props:{api:{type:String,default:null},url:{type:String,default:null},lang:{type:String,default:"fr"},group:{type:String,default:null},what:{type:String,default:"getProcess"},userId:{type:Number,default:null},color:{type:String,default:"#808080"},example:{type:Boolean,value:!1},back:{type:Boolean,default:!1}},data:function(){return{dateFormat:"YYYY-MM-DD hh:mm:ss",dateFormatDisplay:"DD/MM/YYYY",featureCollection:{},pagination:{startIndex:0,maxRecords:25,totalResults:null},listHeight:700,height:700,statusList:{},groups:[],spatialChangeListener:null,selectProcessLayerListener:null,resizeListener:null,selectedProcessId:null,order:{temporal:1,date:-1},parameters:{user:null,service:null,status:null,Start:null,End:null,tempStart:null,tempEnd:null,q:null,bbox:null,group:null,order:"start DESC, tempStart ASC"},timer:null}},created:function(){this.group||this.searchGroups(),this.spatialChangeListener=this.spatialChange.bind(this),document.addEventListener("fmt:spatialChangeEvent",this.spatialChangeListener),this.selectProcessLayerListener=this.selectedLayerChange.bind(this),document.addEventListener("gdm:selectProcessLayer",this.selectProcessLayerListener),this.resizeListener=this.resize.bind(this),window.addEventListener("resize",this.resizeListener),this.mapListener=this.resize.bind(this),document.addEventListener("mapNodeChange",this.mapListener),this.launchUrl=this.api.substr(0,this.api.indexOf("api")),this.$i18n.locale=this.lang;var e=this.search;this.timer=setInterval(e,3e5),this.search()},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null),document.removeEventListener("fmt:spatialChangeEvent",this.spatialChangeListener),this.spatialChangeListener=null,document.removeEventListener("gdm:selectProcessLayer",this.selectProcessLayerListener),this.selectProcessLayerListener=null,window.removeEventListener("resize",this.resizeListener),this.resizeListener=null},mounted:function(){this.resize()},methods:{search:function(){var e=this,t={};this.group&&(t.groupKey=this.group);var n=this.api+this.what+"?maxRecords="+this.pagination.maxRecords+"&index="+this.pagination.startIndex;this.userId&&this.back?n+="&userId="+this.userId:this.parameters.user&&(n+="&userId="+this.parameters.user.id),this.example&&(n+="&example=1"),this.parameters.service&&(n+="&serviceId="+this.parameters.service.id),this.parameters.status&&(n+="&status="+this.parameters.status),this.parameters.any&&(n+="&any="+this.parameters.any),this.parameters.bbox&&(n+="&bbox="+this.parameters.bbox),this.parameters.group&&(n+="&group="+this.parameters.group),this.parameters.archived&&(n+="&archived=1"),this.parameters.order&&(n+="&order="+encodeURIComponent(this.parameters.order)),n+="&lang="+this.lang;var r=this;["Start","End","tempStart","tempEnd"].forEach((function(e){r.parameters[e]&&"Invalid date"!=r.parameters[e]&&(n+="&"+e.charAt(0).toLowerCase()+e.slice(1)+"="+r.parameters[e])})),this.$http.get(n,{credentials:!0,headers:t}).then((function(t){return e.display(t)}),(function(t){return e.error(t)}))},searchGroups:function(){var e=this;this.$http.get(this.api+"getGroups",{credentials:!0}).then((function(t){return e.groups=t.body}),(function(e){return console.log("error getGroups")}))},orderChange:function(e){switch(e){case"date":this.order.date=-1*this.order.date,this.parameters.order=" start "+(this.order.date>0?"ASC":"DESC"),this.parameters.order+=", tempStart "+(this.order.temporal>0?"ASC":"DESC");break;case"temporal":this.order.temporal=-1*this.order.temporal,this.parameters.order="tempStart "+(this.order.temporal>0?"ASC":"DESC"),this.parameters.order+=", start "+(this.order.date>0?"ASC":"DESC")}this.search()},archivedChange:function(e){e?this.parameters.archived=e:delete this.parameters.archived,this.search()},dateChange:function(e){var t=e.name.replace("from","Start").replace("to","End");this.parameters[t]=e.value,this.search()},display:function(e){var t=e.body.properties;this.pagination={startIndex:t.startIndex,totalResults:t.totalResults,maxRecords:t.itemsPerPage,count:e.body.features.length},Object.keys(this.statusList).length<=1&&(this.statusList=e.body.properties.status),this.featureCollection=e.body},error:function(e){switch(this.pagination={startIndex:0,totalResults:0,maxRecords:25,count:0},this.featureCollection={},e.status){case 403:console.log("Accès interdit, déconnecté?"),alert(this.$i18n.t("forbidden"));break;case 401:console.log("Vous n'avez pas les droits suffisants!"),alert(this.$i18n.t("unauthorized"))}},highlight:function(e){document.querySelectorAll(".gdm-process-search .highlight").forEach((function(e){e.classList.remove("highlight")})),document.querySelectorAll(".row"+e).forEach((function(e){e.classList.add("highlight")}));var t=new CustomEvent("gdm:processHighlight",{detail:{id:e}});document.dispatchEvent(t)},pageChange:function(e){this.pagination=e,this.search()},printDate:function(e,t){return t?d()(e,this.dateFormat).format(this.dateFormatDisplay+" HH:mm"):d()(e,this.dateFormat).format(this.dateFormatDisplay)},removeProcess:function(e){var t=this,n=this.api+"removeProcess/"+e;this.$http.get(n,{credentials:!0}).then((function(e){t.search()}))},removeSelected:function(e){this.parameters[e]=null,this.search()},reset:function(){for(var e in this.selectProcess(null),this.parameters)this.parameters[e]=null;this.search()},resize:function(){var e=this.$el.querySelector("#fmtLargeMap").offsetHeight;this.height=window.innerHeight-65,this.listHeight=this.height-e-32},restart:function(e,t){var n=this;t.stopPropagation();var r=this.launchUrl+"api/restart/"+e;this.$http.get(r,{credentials:!0}).then((function(e){n.search()}))},selectedLayerChange:function(e){var t=e.detail.id;this.selectProcess(t)},selectProcess:function(e){var t=this.selectedProcessId;(document.querySelectorAll(".gdm-process-search .selected").forEach((function(e){e.classList.remove("selected")})),e!==t)?(document.querySelectorAll(".row"+e).forEach((function(e){e.classList.add("selected")})),this.selectedProcessId=e):this.selectedProcessId=null;var n=new CustomEvent("gdm:processSelect",{detail:{id:e}});document.dispatchEvent(n)},selectService:function(e){this.parameters.service&&this.parameters.service.id===e.id?this.parameters.service=null:this.parameters.service=e,this.search()},selectUser:function(e){this.parameters.user&&this.parameters.user.id===e.id?this.parameters.user=null:this.parameters.user=e,this.search()},groupChange:function(e){this.parameters.group=e,this.search()},spatialChange:function(e){var t=new CustomEvent("aerisSearchEvent",{detail:{}});document.dispatchEvent(t),t.detail.geometry?this.parameters.bbox=t.detail.geometry:this.parameters.bbox=null,this.search()},statusChange:function(e){this.parameters.status=e,this.search()},textChange:function(e){this.parameters.any=e?encodeURIComponent(e):null,this.search()}}},$=(n(302),n(304),n(306)),z=Object(a.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gdm-process-search"},[n("gdm-draw-bbox",{attrs:{lang:e.lang,color:e.color}}),e._v(" "),n("div",{staticClass:"gdm-wrapper"},[n("div",{staticClass:"column-left"},[n("gdm-form-process",{attrs:{lang:e.lang,status:e.statusList,groups:e.groups,"feature-collection":e.featureCollection,color:e.color,user:e.parameters.user,service:e.parameters.service,height:e.height,back:e.back},on:{remove:e.removeSelected,dateChange:e.dateChange,statusChange:e.statusChange,groupChange:e.groupChange,textChange:e.textChange,archivedChange:e.archivedChange,reset:e.reset}})],1),e._v(" "),n("div",{staticClass:"column-right"},[n("div",{staticStyle:{width:"calc(100%)"},attrs:{id:"fmtLargeMap"}}),e._v(" "),e.featureCollection.features&&0!==e.featureCollection.features.length?n("div",[n("gdm-paging",{attrs:{"start-index":e.pagination.startIndex,"max-records":e.pagination.maxRecords,count:e.pagination.count,"total-results":e.pagination.totalResults,lang:e.lang,color:e.color},on:{change:e.pageChange}}),e._v(" "),n("div",{staticClass:"gdm-process-header",style:{background:e.$shadeColor(e.color,.8)}},[n("div",{staticClass:"gdm-process-header-column-1"},[e._v(e._s(e.$t("identifiers")))]),e._v(" "),n("div",{staticClass:"gdm-process-header-column-2"},[e._v("Status")]),e._v(" "),n("div",{staticClass:"gdm-process-header-column-3"},[e._v("\n          "+e._s(e.$t("process_dates"))),n("br"),e._v(" \n          ( Date "),n("span",{staticClass:"fa-button fa",class:1===e.order.date?"fa-long-arrow-down":"fa-long-arrow-up",on:{click:function(t){return e.orderChange("date")}}}),e._v(" )\n       ")]),e._v(" "),n("div",{staticClass:"gdm-process-header-column-4"},["DEM"===e.group?n("span",[e._v(e._s(e.$t("image_dates")))]):n("span",[e._v(e._s(e.$t("temporal_extent")))]),e._v(" "),n("span",{staticClass:"fa-button fa",class:1===e.order.temporal?"fa-long-arrow-down":"fa-long-arrow-up",on:{click:function(t){return e.orderChange("temporal")}}})]),e._v(" "),n("div",{staticClass:"gdm-process-header-column-5"},[e._v(e._s(e.$t("parameters")))])]),e._v(" "),n("div",{staticStyle:{border:"1px solid lightgrey",overflow:"auto"},style:{height:e.listHeight+"px"},on:{mouseleave:function(t){return e.highlight(null)}}},e._l(e.featureCollection.features,(function(t,r){return e.featureCollection?n("gdm-process-row",{key:r,attrs:{process:t,selected:e.selectedProcessId,back:e.back,"selected-service":e.parameters.service,"user-id":e.userId,"selected-user":e.parameters.user,"status-list":e.statusList,url:e.url,group:e.group,lang:e.lang},on:{selectService:e.selectService,selectUser:e.selectUser,highlight:e.highlight,selectProcess:e.selectProcess,removeProcess:e.removeProcess}}):e._e()})),1)],1):n("div",{staticClass:"message"},[e._v("\n      "+e._s(e.$t("no_process"))+"\n   ")])])])],1)}),[],!1,null,"36a1bbfe",null);"function"==typeof $.default&&Object($.default)(z);t.default=z.exports}}]);
//# sourceMappingURL=4.gdm-search-components-vjs.js.map