{"version":3,"file":"665.gdm-search-components-vjs.js","mappings":"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","sources":["webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue?73a4","webpack://gdm-search-components-vjs/./src/modules/leaflet.control.gdmlayer.js","webpack://gdm-search-components-vjs/./src/modules/leaflet.control.opacity.js","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-map.vue?19a9","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue?ae73","webpack://gdm-search-components-vjs/./src/assets/images/progress2.png","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-map.vue","webpack://gdm-search-components-vjs/src/subcomponents/gdm-map.vue","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-map.vue?c215","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-map.vue?1dc9","webpack://gdm-search-components-vjs/src/subcomponents/gdm-process-status.vue","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue?a241","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue?4e0c","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue?d7de","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-map.vue?3386","webpack://gdm-search-components-vjs/./src/subcomponents/gdm-process-status.vue?c3b7"],"sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"nothing\":\"nothing\"},\"fr\":{\"nothing\":\"nothing\"}}')\n  delete Component.options._Ctor\n}\n","/**\n * L control tiles with given default tiles\n */\n /* eslint no-undef: 0 */\n\n\n L.Control.Gdmlayer = L.Control.Layers.extend({\n   options: {\n     position: 'topleft',\n   },\n   bbox: null,\n   tiles: {\n     osm: {\n       name: 'OSM',\n       url: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n       attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n     },\n//     osmFr: {\n//       name: 'OpenStreetMap France',\n//       url: '//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png',\n//       attribution: 'donn&eacute;es &copy; <a href=\"//osm.org/copyright\">OpenStreetMap</a>/ODbL - rendu <a href=\"//openstreetmap.fr\">OSM France</a>'\n//     },\n//     opentopomap: {\n//       name: 'OpenStreetMap Topo',\n//       url: '//{s}.tile.opentopomap.org/{z}/{x}/{y}.png',\n//       attribution: 'Kartendaten: © <a href=\"https://openstreetmap.org/copyright\">OpenStreetMap</a>-Mitwirkende, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Kartendarstellung: © <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)'\n//     },\n     arcgisTopo: {\n       name: 'ArcGIS',\n       url: '//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',\n       attribution: 'Tiles © <a href=\"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer\">ArcGIS</a>'\n     }\n   },\n   initialize: function ( baseLayers, overlays, options) {\n     \n     L.Control.Layers.prototype.initialize.call(this, baseLayers, overlays, options)\n     // Default tiles allready in control\n     for (var key in this.tiles) {\n       var layer = L.tileLayer(this.tiles[key].url, {attribution: this.tiles[key].attribution})\n       this.tiles[key].layer = layer\n       this.addBaseLayer(layer, this.tiles[key].name)\n     }\n   },\n   addButton (obj) {\n    var div = document.createElement('input',name)\n    div.setAttribute('type', 'button')\n    div.setAttribute('value', this.lang === 'fr' ? 'Initialiser' : 'Reset')\n    div.style.textAlign = 'center'\n     L.DomEvent.on(div, 'click', funct)\n     var container =  this._overlaysList \n    container.appendChild(div)\n    \n   }, \n   addBboxLayer () {\n     return\n     this.bbox = L.layerGroup()\n     this.bbox.addTo(this._map)\n     this.addOverlay(this.bbox, 'bbox', true)\n   },\n   setBboxLayer (bboxLayer) {\n     return\n     if (this.bbox) {\n        this.bbox.clearLayers()\n     } else {\n        this.addBboxLayer()\n     }\n     if (bboxLayer) {\n        this.bbox.addLayer(bboxLayer)\n     }\n   },\n   removeBboxLayer () {\n     return\n     if (this.bbox) {\n       this.bbox.clearLayers()\n     }\n   },\n   /**\n    * Overwrite _addItem to insert title before group of images\n    * (single image or serie image)\n    */\n   _addItem: function (obj) {\n      if (obj.layer.first) {\n        // insert the title if there is a first attribute (containing title)\n        var div = document.createElement('b')\n        div.innerHTML = obj.layer.first\n        this._overlaysList.appendChild(div)\n      }\n      if (obj.layer.images) {\n          var div = document.createElement('div')\n          var has = this._map.hasLayer(obj.layer)\n          var _this = this\n          obj.layer.images.forEach(function (img, index) {\n            var label = document.createElement('label'),\n            checked = has && obj.layer.indexImage === index,\n            input;\n            input = document.createElement('input');\n            input.type = 'checkbox';\n            input.className = 'leaflet-control-layers-selector';\n            input.defaultChecked = checked;\n         \n            _this._layerControlInputs.push(input);\n            input.layerId = L.Util.stamp(obj.layer);\n            input.index = index\n    \n            L.DomEvent.on(input, 'click', _this._onInputClick, _this);\n    \n            var name = document.createElement('span');\n            name.innerHTML = ' ' + img.title;\n    \n            // Helps from preventing layer control flicker when checkboxes are disabled\n            // https://github.com/Leaflet/Leaflet/issues/2771\n            var holder = document.createElement('div');\n    \n            label.appendChild(holder);\n            holder.appendChild(input);\n            holder.appendChild(name);\n            div.appendChild(label)\n            var container =  _this._overlaysList ;\n            container.appendChild(div);\n  \n            _this._checkDisabledLayers();\n          })\n         \n          return div;\n      } else {\n        L.Control.Layers.prototype._addItem.call(this, obj)\n      }\n      if (obj.layer.last ) {\n         var div = document.createElement('div')\n         if (obj.layer.last.classname) {\n           div.classList.add(obj.layer.last.classname)\n         }\n         if (obj.layer.last.funct) {\n           div.style.textAlign = 'center'\n           var input = document.createElement('input')\n           input.setAttribute('type', 'button')\n           input.setAttribute('value', obj.layer.last.name)\n           if (obj.layer.last.title) {\n             input.setAttribute('title', obj.layer.last.title)\n           }\n           input.addEventListener('click', function (e) {\n             obj.layer.last.funct(e)\n             e.stopPropagation()\n           }, {once: true, useCapture: true})\n            div.appendChild(input)\n         } else {\n           div.innerHTML = '<b>' + obj.layer.last.name + '</b>'\n         }\n        this._overlaysList.appendChild(div)\n      }\n   /*   if (obj.layer.last) {\n         var div = document.createElement('input',obj.layer.last.name)\n        div.setAttribute('type', 'button')\n        div.setAttribute('value', obj.layer.last.title)\n        div.style.textAlign = 'center'\n        var _this = this\n        div.addEventListener('click', obj.layer.last.funct)\n        var container =  this._overlaysList \n        container.appendChild(div)\n      } */\n   },\n   /**\n    * Overwrite _onInputClick to remove the other layers (serie or image)\n    * when add a layer with type (serie or image)\n    */\n   _onInputClick: function (e) {\n     // get 'layerId' clicked and  if it is an exclusive layer (with type property)\n    \n     var layerId = e.target.layerId\n     var layer = this._getLayer(layerId).layer\n     var isExclusive = layer.hasOwnProperty('type')\n     var inputs = this._layerControlInputs,\n         input, layer;\n     var addedLayers = [],\n         removedLayers = [];\n     this._handlingClick = true;\n\n     for (var i = inputs.length - 1; i >= 0; i--) {\n       input = inputs[i];\n       layer = this._getLayer(input.layerId).layer;\n       // case TIO change image url of layer, has property index of the image\n       var isIndex = e.target.hasOwnProperty('index') ? e.target.index === input.index : true\n       if (input.checked && isIndex && (input.layerId === layerId || !isExclusive)) {\n         addedLayers.push(layer);\n         if (e.target.hasOwnProperty('index')) {\n           layer.setUrl(layer.images[e.target.index].png)\n           layer.legend = layer.images[e.target.index].legend\n           layer.indexImage = e.target.index\n//           layer.images.forEach(function (image, index) {\n//             if (index === e.target.index) {\n//                image.checked = true\n//             } else {\n//                image.checked = false\n//             }\n//           })\n           layer.checked = true\n         }\n//       } else if (!input.checked) {\n//         removedLayers.push(layer);\n       } else if (!input.checked || (layer.type && isExclusive)) {\n         input.checked = false\n         layer.checked = false\n         removedLayers.push(layer);\n       }\n     }\n\n     // Bugfix issue 2318: Should remove all old layers before readding new ones\n     for (i = 0; i < removedLayers.length; i++) {\n       if (this._map.hasLayer(removedLayers[i])) {\n         this._map.removeLayer(removedLayers[i]);\n       }\n     }\n     for (i = 0; i < addedLayers.length; i++) {\n       if (!this._map.hasLayer(addedLayers[i])) {\n         this._map.addLayer(addedLayers[i]);\n       }\n     }\n\n     this._handlingClick = false;\n\n     this._refocusOnMap();\n   },\n   /**\n    * Overwrite method _update from leaflet/src/core/Control.layers\n    * to use the local _addItem when update\n    */\n   _update: function () {\n     if (!this._container) { return this; }\n\n     L.DomUtil.empty(this._baseLayersList);\n     L.DomUtil.empty(this._overlaysList);\n\n     this._layerControlInputs = [];\n     var baseLayersPresent, overlaysPresent, i, obj, baseLayersCount = 0;\n\n     for (i = 0; i < this._layers.length; i++) {\n       obj = this._layers[i];\n       this._addItem(obj);\n       overlaysPresent = overlaysPresent || obj.overlay;\n       baseLayersPresent = baseLayersPresent || !obj.overlay;\n       baseLayersCount += !obj.overlay ? 1 : 0;\n     }\n\n     // Hide base layers section if there's only one layer.\n     if (this.options.hideSingleBase) {\n       baseLayersPresent = baseLayersPresent && baseLayersCount > 1;\n       this._baseLayersList.style.display = baseLayersPresent ? '' : 'none';\n     }\n\n     this._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\n\n     return this;\n   }\n })\n module.exports = L.Control.Gdmlayer\n","/**\n * \n */\n\n L.Control.Opacity = L.Control.extend({\n    options: {\n        position: 'topright',\n    },\n    _value: 0.5,\n    _layers: [],\n    _bbox: null,\n    _lang: 'en',\n    _hidden: true,\n    _translate: {\n      'en': {\n        'opacity': 'Opacity'\n      },\n      'fr': {\n        'opacity': 'Opacité'\n      }\n    },\n    initialize: function(lang, value){\n        this.setLang(lang)\n        if (value) {\n          this._value = value\n        }\n    },\n    getValue() {\n      return this._value\n    },\n    setLang (lang) {\n      this._lang = (['en', 'fr'].indexOf(lang) >=0 ? lang : 'en')\n    },\n    setLayers (layers) {\n      this._layers = layers\n      \n    },\n    setVisible (visible) {\n      if (visible) {\n        this._container.classList.remove('hidden')\n      } else {\n        this._container.classList.add('hidden')\n      }\n    },\n    setBbox (bbox) {\n      this._bbox = bbox\n      this._container.classList.remove('hidden')\n    },\n    onAdd : function(map){\n        \n        var container = L.DomUtil.create('div', 'leaflet-bar leaflet-control lfh-control-opacity hidden');\n        L.DomEvent.disableScrollPropagation(container)\n        L.DomEvent.disableClickPropagation(container)\n        var a = L.DomUtil.create('a', 'icon-progress')\n        a.setAttribute('title', this._translate[this._lang]['opacity'])\n        container.appendChild(a)\n        var div = L.DomUtil.create('div')\n        var label = L.DomUtil.create('strong')\n        label.textContent = this._translate[this._lang]['opacity']\n        div.appendChild(label)\n       \n        var input = L.DomUtil.create('input');\n        input.setAttribute('type', 'range');\n        input.setAttribute('name', 'opacity');\n        input.setAttribute('min', 0);\n        input.setAttribute('max', 1);\n        input.setAttribute('step', 0.1);\n        input.setAttribute('value', this._value);\n        div.appendChild(input)\n        container.appendChild(div);\n        var _this = this\n        L.DomEvent.on(input,'change', function (e) {\n          _this._layers.forEach(function (layer) {\n            layer.setOpacity(e.target.value)\n          })\n          if (_this._bbox) {\n            _this._bbox.setStyle(function (feature) {\n              return {fillOpacity: e.target.value}\n            })\n          }\n          L.DomEvent.stopPropagation(e)\n          L.DomEvent.preventDefault(e);\n          return false\n        })\n         L.DomEvent.on(label, 'click', function (e) {\n           _this._container.classList.remove('expand')\n        })\n        L.DomEvent.on(a, 'click', function (e) {\n          _this._container.classList.add('expand')\n        })\n        return container;\n    },\n   \n})\n\nmodule.exports = L.Control.Legend","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../assets/images/progress2.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \"\\n.gdm-mouseposition {\\n     position:absolute;\\n     bottom:5px;\\n     left:3px;\\n     font-size:11px;\\n     padding: 0 5px;\\n     color: #333;\\n     z-index:1;\\n     background: rgba(255, 255, 255, 0.7);\\n}\\n.research-map{\\n  float:left;\\n  margin-right: 10px;\\n}\\ndiv.map-container {\\n}\\ndiv[id=\\\"fmtMap\\\"]{\\n position:relative;\\n width: 100%;\\n min-height: 200px;\\n z-index: 0;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small {\\n max-height:200px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small .leaflet-top .leaflet-control{\\n   margin-top: 3px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small .leaflet-left .leaflet-control{\\n   margin-left: 3px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small.leaflet-control .leaflet-control-zoom-in, \\ndiv[id=\\\"fmtMap\\\"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\\n  font-size:16px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small .leaflet-bar a,\\ndiv[id=\\\"fmtMap\\\"].mtdt-small .leaflet-control a{\\n width: 15px;\\n height:15px;\\n line-height:15px;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-fullscreen {\\n   cursor:pointer;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-legend {\\n   cursor: pointer;\\n   background: white;\\n   display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity {\\n  background:white;\\n  display:block;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity.hidden {\\n  display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity.expand {\\n  padding:5px;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity a.icon-progress{\\n   background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n   background-size: cover;\\n   pointer-events:auto;\\n   cursor:pointer;\\n   display:block;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity.expand a.icon-progress{\\n   display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity div{\\n   display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity strong{\\n   display:block;\\n   text-align:right;\\n   cursor:pointer;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity input{\\n   pointer-events:auto;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-opacity.expand div {\\n    display:block;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-legend img{\\n    display:block;\\n    max-height:250px;\\n    max-width: 300px;\\n}\\ndiv[id=\\\"fmtMap\\\"]  div.lfh-control-legend{\\n    display:block;\\n}\\ndiv[id=\\\"fmtMap\\\"]  div.lfh-control-legend.hidden,\\n    div[id=\\\"fmtMap\\\"]  div.lfh-control-legend.opacity{\\n    display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small .lfh-control-legend img{\\n   max-width:120px;\\n   max-height:100px;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-legend img{\\n    display: none;\\n}\\n/*  div[id=\\\"fmtMap\\\"] .lfh-control-legend a{\\n   display:block;\\n } */\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-legend.expand img{;\\n   display:block;\\n   margin-left:5px;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-legend.expand img:first-child{\\n    margin-left:0px;\\n}\\ndiv[id=\\\"fmtMap\\\"] .lfh-control-legend.expand a{\\n   display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-fullscreen{\\n   min-height:400px;\\n   width:100%;\\n   font-size: 16px;\\n}\\ndiv[id=\\\"fmtMap\\\"] a.leaflet-control-layers-toggle{\\n  background-image: none;\\n  color: black;\\n  text-decoration: none;\\n  text-align:center;\\n}\\ndiv[id=\\\"fmtMap\\\"] a.leaflet-control-layers-toggle::before{\\n   font-family:Formater;\\n   content: \\\"\\\\e806\\\";\\n}\\ndiv[id=\\\"fmtMap\\\"] .leaflet-control-layers-expanded {\\n          padding: 3px 5px;\\n}\\ndiv[id=\\\"fmtMap\\\"] section.leaflet-control-layers-list input[type=radio],\\n     div[id=\\\"fmtMap\\\"] section.leaflet-control-layers-list input[type=checkbox]{\\n     display:none;\\n}\\ndiv[id=\\\"fmtMap\\\"] section.leaflet-control-layers-list  input[type=radio] + span:before {\\n     font-family: FontAwesome;\\n     content: \\\"\\\\f10c\\\";\\n     opacity:0.8;\\n     cursor: pointer;\\n}\\ndiv[id=\\\"fmtMap\\\"] section.leaflet-control-layers-list input[type=radio]:checked + span:before {\\n     content: \\\"\\\\f111\\\";\\n     opacity:1;\\n}\\ndiv[id=\\\"fmtMap\\\"] section.leaflet-control-layers-list  input[type=checkbox] + span:before {\\n     font-family: FontAwesome;\\n     content: \\\"\\\\f096\\\";\\n     opacity:0.8;\\n     cursor: pointer;\\n}\\ndiv[id=\\\"fmtMap\\\"] section.leaflet-control-layers-list input[type=checkbox]:checked + span:before {\\n     content: \\\"\\\\f046\\\";\\n     opacity:1;\\n}\\ndiv[id=\\\"fmtMap\\\"] .leaflet-control-layers-base label span{\\n   vertical-align: middle;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-fullscreen{\\n   min-height:300px;\\n   font-size: 16px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-fullscreen a.leaflet-control-layers-toggle{\\n   width: 30px;\\n   height: 30px;\\n   border-radius: 2px;\\n   line-height: 30px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-fullscreen a.leaflet-control-layers{\\n   border-radius: 2px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-small .leaflet-popup-content{\\n\\n   font-size: 10px;\\n}\\ndiv[id=\\\"fmtMap\\\"].mtdt-fullscreen .leaflet-popup-content{\\n\\n   font-size: 14px;\\n}\\ndiv[id=\\\"fmtMap\\\"] .leaflet-popup-content h3 {\\n   margin: 0 0 5px 0;\\n}\\ndiv[id=\\\"fmtMap\\\"] .leaflet-popup-content label {\\n   font-weight:700;\\n}\\ndiv[id=\\\"fmtMap\\\"] .leaflet-pane > svg path {\\n  pointer-events: auto;\\n}\\ndiv[id=\\\"fmtMap\\\"] h3 {\\n   color: inherit;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\nspan.failed[data-v-fd4ad91e]{\\n color: darkred;\\n}\\nspan.terminated[data-v-fd4ad91e]{\\n color:darkgreen;\\n}\\nspan.running[data-v-fd4ad91e], \\nspan.accepted[data-v-fd4ad91e],\\nspan.waiting[data-v-fd4ad91e]{\\n  color: grey;\\n  font-size:16px;\\n}\\n\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = \"data:image/png;base64,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\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"gdm-map\"},[(_vm.tio && _vm.tio.searching)?_c('div',{staticClass:\"fa fa-spinner fa-spin fa-2x fa-fw\",staticStyle:{\"position\":\"fixed\",\"top\":\"50%\",\"left\":\"50%\",\"z-index\":\"3002\",\"color\":\"#333\"}}):_vm._e(),_vm._v(\" \"),(_vm.tio.img)?_c('tio-graph',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tio.showGraph),expression:\"tio.showGraph\"}],attrs:{\"dates\":_vm.tio.img.dates,\"ns-values\":_vm.tio.ptValues.ns,\"ew-values\":_vm.tio.ptValues.ew,\"keys\":_vm.tio.img.keys,\"maximum\":_vm.tio.img.max,\"lang\":_vm.lang},on:{\"close\":function($event){_vm.tio.showGraph=false}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mtdt-small\",attrs:{\"id\":\"fmtMap\"}}),_vm._v(\" \"),_c('div',{staticClass:\"gdm-mouseposition\"},[_vm._v(_vm._s(_vm.mouseposition))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<span class=\"gdm-map\">\n  <div v-if=\"tio && tio.searching\" style=\"position:fixed;top:50%;left:50%;z-index:3002;color:#333;\" class=\"fa fa-spinner fa-spin fa-2x fa-fw\"></div>\n   \n <tio-graph v-if=\"tio.img\" v-show=\"tio.showGraph\" :dates=\"tio.img.dates\" :ns-values=\"tio.ptValues.ns\" :ew-values=\"tio.ptValues.ew\" \n   :keys=\"tio.img.keys\" :maximum=\"tio.img.max\" :lang=\"lang\" @close=\"tio.showGraph=false\"></tio-graph>\n\n\t <div id=\"fmtMap\" class=\"mtdt-small\"></div>\n\t <div class=\"gdm-mouseposition\" >{{mouseposition}}</div>\n\n </span>\n</template>\n<script>\nvar L = require(\"leaflet\");\nL.Control.Gdmlayer = require('../modules/leaflet.control.gdmlayer.js')\nL.Control.Fullscreen = require('formater-commons-components-vjs/src/leaflet/leaflet.control.fullscreen.js')\nL.Control.Legend = require('formater-commons-components-vjs/src/leaflet/leaflet.control.legend.js')\nrequire('../modules/leaflet.control.opacity.js')\nrequire('leaflet-imageoverlay-rotated')\n// import GdmSerieNavigation from './gdm-serie-navigation.vue'\nimport Tio from 'gdm-tio-vjs/src/modules/leaflet.imageOverlay.rotated.tio.js'\nL.ImageOverlay.Rotated.Tio = Tio\nconst TioGraph = () => import('gdm-tio-vjs/src/tio-graph.vue')\nexport default {\n  name: 'GdmMap',\n  components: {\n  //  GdmSerieNavigation,\n    TioGraph\n  },\n  props: {\n    featureCollection: {\n      type: Object,\n      default:null\n    },\n    bbox: {\n      type: Object,\n      default: null\n    },\n    tile: {\n      type: Array,\n      default: null\n    },\n    fullscreen: {\n      type: String,\n      default: null\n    },\n    removeHeight: {\n      type: Number,\n      default: null\n    },\n    images: {\n      type: Array,\n      default: null\n    },\n    series: {\n      type: Object,\n      default: null\n    },\n    serieIndex: {\n      type: Number,\n      default: 0\n    },\n    lidar: {\n      type: Object,\n      default: null,\n    },\n    serviceName: {\n      type: String,\n      default: null\n    },\n    lang: {\n      type: String,\n      default: 'en'\n    }\n  },\n  data () {\n    return {\n      map: null,\n      controlLayer: null,\n      controlLegend:null,\n      controlOpacity: null,\n      featureGroup: null,\n      lidarFeature: null,\n      bboxLayer: null,\n      bboxTile: null,\n      defaultRectangleOptions: {\n        interactive: false,\n        fillColor:'orange', \n        fillOpacity:0.05, \n        stroke: true, \n        weight:1, \n        color: 'orange'\n      },\n      selectListener: null,\n      highlightListener: null,\n      highlightedLayer: null,\n      mouseposition: null,\n      // selected layer\n      selectedLayer: null,\n      fullscreenLayer: null,\n      imageLayers: [],\n      countImages: 0,\n      tio: {\n        ptValues: {\n          ns: [],\n          ew: []\n        },\n        showGraph: false,\n        img: null,\n        searching: false\n      }\n    }\n  },\n  watch: {\n    featureCollection(newCollections) {\n       this.initFeatureCollection()\n    },\n    removeHeight (newValue) {\n   \n      if (this.fullscreenLayer) {\n        this.fullscreenLayer.setRemoveHeight(newvalue)\n      }\n    },\n    images (newImages, old) {\n       this.initImageLayers(newImages)\n    },\n    serieIndex (index) {\n      this.serieDateChange(index)\n    },\n    lidar (newvalue) {\n      \n      if (newvalue) {\n        this.lidarFeature = L.geoJSON(newvalue, {style: function (feature) {\n          return {\n            interactive: false,\n            fillColor:'darkgreen', \n            fillOpacity:0.05, \n            stroke: true, \n            weight:1, \n            color: 'darkgreen'\n          }}\n        }).addTo(this.map)\n      } else if (this.lidarFeature) {\n        this.lidarFeature.remove()\n        this.lidarFeature = null;\n      }\n     \n    }\n  },\n  created () {\n    if (this.tile) {\n      this.bboxTile = [\n        [this.tile[1], this.tile[0]],\n        [this.tile[3], this.tile[2]]\n      ]\n    }\n    this.highlightListener = this.changeHighlightedLayer.bind(this)\n    document.addEventListener('gdm:processHighlight', this.highlightListener)\n     this.selectListener = this.selectLayer.bind(this)\n    document.addEventListener('gdm:processSelect', this.selectListener)\n  },\n  mounted () {\n    this.initialize()\n  },\n  destroyed () {\n    document.removeEventListener('gdm:processHighlight', this.highlightListener)\n    this.highlightListener = null\n    document.removeEventListener('gdm:processSelect', this.selectListener)\n    this.selectListener = null\n    if (this.map) {\n      this.map.remove()\n    }\n  },\n  methods: {\n   toggleImageLayer (e, checked) {\n     var index = e.index\n     if (checked) {\n      // this.imageLayers[index].addTo(this.map)\n       var _this = this\n       this.imageLayers.forEach(function (image, i) {\n         if (i === index ) {\n             if (e.hasOwnProperty('indexImage')) {\n               image.indexImage = e.indexImage\n               image.legend = image.images[e.indexImage].legend\n              _this.controlLegend.removeLegend(index)\n             _this.controlLegend.addLegend(0, index, image.images[e.indexImage].legend)\n               image.setUrl(image.images[e.indexImage].png)\n               // _this.$set(_this.imageLayers, i, image)\n                _this.controlLayer._update()\n             }\n             image.addTo(_this.map)\n         } else {\n           if (_this.map.hasLayer(image)) {\n             image.remove()\n           }\n         }\n       })\n     } else {\n       this.imageLayers[index].remove()\n     }\n   },\n   serieDateChange (index) {\n     var _this = this\n     var i = this.imageLayers.findIndex(layer => _this.map.hasLayer(layer))\n     if (i < 0) {\n       return\n     }\n      \n     if (this.imageLayers[i].type === 'serie' || this.imageLayers[i].type === 'list') {\n       var image = this.series[this.imageLayers[i].name].images[index]\n       this.$emit('loadingLayer', true)\n       this.imageLayers[i].setUrl(image.png)\n     }\n   },\n//    toggleSerieLayer (name, checked) {\n//      if (this.serieLayers[name]) {\n//        this.serieLayers[name].remove()\n//        this.serieLayers[name] = null\n//        delete this.serieLayers[name]\n//      }\n//      var image = this.series[name].images[this.serieIndex]\n//      if (checked) {\n//        var bounds = [\n//          [image.bbox[1], image.bbox[0]],\n//          [image.bbox[3], image.bbox[2]]]\n//        this.serieLayers[name] = L.imageOverlay(image.png, bounds, {opacity: this.controlOpacity.getValue()})\n//        this.serieLayers[name].addTo(this.map)\n//      }  \n//    },\n   changeHighlightedLayer (event) {\n      var id = event.detail.id\n      this.unHighlightLayer()\n      this.highlightLayer(id)\n    },\n    initialize () {\n      var container = this.$el.querySelector('#fmtMap');\n      this.map = L.map( container, {scrollWheelZoom: false}).setView([51.505, -0.09], 1);\n      this.controlLayer = new L.Control.Gdmlayer(null, null,{position: 'topleft'})\n      this.controlLayer.tiles.arcgisTopo.layer.addTo(this.map)\n      if (this.serviceName && (this.serviceName === 'GDM-OPT-ICE' || this.serviceName === 'MPIC-OPT-ICE')) {\n          var options = {\n            layers: 'GLIMS_GLACIERS',\n            format: 'image/png'\n          }\n          var glacierLayer = L.tileLayer.wms('https://www.glims.org/mapservice?', options)\n          this.controlLayer.addOverlay(glacierLayer, 'GLIMS Glaciers')\n      }\n      this.controlLayer.addTo(this.map)\n      if (this.fullscreen) {\n        this.fullscreenLayer = new L.Control.Fullscreen(this.fullscreen, {lang: this.$i18n.locale, removeHeight: this.removeHeight, mouseWheel: true})\n        this.fullscreenLayer.addTo(this.map)\n      }\n      this.controlLegend = new L.Control.Legend(this.$i18n.locale, function (uuid) { return 'i' + uuid;})\n      this.controlLegend.addTo(this.map)\n      // deploy legend by default\n      this.controlLegend._container.classList.add('expand')\n      this.controlOpacity = new L.Control.Opacity(this.$i18n.locale)\n      this.controlOpacity.addTo(this.map)\n      this.map.getPane('overlayPane').style.pointerEvents = 'auto'\n      this.initBbox()\n      this.initFeatureCollection()\n      this.initImageLayers(this.images)\n      var _this = this\n      this.map.on('mousemove', function (e) {\n        var lat = Math.round(e.latlng.lat * 10000) / 10000\n        var lng = Math.round(e.latlng.lng * 10000) / 10000\n        _this.mouseposition = 'Latlng(' + lat + ', ' + lng + ')'\n        _this.$emit('mousemove', _this.mouseposition)\n      })\n      this.map.on('mouseout', function (e) {\n        _this.mouseposition = null\n      })\n    },\n    initBbox () {\n      if (this.bboxLayer) {\n        this.bboxLayer.clearLayers()\n        this.bboxLayer.remove()\n        this.bboxLayer = null\n      }\n      if (this.map && this.bbox) {\n        this.bboxLayer = L.geoJSON(this.bbox, {\n          style: function (feature) {\n            return {\n              interactive: false,\n              fillColor:'red', \n              fillOpacity:0.05, \n              stroke: true, \n              weight:1, \n              color: 'red'\n            }\n          }\n        }).addTo(this.map)\n        this.controlLayer.addOverlay(this.bboxLayer, 'bbox')\n        // this.controlOpacity.setBbox(this.bboxLayer)\n      }\n      if (this.bboxLayer) {\n        this.map.fitBounds(this.bboxLayer.getBounds())\n\t    } \n        \n    },\n    initFeatureCollection () {\n      if (this.featureGroup) {\n        this.featureGroup.clearLayers()\n        this.featureGroup = null\n      }\n      if (this.map && this.featureCollection && this.featureCollection.type) {\n        var self = this\n        this.featureGroup =  L.geoJSON(this.featureCollection, {\n          style: function (feature) {\n           return self.defaultRectangleOptions;\n           },\n           onEachFeature: function (feature, layer) {\n             layer.className = 'row' + feature.properties.id\n             layer.id = feature.properties.id\n             var html = ''\n             if (typeof feature.properties.processusName !== 'undefined') {\n               html += '<h3>' + feature.properties.processusName + '</h3>'\n                \n             }\n             html += '<div><label>Id</label>: ' + layer.id + '</div>'\n             if (feature.properties.token) {\n                html += '<div><label>token</label>: ' + feature.properties.token + '</div>'\n             }\n             html += '<div><label>email</label>: ' + feature.properties.email + '</div>'\n             html += '<div><label>service</label>: ' + feature.properties.serviceName + '</div>'\n             layer.bindPopup(html)\n             layer.on('click', function () {\n               this.openPopup()\n               var event = new CustomEvent('gdm:selectProcessLayer', {detail: {id: layer.id}})\n               document.dispatchEvent(event)\n             \n             })\n           },\n           interactive: true,\n           zIndex: 100\n         }).addTo(this.map);\n        if (this.featureGroup && this.featureGroup.getLayers().length > 0) {\n            this.map.fitBounds(this.featureGroup.getBounds())\n        } else {\n          this.map.fitBounds([[-60,-120],[75,130]])\n        }\n      }\n    },\n    initImageLayers (images) {\n      // see if done\n      if (this.imageLayers.length > 0) {\n        return\n      }\n    \n      if (images && images.length > 0) {\n        \n        var _this = this\n        images.forEach(function (image, index) {\n          _this.initImageLayer(image, index)\n        })\n        this.controlOpacity.setLayers(this.imageLayers)\n      }\n    },\n    initImageLayer (image, index) {\n      if (image.bbox) {\n        var bounds = [[image.bbox[1], image.bbox[0]], [image.bbox[3], image.bbox[2]]]\n      } else if (this.bboxTile && image.title.charAt(0) === 'T') {\n        var bounds = this.bboxTile\n//       } else if (image.bounds){\n//          var bounds = [[image.bounds.pointTL[1], image.bounds.pointTL[0]],\n//                        [image.bounds.pointBR[1], image.bounds.pointBR[0]]]\n      } else {\n        var bounds = this.bboxLayer.getBounds()\n      }\n//       var ext = image.src.match(/\\.[0-9a-z]+$/i)\n//       console.log(ext)\n      var _this = this\n      if (image.mp4) {\n        var layer = L.videoOverlay(image.mp4, bounds, {interactive: true, opacity:this.controlOpacity.getValue()})\n        \n      } else if (image.png && !image.bounds) {\n          var layer = L.imageOverlay(image.png, bounds, {opacity: this.controlOpacity.getValue()})\n      } else if (image.png && image.bounds) {\n        var layer = new L.ImageOverlay.Rotated(image.png, [image.bounds.pointTL[1], image.bounds.pointTL[0]], \n        [image.bounds.pointTR[1], image.bounds.pointTR[0]],\n        [image.bounds.pointBL[1], image.bounds.pointBL[0]],\n        {opacity: 0.5})\n      } else if (image.root) {\n        var layer = new L.ImageOverlay.Rotated.Tio(image.root)\n        layer.on('TIO:RESET', function (resp) {\n          _this.tio.ptValues = {ew: [], ns: []}\n          _this.tio.showGraph = false\n        })\n        layer.on('TIO:DATA', function (resp) {\n          _this.$set(_this.tio.ptValues, resp.dimension, resp.values)\n          _this.tio.showGraph = true\n        })\n        layer.on('TIO:SEARCHING', function (event) {\n          _this.tio.searching = event.searching\n        })\n        layer.on('TIO:READY', function (data) {\n          //_this.images = this.images\n          _this.controlLayer.addOverlay(this, 'Inversion')\n          _this.$emit('tioReady', {layer: layer, index: index})\n        })\n        this.tio.img = layer\n        \n      }\n      if (image.legend) {\n        layer.legend = image.legend\n      }\n      if (image.first) {\n        layer.first = image.first\n      }\n      layer.type = image.type ? image.type : 'image'\n      layer.name = image.title\n      layer.on('load', function (e) {\n        _this.$emit('loadingLayer', false)\n      })\n      layer.on('add', function () {\n        if (image.mp4) {\n\t        layer.getElement().currentTime = 0\n\t        layer.getElement().play()\n        }\n//         if (_this.images[index].legend) {\n//           _this.controlLegend.addLegend(0, index, _this.images[index].legend)\n//         }else \n          if (this.legend) {\n          _this.controlLegend.addLegend(0, index, this.legend)\n        }\n        // remove the others\n//         _this.imageLayers.forEach(function (image, i) {\n//           if (i !== index && _this.map.hasLayer(image)) {\n//             image.remove()\n//           }\n//         })\n        _this.countImages = _this.countImages + 1\n        if (_this.countImages > 0) {\n          _this.controlOpacity.setVisible(true)\n        } else {\n          _this.controlOpacity.setVisible(false)\n        }\n        _this.$emit('imageAdded', {index: index, indexImage: layer.indexImage})\n      })\n      layer.on('remove', function () {\n        if (_this.images[index].legend || this.legend) {\n          _this.controlLegend.removeLegend(index)\n        }\n      \n        _this.countImages = _this.countImages -1\n        if (_this.countImages > 0) {\n          _this.controlOpacity.setVisible(true)\n        } else {\n          _this.controlOpacity.setVisible(false)\n        }\n        _this.$emit('imageRemoved', index)\n      })\n      this.imageLayers.push(layer)\n      // layer.addTo(_this.map)\n      if (!image.root) {\n         this.controlLayer.addOverlay(layer, image.title, 'common')\n      }\n    },\n    highlightLayer (id)\n    {\n      if (this.featureGroup.getLayers().length === 0) {\n        return\n      }\n      this.highlightedLayer = this.featureGroup.getLayers().find( (el => el.id === id))\n      if (this.highlightedLayer) {\n        this.highlightedLayer.setStyle({fillColor: 'red', color: 'red'})\n      }\n\n    },\n    selectLayer (event) {\n      var id = event.detail.id\n      var selectedId = this.selectedLayer ? this.selectedLayer.id : null\n      this.unselectLayer()\n      if (id && id !== selectedId) {\n        this.selectedLayer = this.featureGroup.getLayers().find( (el => el.id === id))\n        if (this.selectedLayer) {\n          this.selectedLayer.setStyle({fillColor: 'red', color: 'red'})\n          this.selectedLayer.openPopup()\n        }\n      }\n      if (this.selectedLayer) {\n        this.map.fitBounds(this.selectedLayer.getBounds(), {maxZoom: 10})\n      } else {\n        this.map.fitBounds(this.featureGroup.getBounds())\n      }\n    },\n    unHighlightLayer()\n    {\n      var selectedId = this.selectedLayer ? this.selectedLayer.id : null\n      if (this.highlightedLayer && this.highlightedLayer.id !== selectedId) {\n        this.highlightedLayer.setStyle(this.defaultRectangleOptions)\n        this.highlightedLayer = null\n      }\n    },\n    unselectLayer() {\n      if (this.selectedLayer) {\n        this.selectedLayer.setStyle(this.defaultRectangleOptions)\n        this.selectedLayer.closePopup()\n        this.selectedLayer = null\n      }\n    }\n  \n  }\n}\n</script>\n<style src=\"leaflet/dist/leaflet.css\"></style>\n<style src=\"formater-commons-components-vjs/src/assets/css/fontello.css\"></style>\n\n<style src=\"formater-commons-components-vjs/src/assets/css/formater-icon.css\"></style>\n<style>\n.gdm-mouseposition {\n     position:absolute;\n     bottom:5px;\n     left:3px;\n     font-size:11px;\n     padding: 0 5px;\n     color: #333;\n     z-index:1;\n     background: rgba(255, 255, 255, 0.7);\n   }\n.research-map{\n  float:left;\n  margin-right: 10px;\n}\ndiv.map-container {\n}\ndiv[id=\"fmtMap\"]{\n position:relative;\n width: 100%;\n min-height: 200px;\n z-index: 0;\n}\ndiv[id=\"fmtMap\"].mtdt-small {\n max-height:200px;\n}\ndiv[id=\"fmtMap\"].mtdt-small .leaflet-top .leaflet-control{\n   margin-top: 3px;\n}\ndiv[id=\"fmtMap\"].mtdt-small .leaflet-left .leaflet-control{\n   margin-left: 3px;\n}\ndiv[id=\"fmtMap\"].mtdt-small.leaflet-control .leaflet-control-zoom-in, \ndiv[id=\"fmtMap\"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\n  font-size:16px;\n}\ndiv[id=\"fmtMap\"].mtdt-small .leaflet-bar a,\ndiv[id=\"fmtMap\"].mtdt-small .leaflet-control a{\n width: 15px;\n height:15px;\n line-height:15px;\n }\n div[id=\"fmtMap\"] .lfh-control-fullscreen {\n   cursor:pointer;\n   }\n  div[id=\"fmtMap\"] .lfh-control-legend {\n   cursor: pointer;\n   background: white;\n   display:none;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity {\n  background:white;\n  display:block;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity.hidden {\n  display:none;\n  \n }\n div[id=\"fmtMap\"] .lfh-control-opacity.expand {\n  padding:5px;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity a.icon-progress{\n   background-image: url(\"../assets/images/progress2.png\");\n   background-size: cover;\n   pointer-events:auto;\n   cursor:pointer;\n   display:block;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity.expand a.icon-progress{\n   display:none;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity div{\n   display:none;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity strong{\n   display:block;\n   text-align:right;\n   cursor:pointer;\n }\n div[id=\"fmtMap\"] .lfh-control-opacity input{\n   pointer-events:auto;\n }\n  div[id=\"fmtMap\"] .lfh-control-opacity.expand div {\n    display:block;\n  }\n  div[id=\"fmtMap\"] .lfh-control-legend img{\n    display:block;\n    max-height:250px;\n    max-width: 300px;\n  }\n   div[id=\"fmtMap\"]  div.lfh-control-legend{\n    display:block;\n  }\n    div[id=\"fmtMap\"]  div.lfh-control-legend.hidden,\n    div[id=\"fmtMap\"]  div.lfh-control-legend.opacity{\n    display:none;\n  }\n \n div[id=\"fmtMap\"].mtdt-small .lfh-control-legend img{\n   max-width:120px;\n   max-height:100px;\n }\n div[id=\"fmtMap\"] .lfh-control-legend img{\n    display: none;\n  }\n/*  div[id=\"fmtMap\"] .lfh-control-legend a{\n   display:block;\n } */\n  div[id=\"fmtMap\"] .lfh-control-legend.expand img{;\n   display:block;\n   margin-left:5px;\n }\n   div[id=\"fmtMap\"] .lfh-control-legend.expand img:first-child{\n    margin-left:0px;\n   }\n  div[id=\"fmtMap\"] .lfh-control-legend.expand a{\n   display:none;\n \n }\n div[id=\"fmtMap\"].mtdt-fullscreen{\n   min-height:400px;\n   width:100%;\n   font-size: 16px;\n }\n div[id=\"fmtMap\"] a.leaflet-control-layers-toggle{\n  background-image: none;\n  color: black;\n  text-decoration: none;\n  text-align:center;\n }\n  div[id=\"fmtMap\"] a.leaflet-control-layers-toggle::before{\n   font-family:Formater;\n   content: \"\\e806\";\n  }\n  \n\n    div[id=\"fmtMap\"] .leaflet-control-layers-expanded {\n          padding: 3px 5px;\n   }\n    div[id=\"fmtMap\"] section.leaflet-control-layers-list input[type=radio],\n     div[id=\"fmtMap\"] section.leaflet-control-layers-list input[type=checkbox]{\n     display:none;\n }\n    div[id=\"fmtMap\"] section.leaflet-control-layers-list  input[type=radio] + span:before {\n     font-family: FontAwesome;\n     content: \"\\f10c\";\n     opacity:0.8;\n     cursor: pointer;\n     \n  }\n  div[id=\"fmtMap\"] section.leaflet-control-layers-list input[type=radio]:checked + span:before {\n     content: \"\\f111\";\n     opacity:1;\n     \n  }\n  div[id=\"fmtMap\"] section.leaflet-control-layers-list  input[type=checkbox] + span:before {\n     font-family: FontAwesome;\n     content: \"\\f096\";\n     opacity:0.8;\n     cursor: pointer;\n  }\n    \n  div[id=\"fmtMap\"] section.leaflet-control-layers-list input[type=checkbox]:checked + span:before {\n     content: \"\\f046\";\n     opacity:1;\n     \n  }\n\n div[id=\"fmtMap\"] .leaflet-control-layers-base label span{\n   vertical-align: middle;\n }\n \n div[id=\"fmtMap\"].mtdt-fullscreen{\n   min-height:300px;\n   font-size: 16px;\n }\n div[id=\"fmtMap\"].mtdt-fullscreen a.leaflet-control-layers-toggle{\n   width: 30px;\n   height: 30px;\n   border-radius: 2px;\n   line-height: 30px;\n }\n div[id=\"fmtMap\"].mtdt-fullscreen a.leaflet-control-layers{\n   border-radius: 2px;\n   }\n   \n     div[id=\"fmtMap\"].mtdt-small .leaflet-popup-content{\n\n   font-size: 10px;\n }\n  div[id=\"fmtMap\"].mtdt-fullscreen .leaflet-popup-content{\n\n   font-size: 14px;\n }\n div[id=\"fmtMap\"] .leaflet-popup-content h3 {\n   margin: 0 0 5px 0;\n }\n  div[id=\"fmtMap\"] .leaflet-popup-content label {\n   font-weight:700;\n }\n div[id=\"fmtMap\"] .leaflet-pane > svg path {\n  pointer-events: auto;\n }\n div[id=\"fmtMap\"] h3 {\n   color: inherit;\n }\n</style>","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gdm-map.vue?vue&type=template&id=fef02290&\"\nimport script from \"./gdm-map.vue?vue&type=script&lang=js&\"\nexport * from \"./gdm-map.vue?vue&type=script&lang=js&\"\nimport style0 from \"leaflet/dist/leaflet.css?vue&type=style&index=0&prod&lang=css&\"\nimport style1 from \"formater-commons-components-vjs/src/assets/css/fontello.css?vue&type=style&index=1&prod&lang=css&\"\nimport style2 from \"formater-commons-components-vjs/src/assets/css/formater-icon.css?vue&type=style&index=2&prod&lang=css&\"\nimport style3 from \"./gdm-map.vue?vue&type=style&index=3&id=fef02290&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<i18n>\n{\n   \"en\":{\n     \"nothing\": \"nothing\"\n   },\n   \"fr\":{\n     \"nothing\": \"nothing\"\n   }\n}\n</i18n>\n<template>\n<div style=\"text-align:center;cursor:pointer;\" :title=\"title\">\n <span :class=\"statusList[status].icon\" ></span>\n   <div style=\"font-style:italic;font-size:0.9rem;color:grey;margin-bottom:5px;\">\n     {{statusList[status].collection}}\n   </div>\n</div>         \n</template>\n<script>\nexport default {\n  name: 'GdmProcessStatus',\n  props:{\n    status: {\n      type: String,\n      default: 'WAITING'\n    },\n    statusList: {\n      type: Object,\n      default: () => {}\n    },\n    lang: {\n      type: String,\n      default: 'en'\n    },\n    progress: {\n      type: String|Number,\n      default: 0\n    },\n    size: {\n      type: String,\n      default: 'small'\n    }\n  },\n  data(){\n    return {\n    }\n  },\n  computed: {\n    title () {\n      if (this.status === 'RUNNING') {\n        return this.progress + '%'\n      } else {\n        return this.statusList[this.status].description\n      }\n    }\n  },\n  destroyed: function() {\n  },\n  created: function () {\n    this.$i18n.locale = this.lang\n  },\n  mounted: function(){\n  },\n  methods:{\n  }\n}\n</script>\n<style scoped>\nspan.failed{\n color: darkred;\n}\n\nspan.terminated{\n color:darkgreen;\n}\n\n\nspan.running, \nspan.accepted,\nspan.waiting{\n  color: grey;\n  font-size:16px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-process-status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-process-status.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-process-status.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../node_modules/@intlify/vue-i18n-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-process-status.vue?vue&type=custom&index=0&blockType=i18n\"","import { render, staticRenderFns } from \"./gdm-process-status.vue?vue&type=template&id=fd4ad91e&scoped=true&\"\nimport script from \"./gdm-process-status.vue?vue&type=script&lang=js&\"\nexport * from \"./gdm-process-status.vue?vue&type=script&lang=js&\"\nimport style0 from \"./gdm-process-status.vue?vue&type=style&index=0&id=fd4ad91e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd4ad91e\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./gdm-process-status.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"text-align\":\"center\",\"cursor\":\"pointer\"},attrs:{\"title\":_vm.title}},[_c('span',{class:_vm.statusList[_vm.status].icon}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-style\":\"italic\",\"font-size\":\"0.9rem\",\"color\":\"grey\",\"margin-bottom\":\"5px\"}},[_vm._v(\"\\n     \"+_vm._s(_vm.statusList[_vm.status].collection)+\"\\n   \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-map.vue?vue&type=style&index=3&id=fef02290&prod&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3d467b4d\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gdm-process-status.vue?vue&type=style&index=0&id=fd4ad91e&prod&scoped=true&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4df6924b\", content, true, {});"],"names":["module","exports","Component","options","__i18n","push","_Ctor","L","Control","Gdmlayer","Layers","extend","position","bbox","tiles","osm","name","url","attribution","arcgisTopo","initialize","baseLayers","overlays","key","prototype","call","this","layer","tileLayer","addBaseLayer","addButton","obj","div","document","createElement","setAttribute","lang","style","textAlign","DomEvent","on","funct","_overlaysList","appendChild","addBboxLayer","setBboxLayer","bboxLayer","removeBboxLayer","_addItem","first","innerHTML","images","has","_map","hasLayer","_this","forEach","img","index","input","label","checked","indexImage","type","className","defaultChecked","_layerControlInputs","layerId","Util","stamp","_onInputClick","title","holder","_checkDisabledLayers","last","classname","classList","add","addEventListener","e","stopPropagation","once","useCapture","target","isExclusive","_getLayer","hasOwnProperty","inputs","addedLayers","removedLayers","_handlingClick","i","length","isIndex","setUrl","png","legend","removeLayer","addLayer","_refocusOnMap","_update","_container","DomUtil","empty","_baseLayersList","baseLayersPresent","overlaysPresent","baseLayersCount","_layers","overlay","hideSingleBase","display","_separator","Opacity","_value","_bbox","_lang","_hidden","_translate","value","setLang","getValue","indexOf","setLayers","layers","setVisible","visible","remove","setBbox","onAdd","map","container","create","disableScrollPropagation","disableClickPropagation","a","textContent","setOpacity","setStyle","feature","fillOpacity","preventDefault","Legend","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_REPLACEMENT_0___","id","Fullscreen","require","ImageOverlay","Rotated","Tio","components","TioGraph","props","featureCollection","tile","fullscreen","removeHeight","series","serieIndex","lidar","serviceName","data","controlLayer","controlLegend","controlOpacity","featureGroup","lidarFeature","bboxTile","defaultRectangleOptions","interactive","fillColor","stroke","weight","color","selectListener","highlightListener","highlightedLayer","mouseposition","selectedLayer","fullscreenLayer","imageLayers","countImages","tio","ptValues","ns","ew","showGraph","searching","watch","newCollections","newValue","newImages","old","newvalue","addTo","created","mounted","destroyed","methods","toggleImageLayer","image","serieDateChange","changeHighlightedLayer","event","scrollWheelZoom","format","mouseWheel","initBbox","initFeatureCollection","onEachFeature","html","detail","zIndex","initImageLayers","initImageLayer","opacity","highlightLayer","selectLayer","maxZoom","unHighlightLayer","unselectLayer","_vm","_c","_self","staticClass","staticStyle","_e","_v","directives","rawName","expression","attrs","dates","keys","max","$event","_s","status","statusList","progress","size","computed","component","class","icon","collection","content","__esModule","default","locals"],"sourceRoot":""}