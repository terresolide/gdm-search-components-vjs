(self.webpackChunkgdm_search_components_vjs=self.webpackChunkgdm_search_components_vjs||[]).push([[607],{359:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"fr":{"by_date":"By date","height":"Hauteur","plot_point":"Données du point sélectionné","QUALITY":"QUALITÉ","mean_velocity":"Vitesse moyenne"},"en":{"by_date":"Par date","height":"Height","plot_point":"Data of the selected point","QUALITY":"QUALITY","mean_velocity":"Mean velocity"}}'),delete t.options._Ctor}},582:t=>{t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"displacement":"Displacement","symbol_west":"W","mean_velocity":"Mean Velocity","meter_day":"m/day","units":"Units"},"fr":{"displacement":"Déplacement","symbol_west":"O","mean_velocity":"Vitesse moyenne","meter_day":"m/jour","units":"Unités"}}'),delete t.options._Ctor}},664:(t,e,i)=>{var s,r,o;o=function(t){"use strict";var e=t?t._modules:{};function i(e,i,s,r){e.hasOwnProperty(i)||(e[i]=r.apply(null,s),"function"==typeof CustomEvent&&t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}i(e,"Series/DataModifyComposition.js",[e["Core/Axis/Axis.js"],e["Core/Series/Point.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],(function(t,e,i,s){var r;let{tooltipFormatter:o}=e.prototype,{addEvent:n,arrayMax:a,arrayMin:l,correctFloat:h,defined:p,isArray:d,isNumber:u,isString:c,pick:f}=s;return function(t){function e(t,e,i){!this.isXAxis&&(this.series.forEach((function(i){"compare"===t&&"boolean"!=typeof e?i.setCompare(e,!1):"cumulative"!==t||c(e)||i.setCumulative(e,!1)})),f(i,!0)&&this.chart.redraw())}function i(t){let e=this,{numberFormatter:i}=e.series.chart,s=function(s){t=t.replace("{point."+s+"}",(e[s]>0&&"change"===s?"+":"")+i(e[s],f(e.series.tooltipOptions.changeDecimals,2)))};return p(e.change)&&s("change"),p(e.cumulativeSum)&&s("cumulativeSum"),o.apply(this,[t])}function s(){let t,e=this.options.compare;("percent"===e||"value"===e||this.options.cumulative)&&(t=new y(this),"percent"===e||"value"===e?t.initCompare(e):t.initCumulative()),this.dataModify=t}function r(t){let e=t.dataExtremes,i=e.activeYData;if(this.dataModify&&e){let t;this.options.compare?t=[this.dataModify.modifyValue(e.dataMin),this.dataModify.modifyValue(e.dataMax)]:this.options.cumulative&&d(i)&&i.length>=2&&(t=y.getCumulativeExtremes(i)),t&&(e.dataMin=l(t),e.dataMax=a(t))}}function g(t,e){this.options.compare=this.userOptions.compare=t,this.update({},f(e,!0)),!this.dataModify||"value"!==t&&"percent"!==t?this.points.forEach((t=>{delete t.change})):this.dataModify.initCompare(t)}function m(){if(this.xAxis&&this.processedYData&&this.dataModify){let t,e=this.processedXData,i=this.processedYData,s=i.length,r=!0===this.options.compareStart?0:1,o=-1;for(this.pointArrayMap&&(o=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),t=0;t<s-r;t++){let s=i[t]&&o>-1?i[t][o]:i[t];if(u(s)&&0!==s&&e[t+r]>=(this.xAxis.min||0)){this.dataModify.compareValue=s;break}}}}function x(t,e){this.setModifier("compare",t,e)}function b(t,e){t=f(t,!1),this.options.cumulative=this.userOptions.cumulative=t,this.update({},f(e,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach((t=>{delete t.cumulativeSum}))}function v(t,e){this.setModifier("cumulative",t,e)}t.compose=function(t,o,a){let l=o.prototype,h=a.prototype,p=t.prototype;return p.setCompare||(p.setCompare=g,p.setCumulative=b,n(t,"afterInit",s),n(t,"afterGetExtremes",r),n(t,"afterProcessData",m)),l.setCompare||(l.setCompare=x,l.setModifier=e,l.setCumulative=v,h.tooltipFormatter=i),t};class y{constructor(t){this.series=t}modifyValue(){return 0}static getCumulativeExtremes(t){let e=1/0,i=-1/0;return t.reduce(((t,s)=>{let r=t+s;return e=Math.min(e,r,t),i=Math.max(i,r,t),r})),[e,i]}initCompare(t){this.modifyValue=function(e,i){null===e&&(e=0);let s=this.compareValue;if(void 0!==e&&void 0!==s){if("value"===t?e-=s:e=e/s*100-(100===this.series.options.compareBase?0:100),void 0!==i){let t=this.series.points[i];t&&(t.change=e)}return e}return 0}}initCumulative(){this.modifyValue=function(t,e){if(null===t&&(t=0),void 0!==t&&void 0!==e){let i=e>0?this.series.points[e-1]:null;i&&i.cumulativeSum&&(t=h(i.cumulativeSum+t));let s=this.series.points[e],r=s.series.options.cumulativeStart,o=s.x<=this.series.xAxis.max&&s.x>=this.series.xAxis.min;return s&&(s.cumulativeSum=!r||o?t:void 0),t}return 0}}}t.Additions=y}(r||(r={})),r})),i(e,"Stock/Navigator/ChartNavigatorComposition.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let i,{isTouchDevice:s}=t,{addEvent:r,merge:o,pick:n}=e,a=[];function l(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function h(){let t,e,i,s=this.legend,r=this.navigator;if(r){t=s&&s.options,e=r.xAxis,i=r.yAxis;let{scrollbarHeight:o,scrollButtonSize:a}=r;this.inverted?(r.left=r.opposite?this.chartWidth-o-r.height:this.spacing[3]+o,r.top=this.plotTop+a):(r.left=n(e.left,this.plotLeft+a),r.top=r.navigatorOptions.top||this.chartHeight-r.height-o-(this.scrollbar?.options.margin||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(t&&"bottom"===t.verticalAlign&&"proximate"!==t.layout&&t.enabled&&!t.floating?s.legendHeight+n(t.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),e&&i&&(this.inverted?e.options.left=i.options.left=r.left:e.options.top=i.options.top=r.top,e.setAxisSize(),i.setAxisSize())}}function p(t){!this.navigator&&!this.scroller&&(this.options.navigator.enabled||this.options.scrollbar.enabled)&&(this.scroller=this.navigator=new i(this),n(t.redraw,!0)&&this.redraw(t.animation))}function d(){let t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new i(this))}function u(){let t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!s&&"x"===this.zooming.type||s&&"x"===this.zooming.pinchType))return!1}function c(t){let e=t.navigator;if(e&&t.xAxis[0]){let i=t.xAxis[0].getExtremes();e.render(i.min,i.max)}}function f(t){let e=t.options.navigator||{},i=t.options.scrollbar||{};!this.navigator&&!this.scroller&&(e.enabled||i.enabled)&&(o(!0,this.options.navigator,e),o(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}return{compose:function(t,s){if(e.pushUnique(a,t)){let e=t.prototype;i=s,e.callbacks.push(c),r(t,"afterAddSeries",l),r(t,"afterSetChartSize",h),r(t,"afterUpdate",p),r(t,"beforeRender",d),r(t,"beforeShowResetZoom",u),r(t,"update",f)}}}})),i(e,"Core/Axis/NavigatorAxisComposition.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{isTouchDevice:i}=t,{addEvent:s,correctFloat:r,defined:o,isNumber:n,pick:a}=e;function l(){this.navigatorAxis||(this.navigatorAxis=new p(this))}function h(t){let e,s=this.chart,r=s.options,n=r.navigator,a=this.navigatorAxis,l=s.zooming.pinchType,h=r.rangeSelector,p=s.zooming.type;if(this.isXAxis&&(n?.enabled||h?.enabled))if("y"===p&&"zoom"===t.trigger)e=!1;else if(("zoom"===t.trigger&&"xy"===p||i&&"xy"===l)&&this.options.range){let e=a.previousZoom;o(t.min)?a.previousZoom=[this.min,this.max]:e&&(t.min=e[0],t.max=e[1],a.previousZoom=void 0)}void 0!==e&&t.preventDefault()}class p{static compose(t){t.keepProps.includes("navigatorAxis")||(t.keepProps.push("navigatorAxis"),s(t,"init",l),s(t,"setExtremes",h))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,s){let l=this.axis,h=(l.pointRange||0)/2,p=a(i,l.translate(t,!0,!l.horiz)),d=a(s,l.translate(e,!0,!l.horiz));return o(i)||(p=r(p+h)),o(s)||(d=r(d-h)),n(p)&&n(d)||(p=d=void 0),{min:p,max:d}}}return p})),i(e,"Stock/Navigator/NavigatorDefaults.js",[e["Core/Color/Color.js"],e["Core/Series/SeriesRegistry.js"]],(function(t,e){let{parse:i}=t,{seriesTypes:s}=e;return{height:40,margin:25,maskInside:!0,handles:{width:7,borderRadius:0,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:i("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===s.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",id:"navigator-x-axis",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,id:"navigator-y-axis",maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}})),i(e,"Stock/Navigator/NavigatorSymbols.js",[e["Core/Renderer/SVG/Symbols.js"],e["Core/Utilities.js"]],(function(t,e){let{relativeLength:i}=e;return{"navigator-handle":function(e,s,r,o,n={}){let a=n.width?n.width/2:r,l=i(n.borderRadius||0,Math.min(2*a,o));return[["M",-1.5,(o=n.height||o)/2-3.5],["L",-1.5,o/2+4.5],["M",.5,o/2-3.5],["L",.5,o/2+4.5],...t.rect(-a-1,.5,2*a+1,o,{r:l})]}}})),i(e,"Stock/Utilities/StockUtilities.js",[e["Core/Utilities.js"]],(function(t){let{defined:e}=t;return{setFixedRange:function(t){let i=this.xAxis[0];e(i.dataMax)&&e(i.dataMin)&&t?this.fixedRange=Math.min(t,i.dataMax-i.dataMin):this.fixedRange=t}}})),i(e,"Stock/Navigator/NavigatorComposition.js",[e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Axis/NavigatorAxisComposition.js"],e["Stock/Navigator/NavigatorDefaults.js"],e["Stock/Navigator/NavigatorSymbols.js"],e["Core/Renderer/RendererRegistry.js"],e["Stock/Utilities/StockUtilities.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o,n,a){let{setOptions:l}=t,{composed:h}=e,{getRendererType:p}=o,{setFixedRange:d}=n,{addEvent:u,extend:c,pushUnique:f}=a;function g(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}return{compose:function(t,e,o){i.compose(e),f(h,"Navigator")&&(t.prototype.setFixedRange=d,c(p().prototype.symbols,r),u(o,"afterUpdate",g),l({navigator:s}))}}})),i(e,"Core/Axis/ScrollbarAxis.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){var i;let{composed:s}=t,{addEvent:r,defined:o,pick:n,pushUnique:a}=e;return function(t){let e;function i(t){let e=n(t.options&&t.options.min,t.min),i=n(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:i,scrollMin:o(t.dataMin)?Math.min(e,t.min,t.dataMin,n(t.threshold,1/0)):e,scrollMax:o(t.dataMax)?Math.max(i,t.max,t.dataMax,n(t.threshold,-1/0)):i}}function l(){let t=this.scrollbar,e=t&&!t.options.opposite,i=this.horiz?2:e?3:1;t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[i]+=t.size+(t.options.margin||0))}function h(){let t=this;t.options&&t.options.scrollbar&&t.options.scrollbar.enabled&&(t.options.scrollbar.vertical=!t.horiz,t.options.startOnTick=t.options.endOnTick=!1,t.scrollbar=new e(t.chart.renderer,t.options.scrollbar,t.chart),r(t.scrollbar,"changed",(function(e){let s,r,{axisMin:n,axisMax:a,scrollMin:l,scrollMax:h}=i(t),p=h-l;if(o(n)&&o(a))if(t.horiz&&!t.reversed||!t.horiz&&t.reversed?(s=l+p*this.to,r=l+p*this.from):(s=l+p*(1-this.from),r=l+p*(1-this.to)),this.shouldUpdateExtremes(e.DOMType)){let i="mousemove"!==e.DOMType&&"touchmove"!==e.DOMType&&void 0;t.setExtremes(r,s,!0,i,e)}else this.setRange(this.from,this.to)})))}function p(){let t,e,s,{scrollMin:r,scrollMax:n}=i(this),a=this.scrollbar,l=this.axisTitleMargin+(this.titleOffset||0),h=this.chart.scrollbarsOffsets,p=this.options.margin||0;if(a&&h){if(this.horiz)this.opposite||(h[1]+=l),a.position(this.left,this.top+this.height+2+h[1]-(this.opposite?p:0),this.width,this.height),this.opposite||(h[1]+=p),t=1;else{let e;this.opposite&&(h[0]+=l),e=a.options.opposite?this.left+this.width+2+h[0]-(this.opposite?0:p):this.opposite?0:p,a.position(e,this.top,this.width,this.height),this.opposite&&(h[0]+=p),t=0}if(h[t]+=a.size+(a.options.margin||0),isNaN(r)||isNaN(n)||!o(this.min)||!o(this.max)||this.dataMin===this.dataMax)a.setRange(0,1);else if(this.min===this.max){let t=this.pointRange/(this.dataMax+1);e=t*this.min,s=t*(this.max+1),a.setRange(e,s)}else e=(this.min-r)/(n-r),s=(this.max-r)/(n-r),this.horiz&&!this.reversed||!this.horiz&&this.reversed?a.setRange(e,s):a.setRange(1-s,1-e)}}t.compose=function(t,i){a(s,"Axis.Scrollbar")&&(e=i,r(t,"afterGetOffset",l),r(t,"afterInit",h),r(t,"afterRender",p))}}(i||(i={})),i})),i(e,"Stock/Scrollbar/ScrollbarDefaults.js",[],(function(){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}})),i(e,"Stock/Scrollbar/Scrollbar.js",[e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Axis/ScrollbarAxis.js"],e["Stock/Scrollbar/ScrollbarDefaults.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r){let{defaultOptions:o}=t,{addEvent:n,correctFloat:a,crisp:l,defined:h,destroyObjectProperties:p,fireEvent:d,merge:u,pick:c,removeEvent:f}=r;class g{static compose(t){i.compose(t,g)}static swapXY(t,e){return e&&t.forEach((t=>{let e,i=t.length;for(let s=0;s<i;s+=2)"number"==typeof(e=t[s+1])&&(t[s+1]=t[s+2],t[s+2]=e)})),t}constructor(t,e,i){this._events=[],this.chartX=0,this.chartY=0,this.from=0,this.scrollbarButtons=[],this.scrollbarLeft=0,this.scrollbarStrokeWidth=1,this.scrollbarTop=0,this.size=0,this.to=0,this.trackBorderWidth=1,this.x=0,this.y=0,this.init(t,e,i)}addEvents(){let t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,s=this.track.element,r=this.mouseDownHandler.bind(this),o=this.mouseMoveHandler.bind(this),a=this.mouseUpHandler.bind(this),l=[[e[t[0]].element,"click",this.buttonToMinClick.bind(this)],[e[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[s,"click",this.trackClick.bind(this)],[i,"mousedown",r],[i.ownerDocument,"mousemove",o],[i.ownerDocument,"mouseup",a],[i,"touchstart",r],[i.ownerDocument,"touchmove",o],[i.ownerDocument,"touchend",a]];l.forEach((function(t){n.apply(null,t)})),this._events=l}buttonToMaxClick(t){let e=(this.to-this.from)*c(this.options.step,.2);this.updatePosition(this.from+e,this.to+e),d(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){let e=a(this.to-this.from)*c(this.options.step,.2);this.updatePosition(a(this.from-e),a(this.to-e)),d(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){let e=this.options,i=e.minWidth>this.calculatedWidth?e.minWidth:0;return{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-i),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-i)}}destroy(){let t=this,e=t.chart.scroller;t.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach((function(e){t[e]&&t[e].destroy&&(t[e]=t[e].destroy())})),e&&t===e.scrollbar&&(e.scrollbar=null,p(e.scrollbarButtons))}drawScrollbarButton(t){let e=this.renderer,i=this.scrollbarButtons,s=this.options,r=this.size,o=e.g().add(this.group);if(i.push(o),s.buttonsEnabled){let n=e.rect().addClass("highcharts-scrollbar-button").add(o);this.chart.styledMode||n.attr({stroke:s.buttonBorderColor,"stroke-width":s.buttonBorderWidth,fill:s.buttonBackgroundColor}),n.attr(n.crisp({x:-.5,y:-.5,width:r,height:r,r:s.buttonBorderRadius},n.strokeWidth()));let a=e.path(g.swapXY([["M",r/2+(t?-1:1),r/2-3],["L",r/2+(t?-1:1),r/2+3],["L",r/2+(t?2:-2),r/2]],s.vertical)).addClass("highcharts-scrollbar-arrow").add(i[t]);this.chart.styledMode||a.attr({fill:s.buttonArrowColor})}}init(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=u(s,o.scrollbar,e),this.options.margin=c(this.options.margin,10),this.chart=i,this.size=c(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){let e=this.chart.pointer?.normalize(t)||t,i=this.cursorToScrollbarPosition(e);this.chartX=i.chartX,this.chartY=i.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){let e,i=this.chart.pointer?.normalize(t)||t,s=this.options.vertical?"chartY":"chartX",r=this.initPositions||[];this.grabbedCenter&&(!t.touches||0!==t.touches[0][s])&&(e=this.cursorToScrollbarPosition(i)[s]-this[s],this.hasDragged=!0,this.updatePosition(r[0]+e,r[1]+e),this.hasDragged&&d(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&d(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,e,i,s){let{buttonsEnabled:r,margin:o=0,vertical:n}=this.options,a=this.rendered?"animate":"attr",l=s,h=0;this.group.show(),this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.height=s,this.xOffset=l,this.yOffset=h,n?(this.width=this.yOffset=i=h=this.size,this.xOffset=l=0,this.yOffset=h=r?this.size:0,this.barWidth=s-(r?2*i:0),this.x=t+=o):(this.height=s=this.size,this.xOffset=l=r?this.size:0,this.barWidth=i-(r?2*s:0),this.y=this.y+o),this.group[a]({translateX:t,translateY:this.y}),this.track[a]({width:i,height:s}),this.scrollbarButtons[1][a]({translateX:n?0:i-l,translateY:n?s-h:0})}removeEvents(){this._events.forEach((function(t){f.apply(null,t)})),this._events.length=0}render(){let t=this.renderer,e=this.options,i=this.size,s=this.chart.styledMode,r=t.g("scrollbar").attr({zIndex:e.zIndex}).hide().add();this.group=r,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:e.trackBorderRadius||0,height:i,width:i}).add(r),s||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth});let o=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-l(0,o),y:-l(0,o)}),this.scrollbarGroup=t.g().add(r),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:i-o,width:i-o,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(g.swapXY([["M",-3,i/4],["L",-3,2*i/3],["M",0,i/4],["L",0,2*i/3],["M",3,i/4],["L",3,2*i/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),s||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-l(0,this.scrollbarStrokeWidth),-l(0,this.scrollbarStrokeWidth)),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,e){let i,s,r=this.options,o=r.vertical,n=r.minWidth,l=this.barWidth,p=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(!h(l))return;let d=l*Math.min(e,1);i=Math.ceil(l*(t=Math.max(t,0))),this.calculatedWidth=s=a(d-i),s<n&&(i=(l-n+s)*t,s=n);let u=Math.floor(i+this.xOffset+this.yOffset),c=s/2-.5;this.from=t,this.to=e,o?(this.scrollbarGroup[p]({translateY:u}),this.scrollbar[p]({height:s}),this.scrollbarRifles[p]({translateY:c}),this.scrollbarTop=u,this.scrollbarLeft=0):(this.scrollbarGroup[p]({translateX:u}),this.scrollbar[p]({width:s}),this.scrollbarRifles[p]({translateX:c}),this.scrollbarLeft=u,this.scrollbarTop=0),s<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===r.showFull&&(t<=0&&e>=1?this.group.hide():this.group.show()),this.rendered=!0}shouldUpdateExtremes(t){return c(this.options.liveRedraw,e.svg&&!e.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!h(t)}trackClick(t){let e=this.chart.pointer?.normalize(t)||t,i=this.to-this.from,s=this.y+this.scrollbarTop,r=this.x+this.scrollbarLeft;this.options.vertical&&e.chartY>s||!this.options.vertical&&e.chartX>r?this.updatePosition(this.from+i,this.to+i):this.updatePosition(this.from-i,this.to-i),d(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,u(!0,this.options,t),this.chart)}updatePosition(t,e){e>1&&(t=a(1-a(e-t)),e=1),t<0&&(e=a(e-t),t=0),this.from=t,this.to=e}}return g.defaultOptions=s,o.scrollbar=u(!0,g.defaultOptions,o.scrollbar),g})),i(e,"Stock/Navigator/Navigator.js",[e["Core/Axis/Axis.js"],e["Stock/Navigator/ChartNavigatorComposition.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Axis/NavigatorAxisComposition.js"],e["Stock/Navigator/NavigatorComposition.js"],e["Stock/Scrollbar/Scrollbar.js"],e["Core/Renderer/SVG/SVGRenderer.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o,n,a,l){let{defaultOptions:h}=i,{isTouchDevice:p}=s,{prototype:{symbols:d}}=a,{addEvent:u,clamp:c,correctFloat:f,defined:g,destroyObjectProperties:m,erase:x,extend:b,find:v,fireEvent:y,isArray:w,isNumber:S,merge:M,pick:A,removeEvent:k,splat:C}=l;function P(t,...e){let i=[].filter.call(e,S);if(i.length)return Math[t].apply(0,i)}class L{static compose(t,i,s){e.compose(t,L),o.compose(t,i,s)}constructor(t){this.isDirty=!1,this.scrollbarHeight=0,this.init(t)}drawHandle(t,e,i,s){let r=this.navigatorOptions.handles.height;this.handles[e][s](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-r)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-r/2-1)})}drawOutline(t,e,i,s){let r,o,n=this.navigatorOptions.maskInside,a=this.outline.strokeWidth(),l=a/2,h=a%2/2,p=this.scrollButtonSize,d=this.size,u=this.top,c=this.height,f=u-l,g=u+c,m=this.left;i?(r=u+e+h,o=[["M",m+c,u-p-h],["L",m+c,r],["L",m,r],["M",m,e=u+t+h],["L",m+c,e],["L",m+c,u+d+p]],n&&o.push(["M",m+c,r-l],["L",m+c,e+l])):(m-=p,o=[["M",m,f],["L",t+=m+p-h,f],["L",t,g],["M",e+=m+p-h,g],["L",e,f],["L",m+d+2*p,f]],n&&o.push(["M",t-l,f],["L",e+l,f])),this.outline[s]({d:o})}drawMasks(t,e,i,s){let r,o,n,a,l=this.left,h=this.top,p=this.height;i?(n=[l,l,l],a=[h,h+t,h+e],o=[p,p,p],r=[t,e-t,this.size-e]):(n=[l,l+t,l+e],a=[h,h,h],o=[t,e-t,this.size-e],r=[p,p,p]),this.shades.forEach(((t,e)=>{t[s]({x:n[e],y:a[e],width:o[e],height:r[e]})}))}renderElements(){let t=this,e=t.navigatorOptions,i=e.maskInside,s=t.chart,r=s.inverted,o=s.renderer,n={cursor:r?"ns-resize":"ew-resize"},a=t.navigatorGroup??(t.navigatorGroup=o.g("navigator").attr({zIndex:8,visibility:"hidden"}).add());if([!i,i,!i].forEach(((i,r)=>{let l=t.shades[r]??(t.shades[r]=o.rect().addClass("highcharts-navigator-mask"+(1===r?"-inside":"-outside")).add(a));s.styledMode||(l.attr({fill:i?e.maskFill:"rgba(0,0,0,0)"}),1===r&&l.css(n))})),t.outline||(t.outline=o.path().addClass("highcharts-navigator-outline").add(a)),s.styledMode||t.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles?.enabled){let i=e.handles,{height:r,width:l}=i;[0,1].forEach((e=>{let h=i.symbols[e];if(t.handles[e]&&t.handles[e].symbolUrl===h){if(!t.handles[e].isImg&&t.handles[e].symbolName!==h){let i=d[h].call(d,-l/2-1,0,l,r);t.handles[e].attr({d:i}),t.handles[e].symbolName=h}}else t.handles[e]?.destroy(),t.handles[e]=o.symbol(h,-l/2-1,0,l,r,i),t.handles[e].attr({zIndex:7-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add(a),t.addMouseEvents();s.inverted&&t.handles[e].attr({rotation:90,rotationOriginX:Math.floor(-l/2),rotationOriginY:(r+l)/2}),s.styledMode||t.handles[e].attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.lineWidth,width:i.width,height:i.height,x:-l/2-1,y:0}).css(n)}))}}update(t,e=!1){let i=this.chart,s=i.options.chart.inverted!==i.scrollbar?.options.vertical;if(M(!0,i.options.navigator,t),this.navigatorOptions=i.options.navigator||{},this.setOpposite(),g(t.enabled)||s)return this.destroy(),this.navigatorEnabled=t.enabled||this.navigatorEnabled,this.init(i);if(this.navigatorEnabled&&(this.isDirty=!0,!1===t.adaptToUpdatedData&&this.baseSeries.forEach((t=>{k(t,"updatedData",this.updatedDataHandler)}),this),t.adaptToUpdatedData&&this.baseSeries.forEach((t=>{t.eventsToUnbind.push(u(t,"updatedData",this.updatedDataHandler))}),this),(t.series||t.baseSeries)&&this.setBaseSeries(void 0,!1),t.height||t.xAxis||t.yAxis)){this.height=t.height??this.height;let e=this.getXAxisOffsets();this.xAxis.update({...t.xAxis,offsets:e,[i.inverted?"width":"height"]:this.height,[i.inverted?"height":"width"]:void 0},!1),this.yAxis.update({...t.yAxis,[i.inverted?"width":"height"]:this.height},!1)}e&&i.redraw()}render(t,e,i,s){let r,o,n,a,l,h=this.chart,p=this.xAxis,d=p.pointRange||0,u=p.navigatorAxis.fake?h.xAxis[0]:p,m=this.navigatorEnabled,x=this.rendered,b=h.inverted,v=h.xAxis[0].minRange,w=h.xAxis[0].options.maxRange,M=this.scrollButtonSize,k=this.scrollbarHeight;if(this.hasDragged&&!g(i))return;if(this.isDirty&&this.renderElements(),t=f(t-d/2),e=f(e+d/2),!S(t)||!S(e)){if(!x)return;i=0,s=A(p.width,u.width)}this.left=A(p.left,h.plotLeft+M+(b?h.plotWidth:0));let C=this.size=a=A(p.len,(b?h.plotHeight:h.plotWidth)-2*M);r=b?k:a+2*M,i=A(i,p.toPixels(t,!0)),s=A(s,p.toPixels(e,!0)),S(i)&&Math.abs(i)!==1/0||(i=0,s=r);let P=p.toValue(i,!0),L=p.toValue(s,!0),D=Math.abs(f(L-P));D<v?this.grabbedLeft?i=p.toPixels(L-v-d,!0):this.grabbedRight&&(s=p.toPixels(P+v+d,!0)):g(w)&&f(D-d)>w&&(this.grabbedLeft?i=p.toPixels(L-w-d,!0):this.grabbedRight&&(s=p.toPixels(P+w+d,!0))),this.zoomedMax=c(Math.max(i,s),0,C),this.zoomedMin=c(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,s),0,C),this.range=this.zoomedMax-this.zoomedMin,C=Math.round(this.zoomedMax);let T=Math.round(this.zoomedMin);m&&(this.navigatorGroup.attr({visibility:"inherit"}),l=x&&!this.hasDragged?"animate":"attr",this.drawMasks(T,C,b,l),this.drawOutline(T,C,b,l),this.navigatorOptions.handles.enabled&&(this.drawHandle(T,0,b,l),this.drawHandle(C,1,b,l))),this.scrollbar&&(b?(n=this.top-M,o=this.left-k+(m||!u.opposite?0:(u.titleOffset||0)+u.axisTitleMargin),k=a+2*M):(n=this.top+(m?this.height:-k),o=this.left-M),this.scrollbar.position(o,n,r,k),this.scrollbar.setRange(this.zoomedMin/(a||1),this.zoomedMax/(a||1))),this.rendered=!0,this.isDirty=!1,y(this,"afterRender")}addMouseEvents(){let t,e,i=this,s=i.chart,r=s.container,o=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(o=i.getPartsEvents("mousedown")).push(u(s.renderTo,"mousemove",t),u(r.ownerDocument,"mouseup",e),u(s.renderTo,"touchmove",t),u(r.ownerDocument,"touchend",e)),o.concat(i.getPartsEvents("touchstart")),i.eventsToUnbind=o,i.series&&i.series[0]&&o.push(u(i.series[0].xAxis,"foundExtremes",(function(){s.navigator.modifyNavigatorAxisExtremes()})))}getPartsEvents(t){let e=this,i=[];return["shades","handles"].forEach((function(s){e[s].forEach((function(r,o){i.push(u(r.element,t,(function(t){e[s+"Mousedown"](t,o)})))}))})),i}shadesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i,s,r,o,n=this.chart,a=this.xAxis,l=this.zoomedMin,h=this.size,p=this.range,d=this.left,u=t.chartX;n.inverted&&(u=t.chartY,d=this.top),1===e?(this.grabbedCenter=u,this.fixedWidth=p,this.dragOffset=u-l):(o=u-d-p/2,0===e?o=Math.max(0,o):2===e&&o+p>=h&&(o=h-p,this.reversedExtremes?(o-=p,s=this.getUnionExtremes().dataMin):i=this.getUnionExtremes().dataMax),o!==l&&(this.fixedWidth=p,g((r=a.navigatorAxis.toFixedRange(o,o+p,s,i)).min)&&y(this,"setRange",{min:Math.min(r.min,r.max),max:Math.max(r.min,r.max),redraw:!0,eventArguments:{trigger:"navigator"}})))}handlesMousedown(t,e){t=this.chart.pointer?.normalize(t)||t;let i=this.chart,s=i.xAxis[0],r=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=r?s.min:s.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=r?s.max:s.min),i.setFixedRange(void 0)}onMouseMove(t){let e,i=this,s=i.chart,r=i.navigatorSize,o=i.range,n=i.dragOffset,a=s.inverted,l=i.left;(!t.touches||0!==t.touches[0].pageX)&&(e=(t=s.pointer?.normalize(t)||t).chartX,a&&(l=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-l,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-l)):i.grabbedCenter&&(i.hasDragged=!0,e<n?e=n:e>r+n-o&&(e=r+n-o),i.render(0,0,e-n,e-n+o)),i.hasDragged&&i.scrollbar&&A(i.scrollbar.options.liveRedraw,!p&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout((function(){i.onMouseUp(t)}),0)))}onMouseUp(t){let e,i,s,r,o,n,a=this.chart,l=this.xAxis,h=this.scrollbar,p=t.DOMEvent||t,d=a.inverted,u=this.rendered&&!this.hasDragged?"animate":"attr";(this.hasDragged&&(!h||!h.hasDragged)||"scrollbar"===t.trigger)&&(s=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?r=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(o=this.fixedExtreme),this.zoomedMax===this.size&&(o=this.reversedExtremes?s.dataMin:s.dataMax),0===this.zoomedMin&&(r=this.reversedExtremes?s.dataMax:s.dataMin),g((n=l.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,r,o)).min)&&y(this,"setRange",{min:Math.min(n.min,n.max),max:Math.max(n.min,n.max),redraw:!0,animation:!this.hasDragged&&null,eventArguments:{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:p}})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&S(this.zoomedMin)&&S(this.zoomedMax)&&(i=Math.round(this.zoomedMin),e=Math.round(this.zoomedMax),this.shades&&this.drawMasks(i,e,d,u),this.outline&&this.drawOutline(i,e,d,u),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(i,0,d,u),this.drawHandle(e,1,d,u)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){let t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach((function(t){k(t,"updatedData",this.updatedDataHandler)}),this),t[0].xAxis&&k(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}getXAxisOffsets(){return this.chart.inverted?[this.scrollButtonSize,0,-this.scrollButtonSize,0]:[0,-this.scrollButtonSize,0,this.scrollButtonSize]}init(e){let i=e.options,s=i.navigator||{},o=s.enabled,a=i.scrollbar||{},l=a.enabled,h=o&&s.height||0,p=l&&a.height||0,d=a.buttonsEnabled&&p||0;this.handles=[],this.shades=[],this.chart=e,this.setBaseSeries(),this.height=h,this.scrollbarHeight=p,this.scrollButtonSize=d,this.scrollbarEnabled=l,this.navigatorEnabled=o,this.navigatorOptions=s,this.scrollbarOptions=a,this.setOpposite();let c=this,f=c.baseSeries,g=e.xAxis.length,m=e.yAxis.length,x=f&&f[0]&&f[0].xAxis||e.xAxis[0]||{options:{}};if(e.isDirtyBox=!0,c.navigatorEnabled){let i=this.getXAxisOffsets();c.xAxis=new t(e,M({breaks:x.options.breaks,ordinal:x.options.ordinal,overscroll:x.options.overscroll},s.xAxis,{type:"datetime",yAxis:s.yAxis?.id,index:g,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:x.options.ordinal?0:x.options.minPadding,maxPadding:x.options.ordinal?0:x.options.maxPadding,zoomEnabled:!1},e.inverted?{offsets:i,width:h}:{offsets:i,height:h}),"xAxis"),c.yAxis=new t(e,M(s.yAxis,{alignTicks:!1,offset:0,index:m,isInternal:!0,reversed:A(s.yAxis&&s.yAxis.reversed,e.yAxis[0]&&e.yAxis[0].reversed,!1),zoomEnabled:!1},e.inverted?{width:h}:{height:h}),"yAxis"),f||s.series.data?c.updateNavigatorSeries(!1):0===e.series.length&&(c.unbindRedraw=u(e,"beforeRedraw",(function(){e.series.length>0&&!c.series&&(c.setBaseSeries(),c.unbindRedraw())}))),c.reversedExtremes=e.inverted&&!c.xAxis.reversed||!e.inverted&&c.xAxis.reversed,c.renderElements(),c.addMouseEvents()}else c.xAxis={chart:e,navigatorAxis:{fake:!0},translate:function(t,i){let s=e.xAxis[0],r=s.getExtremes(),o=s.len-2*d,n=P("min",s.options.min,r.dataMin),a=P("max",s.options.max,r.dataMax)-n;return i?t*a/o+n:o*(t-n)/a},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},c.xAxis.navigatorAxis.axis=c.xAxis,c.xAxis.navigatorAxis.toFixedRange=r.prototype.toFixedRange.bind(c.xAxis.navigatorAxis);if(e.options.scrollbar.enabled){let t=M(e.options.scrollbar,{vertical:e.inverted});!S(t.margin)&&c.navigatorEnabled&&(t.margin=e.inverted?-3:3),e.scrollbar=c.scrollbar=new n(e.renderer,t,e),u(c.scrollbar,"changed",(function(t){let e=c.size,i=e*this.to,s=e*this.from;c.hasDragged=c.scrollbar.hasDragged,c.render(0,0,s,i),this.shouldUpdateExtremes(t.DOMType)&&setTimeout((function(){c.onMouseUp(t)}))}))}c.addBaseSeriesEvents(),c.addChartEvents()}setOpposite(){let t=this.navigatorOptions,e=this.navigatorEnabled,i=this.chart;this.opposite=A(t.opposite,!(e||!i.inverted))}getUnionExtremes(t){let e,i=this.chart.xAxis[0],s=this.xAxis,r=s.options,o=i.options;return t&&null===i.dataMin||(e={dataMin:A(r&&r.min,P("min",o.min,i.dataMin,s.dataMin,s.min)),dataMax:A(r&&r.max,P("max",o.max,i.dataMax,s.dataMax,s.max))}),e}setBaseSeries(t,e){let i=this.chart,s=this.baseSeries=[];t=t||i.options&&i.options.navigator.baseSeries||(i.series.length?v(i.series,(t=>!t.options.isInternal)).index:0),(i.series||[]).forEach(((e,i)=>{!e.options.isInternal&&(e.options.showInNavigator||(i===t||e.options.id===t)&&!1!==e.options.showInNavigator)&&s.push(e)})),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(t,e){let i,s,r,o=this,n=o.chart,a=o.baseSeries,l={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:this.navigatorOptions.xAxis?.id,yAxis:this.navigatorOptions.yAxis?.id,showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},p=o.series=(o.series||[]).filter((t=>{let e=t.baseSeries;return!(0>a.indexOf(e)&&(e&&(k(e,"updatedData",o.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))})),d=o.navigatorOptions.series;a&&a.length&&a.forEach((t=>{let u=t.navigatorSeries,c=b({color:t.color,visible:t.visible},w(d)?h.navigator.series:d);if(u&&!1===o.navigatorOptions.adaptToUpdatedData)return;l.name="Navigator "+a.length,r=(i=t.options||{}).navigatorOptions||{},c.dataLabels=C(c.dataLabels),(s=M(i,l,c,r)).pointRange=A(c.pointRange,r.pointRange,h.plotOptions[s.type||"line"].pointRange);let f=r.data||c.data;o.hasNavigatorData=o.hasNavigatorData||!!f,s.data=f||i.data&&i.data.slice(0),u&&u.options?u.update(s,e):(t.navigatorSeries=n.initSeries(s),n.setSortedData(),t.navigatorSeries.baseSeries=t,p.push(t.navigatorSeries))})),(d.data&&!(a&&a.length)||w(d))&&(o.hasNavigatorData=!1,(d=C(d)).forEach(((t,e)=>{l.name="Navigator "+(p.length+1),(s=M(h.navigator.series,{color:n.series[e]&&!n.series[e].options.isInternal&&n.series[e].color||n.options.colors[e]||n.options.colors[0]},l,t)).data=t.data,s.data&&(o.hasNavigatorData=!0,p.push(n.initSeries(s)))}))),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){let t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&e[0].eventsToUnbind.push(u(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),e.forEach((i=>{i.eventsToUnbind.push(u(i,"show",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}))),i.eventsToUnbind.push(u(i,"hide",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}))),!1!==this.navigatorOptions.adaptToUpdatedData&&i.xAxis&&i.eventsToUnbind.push(u(i,"updatedData",this.updatedDataHandler)),i.eventsToUnbind.push(u(i,"remove",(function(){e&&x(e,i),this.navigatorSeries&&(x(t.series,this.navigatorSeries),g(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})))}))}getBaseSeriesMin(t){return this.baseSeries.reduce((function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)}),t)}modifyNavigatorAxisExtremes(){let t=this.xAxis;if(void 0!==t.getExtremes){let e=this.getUnionExtremes(!0);e&&(e.dataMin!==t.min||e.dataMax!==t.max)&&(t.min=e.dataMin,t.max=e.dataMax)}}modifyBaseAxisExtremes(){let t,e,i=this.chart.navigator,s=this.getExtremes(),r=s.min,o=s.max,n=s.dataMin,a=s.dataMax,l=o-r,h=i.stickToMin,p=i.stickToMax,d=A(this.ordinal?.convertOverscroll(this.options.overscroll),0),u=i.series&&i.series[0],c=!!this.setExtremes;!(this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger)&&(h&&(t=(e=n)+l),p&&(t=a+d,h||(e=Math.max(n,t-l,i.getBaseSeriesMin(u&&u.xData?u.xData[0]:-Number.MAX_VALUE)))),c&&(h||p)&&S(e)&&(this.min=this.userMin=e,this.max=this.userMax=t)),i.stickToMin=i.stickToMax=null}updatedDataHandler(){let t=this.chart.navigator,e=this.navigatorSeries,i=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size);t.stickToMax=A(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,i),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){let i=e.getBaseSeriesMin(t.xData[0]),s=t.xAxis,r=s.max,o=s.min,n=s.options.range;return!(!S(r)||!S(o))&&(n&&r-i>0?r-i<n:o<=i)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(u(this.chart,"redraw",(function(){let t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)})),u(this.chart,"getMargins",(function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this.inverted&&(e=t.opposite?"marginRight":"plotLeft"),this[e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+t.scrollbarHeight:0)+t.navigatorOptions.margin})),u(L,"setRange",(function(t){this.chart.xAxis[0].setExtremes(t.min,t.max,t.redraw,t.animation,t.eventArguments)})))}destroy(){this.removeEvents(),this.xAxis&&(x(this.chart.xAxis,this.xAxis),x(this.chart.axes,this.xAxis)),this.yAxis&&(x(this.chart.yAxis,this.yAxis),x(this.chart.axes,this.yAxis)),(this.series||[]).forEach((t=>{t.destroy&&t.destroy()})),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach((t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null})),[this.handles].forEach((t=>{m(t)})),this.navigatorEnabled=!1}}return L})),i(e,"Core/Axis/OrdinalAxis.js",[e["Core/Axis/Axis.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],(function(t,e,i,s){var r;let{addEvent:o,correctFloat:n,css:a,defined:l,error:h,isNumber:p,pick:d,timeUnits:u,isString:c}=s;return function(t){function s(t,e,i,s,r=[],o=0,n){let a,p,d,c,f,g={},m=this.options.tickPixelInterval,x=this.chart.time,b=[],v=0,y=[],w=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||void 0===e)return x.getTimeTicks.apply(x,arguments);let S=r.length;for(a=0;a<S;a++){if(f=a&&r[a-1]>i,r[a]<e&&(v=a),a===S-1||r[a+1]-r[a]>5*o||f){if(r[a]>w){for(p=x.getTimeTicks(t,r[v],r[a],s);p.length&&p[0]<=w;)p.shift();p.length&&(w=p[p.length-1]),b.push(y.length),y=y.concat(p)}v=a+1}if(f)break}if(p){if(c=p.info,n&&c.unitRange<=u.hour){for(v=1,a=y.length-1;v<a;v++)x.dateFormat("%d",y[v])!==x.dateFormat("%d",y[v-1])&&(g[y[v]]="day",d=!0);d&&(g[y[0]]="day"),c.higherRanks=g}c.segmentStarts=b,y.info=c}else h(12,!1,this.chart);if(n&&l(m)){let t,e,s,r,o,n=y.length,a=[],l=[],h=n;for(;h--;)e=this.translate(y[h]),s&&(l[h]=s-e),a[h]=s=e;for(l.sort(((t,e)=>t-e)),(r=l[Math.floor(l.length/2)])<.6*m&&(r=null),h=y[n-1]>i?n-1:n,s=void 0;h--;)o=Math.abs(s-(e=a[h])),s&&o<.8*m&&(null===r||o<.8*r)?(g[y[h]]&&!g[y[h+1]]?(t=h+1,s=e):t=h,y.splice(t,1)):s=e}return y}function r(t){let e=this.ordinal.positions;if(!e)return t;let i,s=e.length-1;return t<0?t=e[0]:t>s?t=e[s]:(s=Math.floor(t),i=t-s),void 0!==i&&void 0!==e[s]?e[s]+(i?i*(e[s+1]-e[s]):0):t}function f(t){let e=this.ordinal,i=this.old?this.old.min:this.min,s=this.old?this.old.transA:this.transA,r=e.getExtendedPositions();if(r&&r.length){let o=n((t-i)*s+this.minPixelPadding),a=n(e.getIndexOfPoint(o,r)),l=n(a%1);if(a>=0&&a<=r.length-1){let t=r[Math.floor(a)],e=r[Math.ceil(a)];return r[Math.floor(a)]+l*(e-t)}}return t}function g(e,i){let s=t.Additions.findIndexOf(e,i,!0);return e[s]===i?s:s+(i-e[s])/(e[s+1]-e[s])}function m(){this.ordinal||(this.ordinal=new t.Additions(this))}function x(){let{eventArgs:t,options:e}=this;if(this.isXAxis&&l(e.overscroll)&&0!==e.overscroll&&p(this.max)&&p(this.min)&&(this.options.ordinal&&!this.ordinal.originalOrdinalRange&&this.ordinal.getExtendedPositions(!1),this.max===this.dataMax&&("pan"!==t?.trigger||this.isInternal)&&"navigator"!==t?.trigger)){let i=this.ordinal.convertOverscroll(e.overscroll);this.max+=i,!this.isInternal&&l(this.userMin)&&"mousewheel"!==t?.trigger&&(this.min+=i)}}function b(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function v(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function y(t){let e=this.xAxis[0],i=e.ordinal.convertOverscroll(e.options.overscroll),s=t.originalEvent.chartX,r=this.options.chart.panning,o=!1;if(r&&"y"!==r.type&&e.options.ordinal&&e.series.length&&(!t.touches||t.touches.length<=1)){let t,r,n=this.mouseDownX,l=e.getExtremes(),h=l.dataMin,p=l.dataMax,d=l.min,u=l.max,c=this.hoverPoints,f=e.closestPointRange||e.ordinal&&e.ordinal.overscrollPointsRange,g=Math.round((n-s)/(e.translationSlope*(e.ordinal.slope||f))),m=e.ordinal.getExtendedPositions(),x={ordinal:{positions:m,extendedOrdinalPositions:m}},b=e.index2val,v=e.val2lin;if(d<=h&&g<0||u+i>=p&&g>0)return;x.ordinal.positions?Math.abs(g)>1&&(c&&c.forEach((function(t){t.setState()})),p>(r=x.ordinal.positions)[r.length-1]&&r.push(p),this.setFixedRange(u-d),(t=e.navigatorAxis.toFixedRange(void 0,void 0,b.apply(x,[v.apply(x,[d,!0])+g]),b.apply(x,[v.apply(x,[u,!0])+g]))).min>=Math.min(l.dataMin,d)&&t.max<=Math.max(p,u)+i&&e.setExtremes(t.min,t.max,!0,!1,{trigger:"pan"}),this.mouseDownX=s,a(this.container,{cursor:"move"})):o=!0}else o=!0;o||r&&/y/.test(r.type)?i&&(e.max=e.dataMax+i):t.preventDefault()}function w(){let t=this.xAxis;t&&t.options.ordinal&&(delete t.ordinal.index,delete t.ordinal.originalOrdinalRange)}function S(t,e){let i,s,r=this.ordinal,o=r.positions,n=r.slope;if(!o)return t;let a=o.length;if(o[0]<=t&&o[a-1]>=t)i=g(o,t);else{if(!(s=r.getExtendedPositions&&r.getExtendedPositions())||!s.length)return t;let a=s.length;n||(n=(s[a-1]-s[0])/a);let l=g(s,o[0]);if(t>=s[0]&&t<=s[a-1])i=g(s,t)-l;else{if(!e)return t;i=t<s[0]?-l-(s[0]-t)/n:(t-s[a-1])/n+a-l}}return e?i:n*(i||0)+r.offset}t.compose=function(t,e,i){let n=t.prototype;return n.ordinal2lin||(n.getTimeTicks=s,n.index2val=r,n.lin2val=f,n.val2lin=S,n.ordinal2lin=n.val2lin,o(t,"afterInit",m),o(t,"foundExtremes",x),o(t,"afterSetScale",b),o(t,"initialAxisTranslation",v),o(i,"pan",y),o(i,"touchpan",y),o(e,"updatedData",w)),t};class M{constructor(t){this.index={},this.axis=t}beforeSetTickPositions(){let t,e,i,s,r,o,n,a=this.axis,l=a.ordinal,h=a.getExtremes(),p=h.min,u=h.max,c=a.brokenAxis?.hasBreaks,f=a.options.ordinal,g=[],m=Number.MAX_VALUE,x=!1,b=!1,v=!1;if(f||c){let h=0;if(a.series.forEach((function(i,s){if(e=[],s>0&&"highcharts-navigator-series"!==i.options.id&&i.processedXData.length>1&&(b=h!==i.processedXData[1]-i.processedXData[0]),h=i.processedXData[1]-i.processedXData[0],i.boosted&&(v=i.boosted),i.reserveSpace()&&(!1!==i.takeOrdinalPosition||c)&&(t=(g=g.concat(i.processedXData)).length,g.sort((function(t,e){return t-e})),m=Math.min(m,d(i.closestPointRange,m)),t)){for(s=0;s<t-1;)g[s]!==g[s+1]&&e.push(g[s+1]),s++;e[0]!==g[0]&&e.unshift(g[0]),g=e}})),a.ordinal.originalOrdinalRange||(a.ordinal.originalOrdinalRange=(g.length-1)*m),b&&v&&(g.pop(),g.shift()),(t=g.length)>2){for(i=g[1]-g[0],n=t-1;n--&&!x;)g[n+1]-g[n]!==i&&(x=!0);!a.options.keepOrdinalPadding&&(g[0]-p>i||u-g[g.length-1]>i)&&(x=!0)}else a.options.overscroll&&(2===t?m=g[1]-g[0]:1===t?(m=a.ordinal.convertOverscroll(a.options.overscroll),g=[g[0],g[0]+m]):m=l.overscrollPointsRange);x||a.forceOrdinal?(a.options.overscroll&&(l.overscrollPointsRange=m,g=g.concat(l.getOverscrollPositions())),l.positions=g,s=a.ordinal2lin(Math.max(p,g[0]),!0),r=Math.max(a.ordinal2lin(Math.min(u,g[g.length-1]),!0),1),l.slope=o=(u-p)/(r-s),l.offset=p-s*o):(l.overscrollPointsRange=d(a.closestPointRange,l.overscrollPointsRange),l.positions=a.ordinal.slope=l.offset=void 0)}a.isOrdinal=f&&x,l.groupIntervalFactor=null}static findIndexOf(t,e,i){let s,r=0,o=t.length-1;for(;r<o;)t[s=Math.ceil((r+o)/2)]<=e?r=s:o=s-1;return t[r]===e||i?r:-1}getExtendedPositions(t=!0){let s,r,o=this,n=o.axis,a=n.constructor.prototype,l=n.chart,h=n.series[0]?.currentDataGrouping,p=h?h.count+h.unitName:"raw",d=t?n.ordinal.convertOverscroll(n.options.overscroll):0,u=n.getExtremes(),c=o.index;return c||(c=o.index={}),c[p]||((s={series:[],chart:l,forceOrdinal:!1,getExtremes:function(){return{min:u.dataMin,max:u.dataMax+d}},applyGrouping:a.applyGrouping,getGroupPixelWidth:a.getGroupPixelWidth,getTimeTicks:a.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:a.ordinal2lin,getIndexOfPoint:a.getIndexOfPoint,val2lin:a.val2lin}).ordinal.axis=s,n.series.forEach((function(n){r={xAxis:s,xData:n.xData.slice(),chart:l,groupPixelWidth:n.groupPixelWidth,destroyGroupedData:e.noop,getProcessedData:i.prototype.getProcessedData,applyGrouping:i.prototype.applyGrouping,reserveSpace:i.prototype.reserveSpace,visible:n.visible},t&&(r.xData=r.xData.concat(o.getOverscrollPositions())),r.options={dataGrouping:h?{firstAnchor:n.options.dataGrouping?.firstAnchor,anchor:n.options.dataGrouping?.anchor,lastAnchor:n.options.dataGrouping?.firstAnchor,enabled:!0,forced:!0,approximation:"open",units:[[h.unitName,[h.count]]]}:{enabled:!1}},s.series.push(r),n.processData.apply(r)})),s.applyGrouping({hasExtremesChanged:!0}),r?.closestPointRange!==r?.basePointRange&&r.currentDataGrouping&&(s.forceOrdinal=!0),n.ordinal.beforeSetTickPositions.apply({axis:s}),!n.ordinal.originalOrdinalRange&&s.ordinal.originalOrdinalRange&&(n.ordinal.originalOrdinalRange=s.ordinal.originalOrdinalRange),c[p]=s.ordinal.positions),c[p]}getGroupIntervalFactor(t,e,i){let s,r,o=i.processedXData,n=o.length,a=[],l=this.groupIntervalFactor;if(!l){for(r=0;r<n-1;r++)a[r]=o[r+1]-o[r];a.sort((function(t,e){return t-e})),s=a[Math.floor(n/2)],t=Math.max(t,o[0]),e=Math.min(e,o[n-1]),this.groupIntervalFactor=l=n*s/(e-t)}return l}getIndexOfPoint(t,e){let i,s=this.axis,r=0;s.series.forEach((t=>{let e=t.points?.[0];l(e?.plotX)&&(e.plotX<i||!l(i))&&function(t){let{min:e,max:i}=s;return!(!l(e)||!l(i))&&t.points.some((t=>t.x>=e&&t.x<=i))}(t)&&(i=e.plotX,r=e.x)})),i??(i=s.minPixelPadding);let o=s.translationSlope*(this.slope||s.closestPointRange||this.overscrollPointsRange),a=n((t-i)/o);return M.findIndexOf(e,r,!0)+a}getOverscrollPositions(){let t=this.axis,e=this.convertOverscroll(t.options.overscroll),i=this.overscrollPointsRange,s=[],r=t.dataMax;if(l(i))for(;r<=t.dataMax+e;)s.push(r+=i);return s}postProcessTickInterval(t){let e=this.axis,i=this.slope;return i?e.options.breaks?e.closestPointRange||t:t/(i/e.closestPointRange):t}convertOverscroll(t=0){let e=this,i=e.axis,s=function(t){return d(e.originalOrdinalRange,l(i.dataMax)&&l(i.dataMin)?i.dataMax-i.dataMin:0)*t};if(c(t)){let e=parseInt(t,10);if(/%$/.test(t))return s(e/100);if(/px/.test(t)){let t=Math.min(e,.9*i.len)/i.len;return s(t/(1-t))}return 0}return t}}t.Additions=M}(r||(r={})),r})),i(e,"Stock/RangeSelector/RangeSelectorDefaults.js",[],(function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}})),i(e,"Stock/RangeSelector/RangeSelectorComposition.js",[e["Core/Defaults.js"],e["Core/Globals.js"],e["Stock/RangeSelector/RangeSelectorDefaults.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let r,{defaultOptions:o}=t,{composed:n}=e,{addEvent:a,defined:l,extend:h,isNumber:p,merge:d,pick:u,pushUnique:c}=s,f=[];function g(){let t,e,i=this.range,s=i.type,r=this.max,o=this.chart.time,n=function(t,e){let i="year"===s?"FullYear":"Month",r=new o.Date(t),n=o.get(i,r);return o.set(i,r,n+e),n===o.get(i,r)&&o.set("Date",r,0),r.getTime()-t};p(i)?(t=r-i,e=i):i&&(t=r+n(r,-(i.count||1)),this.chart&&this.chart.setFixedRange(r-t));let a=u(this.dataMin,Number.MIN_VALUE);return p(t)||(t=a),t<=a&&(t=a,void 0===e&&(e=n(t,i.count)),this.newMax=Math.min(t+e,u(this.dataMax,Number.MAX_VALUE))),p(r)?!p(i)&&i&&i._offsetMin&&(t+=i._offsetMin):t=void 0,t}function m(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new r(this))}function x(){let t=this.rangeSelector;if(t){p(t.deferredYTDClick)&&(t.clickButton(t.deferredYTDClick),delete t.deferredYTDClick);let e=t.options.verticalAlign;t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"===e||(this.extraTopMargin=!0))}}function b(){let t,e=this.rangeSelector;if(!e)return;let i=this.xAxis[0].getExtremes(),s=this.legend,r=e&&e.options.verticalAlign;p(i.min)&&e.render(i.min,i.max),s.display&&"top"===r&&r===s.options.verticalAlign&&(t=d(this.spacingBox),"vertical"===s.options.layout?t.y=this.plotTop:t.y+=e.getHeight(),s.group.placed=!1,s.align(t))}function v(){for(let t=0,e=f.length;t<e;++t){let e=f[t];if(e[0]===this)return e[1].forEach((t=>t())),void f.splice(t,1)}}function y(){let t=this.rangeSelector;if(t){let e=t.getHeight();this.extraTopMargin&&(this.plotTop+=e),this.extraBottomMargin&&(this.marginBottom+=e)}}function w(t){let e=t.options.rangeSelector,i=this.extraBottomMargin,s=this.extraTopMargin,o=this.rangeSelector;if(e&&e.enabled&&!l(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new r(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o){let t=e&&e.verticalAlign||o.options&&o.options.verticalAlign;o.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"===t||(this.extraTopMargin=!0)),(this.extraBottomMargin!==i||this.extraTopMargin!==s)&&(this.isDirtyBox=!0)}}return{compose:function(t,e,s){if(r=s,c(n,"RangeSelector")){let s=e.prototype;t.prototype.minFromRange=g,a(e,"afterGetContainer",m),a(e,"beforeRender",x),a(e,"destroy",v),a(e,"getMargins",y),a(e,"redraw",b),a(e,"update",w),s.callbacks.push(b),h(o,{rangeSelector:i.rangeSelector}),h(o.lang,i.lang)}}}})),i(e,"Stock/RangeSelector/RangeSelector.js",[e["Core/Axis/Axis.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Stock/RangeSelector/RangeSelectorComposition.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"],e["Core/Axis/OrdinalAxis.js"]],(function(t,e,i,s,r,o,n){let{defaultOptions:a}=e,{addEvent:l,createElement:h,css:p,defined:d,destroyObjectProperties:u,discardElement:c,extend:f,fireEvent:g,isNumber:m,merge:x,objectEach:b,pad:v,pick:y,pInt:w,splat:S}=o;class M{static compose(t,e){s.compose(t,e,M)}constructor(t){this.buttonOptions=M.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.init(t)}clickButton(e,i){let s,r,o,n,a,h=this.chart,p=this.buttonOptions[e],u=h.xAxis[0],c=h.scroller&&h.scroller.getUnionExtremes()||u||{},f=p.type,x=p.dataGrouping,b=c.dataMin,v=c.dataMax,w=u&&Math.round(Math.min(u.max,y(v,u.max))),M=p._range,A=!0;if(null!==b&&null!==v){if(this.setSelected(e),x&&(this.forcedDataGrouping=!0,t.prototype.setDataGrouping.call(u||{chart:this.chart},x,!1),this.frozenStates=p.preserveDataGrouping),"month"===f||"year"===f)u?(n={range:p,max:w,chart:h,dataMin:b,dataMax:v},s=u.minFromRange.call(n),m(n.newMax)&&(w=n.newMax),A=!1):M=p;else if(M)w=Math.min((s=Math.max(w-M,b))+M,v),A=!1;else if("ytd"===f){if(!u)return void(this.deferredYTDClick=e);(void 0===v||void 0===b)&&(b=Number.MAX_VALUE,v=Number.MIN_VALUE,h.series.forEach((t=>{let e=t.xData;e&&(b=Math.min(e[0],b),v=Math.max(e[e.length-1],v))})),i=!1),s=o=(a=this.getYTDExtremes(v,b,h.time.useUTC)).min,w=a.max}else"all"===f&&u&&(h.navigator&&h.navigator.baseSeries[0]&&(h.navigator.baseSeries[0].xAxis.options.range=void 0),s=b,w=v);if(A&&p._offsetMin&&d(s)&&(s+=p._offsetMin),p._offsetMax&&d(w)&&(w+=p._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=e+1),u)u.setExtremes(s,w,y(i,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:p}),h.setFixedRange(p._range);else{r=S(h.options.xAxis)[0];let t=l(h,"afterGetAxes",(function(){let t=h.xAxis[0];t.range=t.options.range=M,t.min=t.options.min=o}));l(h,"load",(function(){let e=h.xAxis[0];h.setFixedRange(p._range),e.options.range=r.range,e.options.min=r.min,t()}))}g(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(t){let e=this,i=t.options.rangeSelector,s=i.buttons||e.defaultButtons.slice(),r=i.selected,o=function(){let t=e.minInput,i=e.maxInput;t&&t.blur&&g(t,"blur"),i&&i.blur&&g(i,"blur")};e.chart=t,e.options=i,e.buttons=[],e.buttonOptions=s,this.eventsToUnbind=[],this.eventsToUnbind.push(l(t.container,"mousedown",o)),this.eventsToUnbind.push(l(t,"resize",o)),s.forEach(e.computeButtonRange),void 0!==r&&s[r]&&this.clickButton(r,!1),this.eventsToUnbind.push(l(t,"load",(function(){t.xAxis&&t.xAxis[0]&&l(t.xAxis[0],"setExtremes",(function(i){m(this.max)&&m(this.min)&&this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)}))}))),this.createElements()}updateButtonStates(){let t=this,e=this.chart,i=this.dropdown,s=this.dropdownLabel,r=e.xAxis[0],o=Math.round(r.max-r.min),l=!r.hasVisibleSeries,h=864e5,d=e.scroller&&e.scroller.getUnionExtremes()||r,u=d.dataMin,c=d.dataMax,f=t.getYTDExtremes(c,u,e.time.useUTC),g=f.min,x=f.max,b=t.selected,v=t.options.allButtonsEnabled,y=Array(t.buttonOptions.length).fill(0),w=m(b),S=t.buttons,M=!1,A=null;t.buttonOptions.forEach(((e,i)=>{let s=e._range,a=e.type,p=e.count||1,d=e._offsetMax-e._offsetMin,f=i===b,m=s>c-u,S=s<r.minRange,k=!1,C=s===o;if(f&&m&&(M=!0),r.isOrdinal&&r.ordinal?.positions&&s&&o<s){let t=r.ordinal.positions,e=n.Additions.findIndexOf(t,r.min,!0);t[Math.min(n.Additions.findIndexOf(t,r.max,!0)+1,t.length-1)]-t[e]>s&&(C=!0)}else("month"===a||"year"===a)&&o+36e5>={month:28,year:365}[a]*h*p-d&&o-36e5<={month:31,year:366}[a]*h*p+d?C=!0:"ytd"===a?(C=x-g+d===o,k=!f):"all"===a&&(C=r.max-r.min>=c-u);let P=!v&&!(M&&"all"===a)&&(m||S||l),L=M&&"all"===a||!k&&C||f&&t.frozenStates;P?y[i]=3:L&&(!w||i===b)&&(A=i)})),null!==A?(y[A]=2,t.setSelected(A)):(t.setSelected(),s&&(s.setState(0),s.attr({text:(a.lang.rangeSelectorZoom||"")+" ▾"})));for(let e=0;e<y.length;e++){let r=y[e],o=S[e];if(o.state!==r&&(o.setState(r),i)){i.options[e+1].disabled=3===r,2===r&&(s&&(s.setState(2),s.attr({text:t.buttonOptions[e].text+" ▾"})),i.selectedIndex=e+1);let o=s.getBBox();p(i,{width:`${o.width}px`,height:`${o.height}px`})}}}computeButtonRange(t){let e=t.type,i=t.count||1,s={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};s[e]?t._range=s[e]*i:("month"===e||"year"===e)&&(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=y(t.offsetMin,0),t._offsetMax=y(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){let e="min"===t?this.minInput:this.maxInput,i=this.chart.options.rangeSelector,s=this.chart.time;return e?("text"===e.type&&i.inputDateParser||this.defaultInputDateParser)(e.value,s.useUTC,s):0}setInputValue(t,e){let i=this.options,s=this.chart.time,r="min"===t?this.minInput:this.maxInput,o="min"===t?this.minDateBox:this.maxDateBox;if(r){let t=r.getAttribute("data-hc-time"),n=d(t)?Number(t):void 0;if(d(e)){let t=n;d(t)&&r.setAttribute("data-hc-time-previous",t),r.setAttribute("data-hc-time",e),n=e}r.value=s.dateFormat(this.inputTypeFormats[r.type]||i.inputEditDateFormat,n),o&&o.attr({text:s.dateFormat(i.inputDateFormat,n)})}}setInputExtremes(t,e,i){let s="min"===t?this.minInput:this.maxInput;if(s){let t=this.inputTypeFormats[s.type],r=this.chart.time;if(t){let o=r.dateFormat(t,e);s.min!==o&&(s.min=o);let n=r.dateFormat(t,i);s.max!==n&&(s.max=n)}}}showInput(t){let e="min"===t?this.minDateBox:this.maxDateBox,i="min"===t?this.minInput:this.maxInput;if(i&&e&&this.inputGroup){let t="text"===i.type,{translateX:s=0,translateY:r=0}=this.inputGroup,{x:o=0,width:n=0,height:a=0}=e,{inputBoxWidth:l}=this.options;p(i,{width:t?n+(l?-2:20)+"px":"auto",height:a-2+"px",border:"2px solid silver"}),p(i,t&&l?{left:s+o+"px",top:r+"px"}:{left:Math.min(Math.round(o+s-(i.offsetWidth-n)/2),this.chart.chartWidth-i.offsetWidth)+"px",top:r-(i.offsetHeight-a)/2+"px"})}}hideInput(t){let e="min"===t?this.minInput:this.maxInput;e&&p(e,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,s){let r=t.split("/").join("-").split(" ").join("T");if(-1===r.indexOf("T")&&(r+="T00:00"),e)r+="Z";else{let t;if(i.isSafari&&(!((t=r).length>6)||t.lastIndexOf("-")!==t.length-6&&t.lastIndexOf("+")!==t.length-6)){let t=new Date(r).getTimezoneOffset()/60;r+=t<=0?`+${v(-t)}:00`:`-${v(t)}:00`}}let o=Date.parse(r);if(!m(o)){let e=t.split("-");o=Date.UTC(w(e[0]),w(e[1])-1,w(e[2]))}return s&&e&&m(o)&&(o+=s.getTimezoneOffset(o)),o}drawInput(t){let{chart:e,div:s,inputGroup:r}=this,o=this,n=e.renderer.style||{},l=e.renderer,d=e.options.rangeSelector,u=a.lang,c="min"===t;function g(t){let{maxInput:i,minInput:s}=o,r=e.xAxis[0],n=e.scroller?.getUnionExtremes()||r,a=n.dataMin,l=n.dataMax,h=e.xAxis[0].getExtremes()[t],p=o.getInputValue(t);m(p)&&p!==h&&(c&&i&&m(a)?p>Number(i.getAttribute("data-hc-time"))?p=void 0:p<a&&(p=a):s&&m(l)&&(p<Number(s.getAttribute("data-hc-time"))?p=void 0:p>l&&(p=l)),void 0!==p&&r.setExtremes(c?p:r.min,c?r.max:p,void 0,void 0,{trigger:"rangeSelectorInput"}))}let b=u[c?"rangeSelectorFrom":"rangeSelectorTo"]||"",v=l.label(b,0).addClass("highcharts-range-label").attr({padding:b?2:0,height:b?d.inputBoxHeight:0}).add(r),y=l.label("",0).addClass("highcharts-range-input").attr({padding:2,width:d.inputBoxWidth,height:d.inputBoxHeight,"text-align":"center"}).on("click",(function(){o.showInput(t),o[t+"Input"].focus()}));e.styledMode||y.attr({stroke:d.inputBoxBorderColor,"stroke-width":1}),y.add(r);let w=h("input",{name:t,className:"highcharts-range-selector"},void 0,s);w.setAttribute("type",function(t){if(-1!==t.indexOf("%L"))return"text";let e=["a","A","d","e","w","b","B","m","o","y","Y"].some((e=>-1!==t.indexOf("%"+e))),i=["H","k","I","l","M","S"].some((e=>-1!==t.indexOf("%"+e)));return e&&i?"datetime-local":e?"date":i?"time":"text"}(d.inputDateFormat||"%e %b %Y")),e.styledMode||(v.css(x(n,d.labelStyle)),y.css(x({color:"#333333"},n,d.inputStyle)),p(w,f({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:n.fontSize,fontFamily:n.fontFamily,top:"-9999em"},d.inputStyle))),w.onfocus=()=>{o.showInput(t)},w.onblur=()=>{w===i.doc.activeElement&&g(t),o.hideInput(t),o.setInputValue(t),w.blur()};let S=!1;return w.onchange=()=>{S||(g(t),o.hideInput(t),w.blur())},w.onkeypress=e=>{13===e.keyCode&&g(t)},w.onkeydown=e=>{S=!0,("ArrowUp"===e.key||"ArrowDown"===e.key||"Tab"===e.key)&&g(t)},w.onkeyup=()=>{S=!1},{dateBox:y,input:w,label:v}}getPosition(){let t=this.chart,e=t.options.rangeSelector,i="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:i+e.buttonPosition.y,inputTop:i+e.inputPosition.y-10}}getYTDExtremes(t,e,i){let s=this.chart.time,r=new s.Date(t),o=s.get("FullYear",r),n=Math.max(e,i?s.Date.UTC(o,0,1):+new s.Date(o,0,1)),a=r.getTime();return{max:Math.min(t||a,a),min:n}}createElements(){let t=this.chart,e=t.renderer,i=t.container,s=t.options,r=s.rangeSelector,o=r.inputEnabled,n=y(s.chart.style?.zIndex,0)+1;if(!1!==r.enabled&&(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=h("div",void 0,{position:"relative",height:0,zIndex:n}),this.buttonOptions.length&&this.renderButtons(),i.parentNode&&i.parentNode.insertBefore(this.div,i),o)){this.inputGroup=e.g("input-group").add(this.group);let t=this.drawInput("min");this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input;let i=this.drawInput("max");this.maxDateBox=i.dateBox,this.maxLabel=i.label,this.maxInput=i.input}}render(t,e){let i=this.chart,s=i.options.rangeSelector,r=s.inputEnabled;if(!1!==s.enabled){if(r){this.setInputValue("min",t),this.setInputValue("max",e);let r=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{};if(d(r.dataMin)&&d(r.dataMax)){let t=i.xAxis[0].minRange||0;this.setInputExtremes("min",r.dataMin,Math.min(r.dataMax,this.getInputValue("max"))-t),this.setInputExtremes("max",Math.max(r.dataMin,this.getInputValue("min"))+t,r.dataMax)}if(this.inputGroup){let t=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach((e=>{if(e){let{width:i}=e.getBBox();i&&(e.attr({x:t}),t+=i+s.inputSpacing)}}))}}this.alignElements(),this.updateButtonStates()}}renderButtons(){let{buttons:t,chart:e,options:s}=this,r=a.lang,o=e.renderer,n=x(s.buttonTheme),p=n&&n.states,d=n.width||28;delete n.width,delete n.states,this.buttonGroup=o.g("range-selector-buttons").add(this.group);let u=this.dropdown=h("select",void 0,{position:"absolute",padding:0,border:0,cursor:"pointer",opacity:1e-4},this.div),c=e.userOptions.rangeSelector?.buttonTheme;this.dropdownLabel=o.button("",0,0,(()=>{}),x(n,{"stroke-width":y(n["stroke-width"],0),width:"auto",paddingLeft:y(s.buttonTheme.paddingLeft,c?.padding,8),paddingRight:y(s.buttonTheme.paddingRight,c?.padding,8)}),p&&p.hover,p&&p.select,p&&p.disabled).hide().add(this.group),l(u,"touchstart",(()=>{u.style.fontSize="16px"}));let f=i.isMS?"mouseover":"mouseenter",m=i.isMS?"mouseout":"mouseleave";l(u,f,(()=>{g(this.dropdownLabel.element,f)})),l(u,m,(()=>{g(this.dropdownLabel.element,m)})),l(u,"change",(()=>{g(this.buttons[u.selectedIndex-1].element,"click")})),this.zoomText=o.label(r.rangeSelectorZoom||"",0).attr({padding:s.buttonTheme.padding,height:s.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(s.labelStyle),n["stroke-width"]=y(n["stroke-width"],0)),h("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,u),this.buttonOptions.forEach(((e,i)=>{h("option",{textContent:e.title||e.text},void 0,u),t[i]=o.button(e.text,0,0,(t=>{let s,r=e.events&&e.events.click;r&&(s=r.call(e,t)),!1!==s&&this.clickButton(i),this.isActive=!0}),n,p&&p.hover,p&&p.select,p&&p.disabled).attr({"text-align":"center",width:d}).add(this.buttonGroup),e.title&&t[i].attr("title",e.title)}))}alignElements(){let{buttonGroup:t,buttons:e,chart:i,group:s,inputGroup:r,options:o,zoomText:n}=this,a=i.options,l=a.exporting&&!1!==a.exporting.enabled&&a.navigation&&a.navigation.buttonOptions,{buttonPosition:h,inputPosition:p,verticalAlign:d}=o,u=(t,e)=>l&&this.titleCollision(i)&&"top"===d&&"right"===e.align&&e.y-t.getBBox().height-12<(l.y||0)+(l.height||0)+i.spacing[0]?-40:0,c=i.plotLeft;if(s&&h&&p){let a=h.x-i.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let t=0;n&&(t+=n.getBBox().width+5),e.forEach(((i,s)=>{t+=i.width||0,s!==e.length-1&&(t+=o.buttonSpacing)})),this.initialButtonGroupWidth=t}c-=i.spacing[3];let r=u(t,h);this.alignButtonGroup(r),this.buttonGroup?.translateY&&this.dropdownLabel.attr({y:this.buttonGroup.translateY}),s.placed=t.placed=i.hasLoaded}let l=0;r&&(l=u(r,p),"left"===p.align?a=c:"right"===p.align&&(a=-Math.max(i.axisOffset[1],-l)),r.align({y:p.y,width:r.getBBox().width,align:p.align,x:p.x+a-2},!0,i.spacingBox),r.placed=i.hasLoaded),this.handleCollision(l),s.align({verticalAlign:d},!0,i.spacingBox);let f=s.alignAttr.translateY,g=s.getBBox().height+20,m=0;if("bottom"===d){let t=i.legend&&i.legend.options;m=f-(g=g+(t&&"bottom"===t.verticalAlign&&t.enabled&&!t.floating?i.legend.legendHeight+y(t.margin,10):0)-20)-(o.floating?0:o.y)-(i.titleOffset?i.titleOffset[2]:0)-10}"top"===d?(o.floating&&(m=0),i.titleOffset&&i.titleOffset[0]&&(m=i.titleOffset[0]),m+=i.margin[0]-i.spacing[0]||0):"middle"===d&&(p.y===h.y?m=f:(p.y||h.y)&&(p.y<0||h.y<0?m-=Math.min(p.y,h.y):m=f-g)),s.translate(o.x,o.y+Math.floor(m));let{minInput:x,maxInput:b,dropdown:v}=this;o.inputEnabled&&x&&b&&(x.style.marginTop=s.translateY+"px",b.style.marginTop=s.translateY+"px"),v&&(v.style.marginTop=s.translateY+"px")}}alignButtonGroup(t,e){let{chart:i,options:s,buttonGroup:r}=this,{buttonPosition:o}=s,n=i.plotLeft-i.spacing[3],a=o.x-i.spacing[3];"right"===o.align?a+=t-n:"center"===o.align&&(a-=n/2),r&&r.align({y:o.y,width:y(e,this.initialButtonGroupWidth),align:o.align,x:a},!0,i.spacingBox)}positionButtons(){let{buttons:t,chart:e,options:i,zoomText:s}=this,r=e.hasLoaded?"animate":"attr",{buttonPosition:o}=i,n=e.plotLeft,a=n;s&&"hidden"!==s.visibility&&(s[r]({x:y(n+o.x,n)}),a+=o.x+s.getBBox().width+5);for(let e=0,s=this.buttonOptions.length;e<s;++e)"hidden"!==t[e].visibility?(t[e][r]({x:a}),a+=(t[e].width||0)+i.buttonSpacing):t[e][r]({x:n})}handleCollision(t){let{chart:e,buttonGroup:i,inputGroup:s}=this,{buttonPosition:r,dropdown:o,inputPosition:n}=this.options,a=()=>{let t=0;return this.buttons.forEach((e=>{let i=e.getBBox();i.width>t&&(t=i.width)})),t},l=e=>{if(s?.alignOptions&&i){let o=s.alignAttr.translateX+s.alignOptions.x-t+s.getBBox().x+2,a=s.alignOptions.width||0,l=i.alignAttr.translateX+i.getBBox().x;return l+e>o&&o+a>l&&r.y<n.y+s.getBBox().height}return!1},h=()=>{s&&i&&s.attr({translateX:s.alignAttr.translateX+(e.axisOffset[1]>=-t?0:-t),translateY:s.alignAttr.translateY+i.getBBox().height+10})};if(i){if("always"===o)return this.collapseButtons(),void(l(a())&&h());"never"===o&&this.expandButtons()}s&&i?n.align===r.align||l(this.initialButtonGroupWidth+20)?"responsive"===o?(this.collapseButtons(),l(a())&&h()):h():"responsive"===o&&this.expandButtons():i&&"responsive"===o&&(this.initialButtonGroupWidth>e.plotWidth?this.collapseButtons():this.expandButtons())}collapseButtons(){let{buttons:t,zoomText:e}=this;!0!==this.isCollapsed&&(this.isCollapsed=!0,e.hide(),t.forEach((t=>{t.hide()})),this.showDropdown())}expandButtons(){let{buttons:t,zoomText:e}=this;!1!==this.isCollapsed&&(this.isCollapsed=!1,this.hideDropdown(),e.show(),t.forEach((t=>{t.show()})),this.positionButtons())}showDropdown(){let{buttonGroup:t,chart:e,dropdownLabel:i,dropdown:s}=this;if(t&&s){let{translateX:r=0,translateY:o=0}=t,n=e.plotLeft+r;i.attr({x:n,y:o}).show(),p(s,{left:n+"px",top:o+"px",visibility:"inherit"}),this.hasVisibleDropdown=!0}}hideDropdown(){let{dropdown:t}=this;t&&(this.dropdownLabel.hide(),p(t,{visibility:"hidden",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){let t=this.options,e=this.group,i=t.inputPosition,s=t.buttonPosition,r=t.y,o=s.y,n=i.y,a=0;if(t.height)return t.height;this.alignElements(),a=e?e.getBBox(!0).height+13+r:0;let l=Math.min(n,o);return(n<0&&o<0||n>0&&o>0)&&(a+=Math.abs(l)),a}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t,e=!0){let i=this.chart;x(!0,i.options.rangeSelector,t),this.destroy(),this.init(i),e&&this.render()}destroy(){let t=this,e=t.minInput,i=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach((t=>t())),t.eventsToUnbind=void 0),u(t.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),b(t,(function(e,i){e&&"chart"!==i&&(e instanceof r?e.destroy():e instanceof window.HTMLElement&&c(e)),e!==M.prototype[i]&&(t[i]=null)}),this)}}return f(M.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),M})),i(e,"Core/Chart/StockChart.js",[e["Core/Chart/Chart.js"],e["Core/Templating.js"],e["Core/Defaults.js"],e["Stock/Navigator/NavigatorDefaults.js"],e["Stock/RangeSelector/RangeSelectorDefaults.js"],e["Stock/Scrollbar/ScrollbarDefaults.js"],e["Stock/Utilities/StockUtilities.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o,n,a){let{format:l}=e,{getOptions:h}=i,{setFixedRange:p}=n,{addEvent:d,clamp:u,crisp:c,defined:f,extend:g,find:m,isNumber:x,isString:b,merge:v,pick:y,splat:w}=a;function S(t,e,i){return"xAxis"===t?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0}:"yAxis"===t?{labels:{y:-2},opposite:i.opposite??e.opposite??!0,showLastLabel:!(!e.categories&&"category"!==e.type),title:{text:"Values"!==i.title?.text?i.title?.text:null}}:{}}function M(t,e){if("xAxis"===t){let t={type:"datetime",categories:void 0};return y(e.navigator&&e.navigator.enabled,s.enabled,!0)&&(t.startOnTick=!1,t.endOnTick=!1),t}return{}}class A extends t{init(t,e){let i=h(),n=t.xAxis,a=t.yAxis,l=y(t.navigator&&t.navigator.enabled,s.enabled,!0);t.xAxis=t.yAxis=void 0;let p=v({chart:{panning:{enabled:!0,type:"x"},zooming:{pinchType:"x",mouseWheel:{type:"x"}}},navigator:{enabled:l},scrollbar:{enabled:y(o.enabled,!0)},rangeSelector:{enabled:y(r.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:y(i.tooltip&&i.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},t,{isStock:!0});t.xAxis=n,t.yAxis=a,p.xAxis=w(t.xAxis||{}).map((e=>v(S("xAxis",e,i.xAxis),e,M("xAxis",t)))),p.yAxis=w(t.yAxis||{}).map((t=>v(S("yAxis",t,i.yAxis),t))),super.init(p,e)}createAxis(t,e){return e.axis=v(S(t,e.axis,h()[t]),e.axis,M(t,this.userOptions)),super.createAxis(t,e)}}return d(t,"update",(function(t){let e=t.options;"scrollbar"in e&&this.navigator&&(v(!0,this.options.scrollbar,e.scrollbar),this.navigator.update({enabled:!!this.navigator.navigatorEnabled}),delete e.scrollbar)})),function(t){function e(t){if(!(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&x(this.min)&&x(this.max)))return;let e,i,s,r=this.chart,o=this.logarithmic,n=this.crosshair.label,a=this.horiz,h=this.opposite,p=this.left,d=this.top,u=this.width,c="inside"===this.options.tickPosition,f=!1!==this.crosshair.snap,m=t.e||this.cross&&this.cross.e,b=t.point,v=this.crossLabel,w=n.format,S="",M=0,A=this.min,k=this.max;o&&(A=o.lin2log(this.min),k=o.lin2log(this.max));let C=a?"center":h?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";v||(v=this.crossLabel=r.renderer.label("",0,void 0,n.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(b&&b.series?b.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:n.align||C,padding:y(n.padding,8),r:y(n.borderRadius,3),zIndex:2}).add(this.labelGroup),r.styledMode||v.attr({fill:n.backgroundColor||b&&b.series&&b.series.color||"#666666",stroke:n.borderColor||"","stroke-width":n.borderWidth||0}).css(g({color:"#ffffff",fontWeight:"normal",fontSize:"0.7em",textAlign:"center"},n.style||{}))),a?(e=f?(b.plotX||0)+p:m.chartX,i=d+(h?0:this.height)):(e=p+this.offset+(h?u:0),i=f?(b.plotY||0)+d:m.chartY),w||n.formatter||(this.dateTime&&(S="%b %d, %Y"),w="{value"+(S?":"+S:"")+"}");let P=f?this.isXAxis?b.x:b.y:this.toValue(a?m.chartX:m.chartY),L=b&&b.series?b.series.isPointInside(b):x(P)&&P>A&&P<k,D="";w?D=l(w,{value:P},r):n.formatter&&x(P)&&(D=n.formatter.call(this,P)),v.attr({text:D,x:e,y:i,visibility:L?"inherit":"hidden"});let T=v.getBBox();!x(v.x)||a||h||(e=v.x-T.width/2),x(v.y)&&(a?(c&&!h||!c&&h)&&(i=v.y-T.height):i=v.y-T.height/2),s=a?{left:p,right:p+this.width}:{left:"left"===this.labelAlign?p:0,right:"right"===this.labelAlign?p+this.width:r.chartWidth};let E=v.translateX||0;E<s.left&&(M=s.left-E),E+T.width>=s.right&&(M=-(E+T.width-s.right)),v.attr({x:e+M,y:i,anchorX:a?e:this.opposite?0:r.chartWidth,anchorY:a?this.opposite?r.chartHeight:0:i+T.height/2})}function i(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}function s(t){let e=this.chart,i=this.options,s=e._labelPanes=e._labelPanes||{},r=i.labels;if(e.options.isStock&&"yAxis"===this.coll){let e=i.top+","+i.height;!s[e]&&r.enabled&&(15===r.distance&&1===this.side&&(r.distance=0),void 0===r.align&&(r.align="right"),s[e]=this,t.align="right",t.preventDefault())}}function r(){let t=this.chart,e=this.options&&this.options.top+","+this.options.height;e&&t._labelPanes&&t._labelPanes[e]===this&&delete t._labelPanes[e]}function o(t){let e,i,s,r,o,n,a=this,l=a.isLinked&&!a.series&&a.linkedParent?a.linkedParent.series:a.series,h=a.chart,p=h.renderer,d=a.left,c=a.top,g=[],v=t.translatedValue,w=t.value,S=t.force,M=[];if(h.options.isStock&&!1!==t.acrossPanes&&"xAxis"===a.coll||"yAxis"===a.coll){for(let e of(t.preventDefault(),M=(t=>{let e="xAxis"===t?"yAxis":"xAxis",i=a.options[e];return x(i)?[h[e][i]]:b(i)?[h.get(i)]:l.map((t=>t[e]))})(a.coll),a.isXAxis?h.yAxis:h.xAxis))if(!e.options.isInternal){let t=e.isXAxis?"yAxis":"xAxis";a===(f(e.options[t])?h[t][e.options[t]]:h[t][0])&&M.push(e)}for(let t of(o=M.length?[]:[a.isXAxis?h.yAxis[0]:h.xAxis[0]],M))-1!==o.indexOf(t)||m(o,(e=>e.pos===t.pos&&e.len===t.len))||o.push(t);if(x(n=y(v,a.translate(w||0,void 0,void 0,t.old))))if(a.horiz)for(let t of o){let o;r=(i=t.pos)+t.len,e=s=Math.round(n+a.transB),"pass"!==S&&(e<d||e>d+a.width)&&(S?e=s=u(e,d,d+a.width):o=!0),o||g.push(["M",e,i],["L",s,r])}else for(let t of o){let o;s=(e=t.pos)+t.len,i=r=Math.round(c+a.height-n),"pass"!==S&&(i<c||i>c+a.height)&&(S?i=r=u(i,c,c+a.height):o=!0),o||g.push(["M",e,i],["L",s,r])}t.path=g.length>0?p.crispPolyLine(g,t.lineWidth||1):void 0}}function n(t){if(this.chart.options.isStock){let e;this.is("column")||this.is("columnrange")?e={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(e={marker:{enabled:!1,radius:2}}),e&&(t.plotOptions[this.type]=v(t.plotOptions[this.type],e))}}function a(){let t=this.chart,e=this.options.dataGrouping;return!1!==this.allowDG&&e&&y(e.enabled,t.options.isStock)}function h(t,e){for(let i=0;i<t.length;i+=2){let s=t[i],r=t[i+1];f(s[1])&&s[1]===r[1]&&(s[1]=r[1]=c(s[1],e)),f(s[2])&&s[2]===r[2]&&(s[2]=r[2]=c(s[2],e))}return t}t.compose=function(t,l,u,c){let f=u.prototype;f.forceCropping||(d(l,"afterDrawCrosshair",e),d(l,"afterHideCrosshair",i),d(l,"autoLabelAlign",s),d(l,"destroy",r),d(l,"getPlotLinePath",o),t.prototype.setFixedRange=p,f.forceCropping=a,d(u,"setOptions",n),c.prototype.crispPolyLine=h)},t.stockChart=function(e,i,s){return new t(e,i,s)}}(A||(A={})),A})),i(e,"Series/HLC/HLCPoint.js",[e["Core/Series/SeriesRegistry.js"]],(function(t){let{column:{prototype:{pointClass:e}}}=t.seriesTypes;return class extends e{}})),i(e,"Series/HLC/HLCSeriesDefaults.js",[],(function(){return{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}})),i(e,"Series/HLC/HLCSeries.js",[e["Series/HLC/HLCPoint.js"],e["Series/HLC/HLCSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{column:r}=i.seriesTypes,{crisp:o,extend:n,merge:a}=s;class l extends r{extendStem(t,e,i){let s=t[0],r=t[1];"number"==typeof s[2]&&(s[2]=Math.max(i+e,s[2])),"number"==typeof r[2]&&(r[2]=Math.min(i-e,r[2]))}getPointPath(t,e){let i=e.strokeWidth(),s=t.series,r=o(t.plotX||0,i),n=Math.round(t.shapeArgs.width/2),a=[["M",r,Math.round(t.yBottom)],["L",r,Math.round(t.plotHigh)]];if(null!==t.close){let e=o(t.plotClose,i);a.push(["M",r,e],["L",r+n,e]),s.extendStem(a,i/2,e)}return a}drawSinglePoint(t){let e,i=t.series,s=i.chart,r=t.graphic;void 0!==t.plotY&&(r||(t.graphic=r=s.renderer.path().add(i.group)),s.styledMode||r.attr(i.pointAttribs(t,t.selected&&"select")),e=i.getPointPath(t,r),r[r?"animate":"attr"]({d:e}).addClass(t.getClassName(),!0))}drawPoints(){this.points.forEach(this.drawSinglePoint)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}pointAttribs(t,e){let i=super.pointAttribs.call(this,t,e);return delete i.fill,i}toYData(t){return[t.high,t.low,t.close]}translate(){let t=this,e=t.yAxis,i=this.pointArrayMap&&this.pointArrayMap.slice()||[],s=i.map((t=>`plot${t.charAt(0).toUpperCase()+t.slice(1)}`));s.push("yBottom"),i.push("low"),super.translate.apply(t),t.points.forEach((function(r){i.forEach((function(i,o){let n=r[i];null!==n&&(t.dataModify&&(n=t.dataModify.modifyValue(n)),r[s[o]]=e.toPixels(n,!0))})),r.tooltipPos[1]=r.plotHigh+e.pos-t.chart.plotTop}))}}return l.defaultOptions=a(r.defaultOptions,e),n(l.prototype,{pointClass:t,animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),i.registerSeriesType("hlc",l),l})),i(e,"Series/OHLC/OHLCPoint.js",[e["Core/Series/SeriesRegistry.js"]],(function(t){let{seriesTypes:{hlc:e}}=t;class i extends e.prototype.pointClass{getClassName(){return super.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}resolveUpColor(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)}resolveColor(){super.resolveColor(),this.series.is("heikinashi")||this.resolveUpColor()}getZone(){let t=super.getZone();return this.resolveUpColor(),t}applyOptions(){return super.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this}}return i})),i(e,"Series/OHLC/OHLCSeriesDefaults.js",[],(function(){return{tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}})),i(e,"Series/OHLC/OHLCSeries.js",[e["Core/Globals.js"],e["Series/OHLC/OHLCPoint.js"],e["Series/OHLC/OHLCSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r){let{composed:o}=t,{hlc:n}=s.seriesTypes,{addEvent:a,crisp:l,extend:h,merge:p,pushUnique:d}=r;function u(t){let e=t.options,i=e.dataGrouping;i&&e.useOhlcData&&"highcharts-navigator-series"!==e.id&&(i.approximation="ohlc")}function c(t){let e=t.options;e.useOhlcData&&"highcharts-navigator-series"!==e.id&&h(this,{pointValKey:f.prototype.pointValKey,pointArrayMap:f.prototype.pointArrayMap,toYData:f.prototype.toYData})}class f extends n{static compose(t,...e){d(o,"OHLCSeries")&&(a(t,"afterSetOptions",u),a(t,"init",c))}getPointPath(t,e){let i=super.getPointPath(t,e),s=e.strokeWidth(),r=l(t.plotX||0,s),o=Math.round(t.shapeArgs.width/2);if(null!==t.open){let e=l(t.plotOpen,s);i.push(["M",r,e],["L",r-o,e]),super.extendStem(i,s/2,e)}return i}pointAttribs(t,e){let i=super.pointAttribs.call(this,t,e),s=this.options;return delete i.fill,!t.options.color&&s.upColor&&t.open<t.close&&(i.stroke=s.upColor),i}toYData(t){return[t.open,t.high,t.low,t.close]}}return f.defaultOptions=p(n.defaultOptions,i),h(f.prototype,{pointClass:e,pointArrayMap:["open","high","low","close"]}),s.registerSeriesType("ohlc",f),f})),i(e,"Series/Candlestick/CandlestickSeriesDefaults.js",[],(function(){return{states:{hover:{lineWidth:2}},threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}})),i(e,"Series/Candlestick/CandlestickSeries.js",[e["Series/Candlestick/CandlestickSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{column:s,ohlc:r}=e.seriesTypes,{crisp:o,merge:n}=i;class a extends r{pointAttribs(t,e){let i=s.prototype.pointAttribs.call(this,t,e),r=this.options,o=t.open<t.close,n=r.lineColor||this.color,a=t.color||this.color;if(i["stroke-width"]=r.lineWidth,i.fill=t.options.color||o&&r.upColor||a,i.stroke=t.options.lineColor||o&&r.upLineColor||n,e){let t=r.states[e];i.fill=t.color||i.fill,i.stroke=t.lineColor||i.stroke,i["stroke-width"]=t.lineWidth||i["stroke-width"]}return i}drawPoints(){let t=this.points,e=this.chart,i=this.yAxis.reversed;for(let s of t){let t,r,n,a,l,h,p,d,u,c=s.graphic,f=!c;if(void 0!==s.plotY){c||(s.graphic=c=e.renderer.path().add(this.group)),this.chart.styledMode||c.attr(this.pointAttribs(s,s.selected&&"select")).shadow(this.options.shadow);let g=c.strokeWidth();p=o(s.plotX||0,g),n=Math.min(t=s.plotOpen,r=s.plotClose),a=Math.max(t,r),u=Math.round(s.shapeArgs.width/2),l=i?a!==s.yBottom:Math.round(n)!==Math.round(s.plotHigh||0),h=i?Math.round(n)!==Math.round(s.plotHigh||0):a!==s.yBottom,n=o(n,g),a=o(a,g),(d=[]).push(["M",p-u,a],["L",p-u,n],["L",p+u,n],["L",p+u,a],["Z"],["M",p,n],["L",p,l?Math.round(i?s.yBottom:s.plotHigh):n],["M",p,a],["L",p,h?Math.round(i?s.plotHigh:s.yBottom):a]),c[f?"attr":"animate"]({d}).addClass(s.getClassName(),!0)}}}}return a.defaultOptions=n(r.defaultOptions,{tooltip:r.defaultOptions.tooltip},t),e.registerSeriesType("candlestick",a),a})),i(e,"Series/Flags/FlagsPoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{column:{prototype:{pointClass:i}}}=t.seriesTypes,{isNumber:s}=e;return class extends i{constructor(){super(...arguments),this.ttBelow=!1}isValid(){return s(this.y)||void 0===this.y}hasNewShapeType(){let t=this.options.shape||this.series.options.shape;return this.graphic&&t&&t!==this.graphic.symbolKey}}})),i(e,"Series/Flags/FlagsSeriesDefaults.js",[],(function(){return{borderRadius:0,pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd3ff"}},style:{fontSize:"0.7em",fontWeight:"bold"}}})),i(e,"Series/Flags/FlagsSymbols.js",[e["Core/Renderer/RendererRegistry.js"]],(function(t){var e;return function(e){let i=[];function s(t,e,i,s,r){let o=r&&r.anchorX||t,n=r&&r.anchorY||e,a=this.circle(o-1,n-1,2,2);return a.push(["M",o,n],["L",t,e+s],["L",t,e],["L",t+i,e],["L",t+i,e+s],["L",t,e+s],["Z"]),a}function r(t,e){t[e+"pin"]=function(i,s,r,o,n){let a,l=n&&n.anchorX,h=n&&n.anchorY;if("circle"===e&&o>r&&(i-=Math.round((o-r)/2),r=o),a=t[e](i,s,r,o,n),l&&h){let n=l;if("circle"===e)n=i+r/2;else{let t=a[0],e=a[1];"M"===t[0]&&"L"===e[0]&&(n=(t[1]+e[1])/2)}let p=s>h?s:s+o;a.push(["M",n,p],["L",l,h]),a=a.concat(t.circle(l-1,h-1,2,2))}return a}}e.compose=function(e){if(-1===i.indexOf(e)){i.push(e);let t=e.prototype.symbols;t.flag=s,r(t,"circle"),r(t,"square")}let o=t.getRendererType();i.indexOf(o)&&i.push(o)}}(e||(e={})),e})),i(e,"Series/OnSeriesComposition.js",[e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Core/Utilities.js"]],(function(t,e,i,s){var r;let{composed:o}=e,{prototype:n}=t,{prototype:a}=i,{defined:l,pushUnique:h,stableSort:p}=s;return function(t){function e(t){return a.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this,t)}function i(){n.translate.apply(this);let t,e,i,s,r,o,a,h=this,d=h.options,u=h.chart,c=h.points,f=d.onSeries,g=f&&u.get(f),m=g&&g.options.step,x=g&&g.points,b=u.inverted,v=h.xAxis,y=h.yAxis,w=c.length-1,S=d.onKey||"y",M=x&&x.length,A=0;if(g&&g.visible&&M)for(A=(g.pointXOffset||0)+(g.barW||0)/2,o=g.currentDataGrouping,s=x[M-1].x+(o?o.totalRange:0),p(c,((t,e)=>t.x-e.x)),S="plot"+S[0].toUpperCase()+S.substr(1);M--&&c[w];)if(i=x[M],(t=c[w]).y=i.y,i.x<=t.x&&void 0!==i[S]){if(t.x<=s&&(t.plotY=i[S],i.x<t.x&&!m&&(r=x[M+1])&&void 0!==r[S]))if(l(t.plotX)&&g.is("spline")){let e,s=[i.plotX||0,i.plotY||0],o=[r.plotX||0,r.plotY||0],n=i.controlPoints?.high||s,a=r.controlPoints?.low||o,h=(t,e)=>Math.pow(1-t,3)*s[e]+3*(1-t)*(1-t)*t*n[e]+3*(1-t)*t*t*a[e]+t*t*t*o[e],p=0,d=1;for(let i=0;i<100;i++){let i=(p+d)/2,s=h(i,0);if(null===s)break;if(.25>Math.abs(s-t.plotX)){e=i;break}s<t.plotX?p=i:d=i}l(e)&&(t.plotY=h(e,1),t.y=y.toValue(t.plotY,!0))}else a=(t.x-i.x)/(r.x-i.x),t.plotY+=a*(r[S]-i[S]),t.y+=a*(r.y-i.y);if(w--,M++,w<0)break}c.forEach(((t,i)=>{let s;t.plotX+=A,(void 0===t.plotY||b)&&(t.plotX>=0&&t.plotX<=v.len?b?(t.plotY=v.translate(t.x,0,1,0,1),t.plotX=l(t.y)?y.translate(t.y,0,0,0,1):0):t.plotY=(v.opposite?0:h.yAxis.len)+v.offset:t.shapeArgs={}),(e=c[i-1])&&e.plotX===t.plotX&&(void 0===e.stackIndex&&(e.stackIndex=0),s=e.stackIndex+1),t.stackIndex=s})),this.onSeries=g}t.compose=function(t){if(h(o,"OnSeries")){let s=t.prototype;s.getPlotBox=e,s.translate=i}return t},t.getPlotBox=e,t.translate=i}(r||(r={})),r})),i(e,"Series/Flags/FlagsSeries.js",[e["Series/Flags/FlagsPoint.js"],e["Series/Flags/FlagsSeriesDefaults.js"],e["Series/Flags/FlagsSymbols.js"],e["Core/Globals.js"],e["Series/OnSeriesComposition.js"],e["Core/Renderer/RendererUtilities.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o,n,a,l){let{noop:h}=s,{distribute:p}=o,{series:d,seriesTypes:{column:u}}=n,{addEvent:c,defined:f,extend:g,isNumber:m,merge:x,objectEach:b,wrap:v}=l;class y extends u{animate(t){t&&this.setClip()}drawPoints(){let t,e,i,s,r,o,n,l,h,d,u,c=this.points,g=this.chart,y=g.renderer,w=g.inverted,S=this.options,M=S.y,A=this.yAxis,k={},C=[],P=m(S.borderRadius)?S.borderRadius:0;for(s=c.length;s--;)r=c[s],d=(w?r.plotY:r.plotX)>this.xAxis.len,t=r.plotX,n=r.stackIndex,i=r.options.shape||S.shape,void 0!==(e=r.plotY)&&(e=r.plotY+M-(void 0!==n&&n*S.stackDistance)),r.anchorX=n?void 0:r.plotX,l=n?void 0:r.plotY,u="flag"!==i,o=r.graphic,void 0!==e&&t>=0&&!d?(o&&r.hasNewShapeType()&&(o=o.destroy()),o||(o=r.graphic=y.label("",0,void 0,i,void 0,void 0,S.useHTML).addClass("highcharts-point").add(this.markerGroup),r.graphic.div&&(r.graphic.div.point=r),o.isNew=!0),o.attr({align:u?"center":"left",width:S.width,height:S.height,"text-align":S.textAlign,r:P}),g.styledMode||o.attr(this.pointAttribs(r)).css(x(S.style,r.style)).shadow(S.shadow),t>0&&(t-=o.strokeWidth()%2),h={y:e,anchorY:l},S.allowOverlapX&&(h.x=t,h.anchorX=r.anchorX),o.attr({text:r.options.title??S.title??"A"})[o.isNew?"attr":"animate"](h),S.allowOverlapX||(k[r.plotX]?k[r.plotX].size=Math.max(k[r.plotX].size,o.width||0):k[r.plotX]={align:u?.5:0,size:o.width||0,target:t,anchorX:t}),r.tooltipPos=[t,e+A.pos-g.plotTop]):o&&(r.graphic=o.destroy());if(!S.allowOverlapX){let t=100;for(let e of(b(k,(function(e){e.plotX=e.anchorX,C.push(e),t=Math.max(e.size,t)})),p(C,w?A.len:this.xAxis.len,t),c)){let t=e.plotX,i=e.graphic,s=i&&k[t];s&&i&&(f(s.pos)?i[i.isNew?"attr":"animate"]({x:s.pos+(s.align||0)*s.size,anchorX:e.anchorX}).show().isNew=!1:i.hide().isNew=!0)}}S.useHTML&&this.markerGroup&&v(this.markerGroup,"on",(function(t){return a.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))}))}drawTracker(){let t=this.points;for(let e of(super.drawTracker(),t)){let i=e.graphic;i&&(e.unbindMouseOver&&e.unbindMouseOver(),e.unbindMouseOver=c(i.element,"mouseover",(function(){for(let s of(e.stackIndex>0&&!e.raised&&(e._y=i.y,i.attr({y:e._y-8}),e.raised=!0),t))s!==e&&s.raised&&s.graphic&&(s.graphic.attr({y:s._y}),s.raised=!1)})))}}pointAttribs(t,e){let i=this.options,s=t&&t.color||this.color,r=i.lineColor,o=t&&t.lineWidth,n=t&&t.fillColor||i.fillColor;return e&&(n=i.states[e].fillColor,r=i.states[e].lineColor,o=i.states[e].lineWidth),{fill:n||s,stroke:r||s,"stroke-width":o||i.lineWidth||0}}setClip(){d.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])}}return y.compose=i.compose,y.defaultOptions=x(u.defaultOptions,e),r.compose(y),g(y.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:t,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:h,init:d.prototype.init}),n.registerSeriesType("flags",y),y})),i(e,"Core/Axis/BrokenAxis.js",[e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],(function(t,e){var i;let{addEvent:s,find:r,fireEvent:o,isArray:n,isNumber:a,pick:l}=e;return function(e){function i(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function h(){this.brokenAxis?.hasBreaks&&(this.options.ordinal=!1)}function p(){let t=this.brokenAxis;if(t?.hasBreaks){let e=this.tickPositions,i=this.tickPositions.info,s=[];for(let i=0;i<e.length;i++)t.isInAnyBreak(e[i])||s.push(e[i]);this.tickPositions=s,this.tickPositions.info=i}}function d(){this.brokenAxis||(this.brokenAxis=new m(this))}function u(){let{isDirty:t,options:{connectNulls:e},points:i,xAxis:s,yAxis:r}=this;if(t){let t=i.length;for(;t--;){let o=i[t],n=!(null===o.y&&!1===e)&&(s?.brokenAxis?.isInAnyBreak(o.x,!0)||r?.brokenAxis?.isInAnyBreak(o.y,!0));o.visible=!n&&!1!==o.options.visible}}}function c(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,l(this.pointArrayMap,["y"]))}function f(t,e){let i,s,r,n=this,h=n.points;if(t?.brokenAxis?.hasBreaks){let p=t.brokenAxis;e.forEach((function(e){i=p?.breakArray||[],s=t.isXAxis?t.min:l(n.options.threshold,t.min);let d=t?.options?.breaks?.filter((function(t){let e=!0;for(let s=0;s<i.length;s++){let r=i[s];if(r.from===t.from&&r.to===t.to){e=!1;break}}return e}));h.forEach((function(n){r=l(n["stack"+e.toUpperCase()],n[e]),i.forEach((function(e){if(a(s)&&a(r)){let i="";s<e.from&&r>e.to||s>e.from&&r<e.from?i="pointBreak":(s<e.from&&r>e.from&&r<e.to||s>e.from&&r>e.to&&r<e.from)&&(i="pointInBreak"),i&&o(t,i,{point:n,brk:e})}})),d?.forEach((function(e){o(t,"pointOutsideOfBreak",{point:n,brk:e})}))}))}))}}function g(){let e=this.currentDataGrouping,i=e?.gapSize,s=this.points.slice(),r=this.yAxis,o=this.options.gapSize,n=s.length-1;if(o&&n>0){let e,a;for("value"!==this.options.gapUnit&&(o*=this.basePointRange),i&&i>o&&i>=this.basePointRange&&(o=i);n--;)if(a&&!1!==a.visible||(a=s[n+1]),e=s[n],!1!==a.visible&&!1!==e.visible){if(a.x-e.x>o){let i=(e.x+a.x)/2;s.splice(n+1,0,{isNull:!0,x:i}),r.stacking&&this.options.stacking&&((r.stacking.stacks[this.stackKey][i]=new t(r,r.options.stackLabels,!1,i,this.stack)).total=0)}a=e}}return this.getGraphPath(s)}e.compose=function(t,e){if(!t.keepProps.includes("brokenAxis")){t.keepProps.push("brokenAxis"),s(t,"init",d),s(t,"afterInit",i),s(t,"afterSetTickPositions",p),s(t,"afterSetOptions",h);let r=e.prototype;r.drawBreaks=f,r.gappedPath=g,s(e,"afterGeneratePoints",u),s(e,"afterRender",c)}return t};class m{static isInBreak(t,e){let i=t.repeat||1/0,s=t.from,r=t.to-t.from,o=e>=s?(e-s)%i:i-(s-e)%i;return t.inclusive?o<=r:o<r&&0!==o}static lin2Val(t){let e=this.brokenAxis,i=e&&e.breakArray;if(!i||!a(t))return t;let s,r,o=t;for(r=0;r<i.length&&!((s=i[r]).from>=o);r++)(s.to<o||m.isInBreak(s,o))&&(o+=s.len);return o}static val2Lin(t){let e=this.brokenAxis,i=e&&e.breakArray;if(!i||!a(t))return t;let s,r,o=t;for(r=0;r<i.length;r++)if((s=i[r]).to<=t)o-=s.len;else{if(s.from>=t)break;if(m.isInBreak(s,t)){o-=t-s.from;break}}return o}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(t,e){return r(e,(function(e){return e.from<t&&t<e.to}))}isInAnyBreak(t,e){let i,s,r,o=this.axis,n=o.options.breaks||[],h=n.length;if(h&&a(t)){for(;h--;)m.isInBreak(n[h],t)&&(i=!0,s||(s=l(n[h].showPoints,!o.isXAxis)));r=i&&e?i&&!s:i}return r}setBreaks(t,e){let i=this,s=i.axis,r=n(t)&&!!t.length&&!!Object.keys(t[0]).length;s.isDirty=i.hasBreaks!==r,i.hasBreaks=r,t!==s.options.breaks&&(s.options.breaks=s.userOptions.breaks=t),s.forceRedraw=!0,s.series.forEach((function(t){t.isDirty=!0})),r||s.val2lin!==m.val2Lin||(delete s.val2lin,delete s.lin2val),r&&(s.userOptions.ordinal=!1,s.lin2val=m.lin2Val,s.val2lin=m.val2Lin,s.setExtremes=function(t,e,r,o,n){if(i.hasBreaks){let s,r=this.options.breaks||[];for(;s=i.findBreakAt(t,r);)t=s.to;for(;s=i.findBreakAt(e,r);)e=s.from;e<t&&(e=t)}s.constructor.prototype.setExtremes.call(this,t,e,r,o,n)},s.setAxisTranslation=function(){if(s.constructor.prototype.setAxisTranslation.call(this),i.unitLength=void 0,i.hasBreaks){let t,e,r,n,h=s.options.breaks||[],p=[],d=[],u=l(s.pointRangePadding,0),c=0,f=s.userMin||s.min,g=s.userMax||s.max;h.forEach((function(t){e=t.repeat||1/0,a(f)&&a(g)&&(m.isInBreak(t,f)&&(f+=t.to%e-f%e),m.isInBreak(t,g)&&(g-=g%e-t.from%e))})),h.forEach((function(t){if(r=t.from,e=t.repeat||1/0,a(f)&&a(g)){for(;r-e>f;)r-=e;for(;r<f;)r+=e;for(n=r;n<g;n+=e)p.push({value:n,move:"in"}),p.push({value:n+t.to-t.from,move:"out",size:t.breakSize})}})),p.sort((function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value})),t=0,r=f,p.forEach((function(e){1===(t+="in"===e.move?1:-1)&&"in"===e.move&&(r=e.value),0===t&&a(r)&&(d.push({from:r,to:e.value,len:e.value-r-(e.size||0)}),c+=e.value-r-(e.size||0))})),i.breakArray=d,a(f)&&a(g)&&a(s.min)&&(i.unitLength=g-f-c+u,o(s,"afterBreaks"),s.staticScale?s.transA=s.staticScale:i.unitLength&&(s.transA*=(g-s.min+u)/i.unitLength),u&&(s.minPixelPadding=s.transA*(s.minPointOffset||0)),s.min=f,s.max=g)}}),l(e,!0)&&s.chart.redraw()}}e.Additions=m}(i||(i={})),i})),i(e,"masters/modules/broken-axis.src.js",[e["Core/Globals.js"],e["Core/Axis/BrokenAxis.js"]],(function(t,e){return t.BrokenAxis=t.BrokenAxis||e,t.BrokenAxis.compose(t.Axis,t.Series),t})),i(e,"Extensions/DataGrouping/ApproximationRegistry.js",[],(function(){return{}})),i(e,"Extensions/DataGrouping/ApproximationDefaults.js",[e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{arrayMax:i,arrayMin:s,correctFloat:r,extend:o,isNumber:n}=e;function a(t){let e=t.length,i=l(t);return n(i)&&e&&(i=r(i/e)),i}function l(t){let e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e}let h={average:a,averages:function(){let t=[];return[].forEach.call(arguments,(function(e){t.push(a(e))})),void 0===t[0]?void 0:t},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},high:function(t){return t.length?i(t):t.hasNulls?null:void 0},hlc:function(e,i,s){if(e=t.high(e),i=t.low(i),s=t.close(s),n(e)||n(i)||n(s))return[e,i,s]},low:function(t){return t.length?s(t):t.hasNulls?null:void 0},ohlc:function(e,i,s,r){if(e=t.open(e),i=t.high(i),s=t.low(s),r=t.close(r),n(e)||n(i)||n(s)||n(r))return[e,i,s,r]},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},range:function(e,i){return e=t.low(e),i=t.high(i),n(e)||n(i)?[e,i]:null===e&&null===i?null:void 0},sum:l};return o(t,h),h})),i(e,"Extensions/DataGrouping/DataGroupingDefaults.js",[],(function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}})),i(e,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[e["Extensions/DataGrouping/DataGroupingDefaults.js"],e["Core/Utilities.js"]],(function(t,e){let i,{addEvent:s,extend:r,merge:o,pick:n}=e;function a(t){let e=this,i=e.series;i.forEach((function(t){t.groupPixelWidth=void 0})),i.forEach((function(i){i.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth(),i.groupPixelWidth&&(i.hasProcessed=!0),i.applyGrouping(!!t.hasExtremesChanged)}))}function l(){let e,i,s=this.series,r=s.length,o=0,a=!1;for(;r--;)(i=s[r].options.dataGrouping)&&(o=Math.max(o,n(i.groupPixelWidth,t.common.groupPixelWidth)),e=(s[r].processedXData||s[r].data).length,(s[r].groupPixelWidth||e>this.chart.plotSizeX/o||e&&i.forced)&&(a=!0));return a?o:0}function h(){this.series.forEach((function(t){t.hasProcessed=!1}))}function p(t,e){let s;if(e=n(e,!0),t||(t={forced:!1,units:null}),this instanceof i)for(s=this.series.length;s--;)this.series[s].update({dataGrouping:t},!1);else this.chart.options.series.forEach((function(e){e.dataGrouping="boolean"==typeof t?t:o(t,e.dataGrouping)}));this.ordinal&&(this.ordinal.slope=void 0),e&&this.chart.redraw()}return{compose:function(t){i=t;let e=t.prototype;e.applyGrouping||(s(t,"afterSetScale",h),s(t,"postProcessData",a),r(e,{applyGrouping:a,getGroupPixelWidth:l,setDataGrouping:p}))}}})),i(e,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Extensions/DataGrouping/DataGroupingDefaults.js"],e["Core/Axis/DateTimeAxis.js"],e["Core/Defaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o){let{series:{prototype:n}}=r,{addEvent:a,defined:l,error:h,extend:p,isNumber:d,merge:u,pick:c}=o,f=n.generatePoints;function g(t){var s;let r,o,a,p,u=this.chart,f=this.options.dataGrouping,g=!1!==this.allowDG&&f&&c(f.enabled,u.options.isStock),m=this.reserveSpace(),x=this.currentDataGrouping,b=!1;g&&!this.requireSorting&&(this.requireSorting=b=!0);let v=0==!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!t)||!g;if(b&&(this.requireSorting=!1),v)return;this.destroyGroupedData();let y=f.groupAll?this.xData:this.processedXData,w=f.groupAll?this.yData:this.processedYData,S=u.plotSizeX,M=this.xAxis,A=M.options.ordinal,k=this.groupPixelWidth;if(k&&y&&y.length&&S){o=!0,this.isDirty=!0,this.points=null;let t=M.getExtremes(),c=t.min,g=t.max,x=k*(g-c)/S*(A&&M.ordinal&&M.ordinal.getGroupIntervalFactor(c,g,this)||1),b=M.getTimeTicks(i.Additions.prototype.normalizeTimeTickInterval(x,f.units||e.units),Math.min(c,y[0]),Math.max(g,y[y.length-1]),M.options.startOfWeek,y,this.closestPointRange),v=n.groupData.apply(this,[y,w,b,f.approximation]),C=v.groupedXData,P=v.groupedYData,L=0;for(f&&f.smoothed&&C.length&&(f.firstAnchor="firstPoint",f.anchor="middle",f.lastAnchor="lastPoint",h(32,!1,u,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),r=1;r<b.length;r++)b.info.segmentStarts&&-1!==b.info.segmentStarts.indexOf(r)||(L=Math.max(b[r]-b[r-1],L));(a=b.info).gapSize=L,this.closestPointRange=b.info.totalRange,this.groupMap=v.groupMap,this.currentDataGrouping=a,function(t,e,i){let s=t.options.dataGrouping,r=t.currentDataGrouping&&t.currentDataGrouping.gapSize;if(!(s&&t.xData&&r&&t.groupMap))return;let o=e.length-1,n=s.anchor,a=s.firstAnchor,l=s.lastAnchor,h=e.length-1,p=0;if(a&&t.xData[0]>=e[0]){let i;p++;let s=t.groupMap[0].start,o=t.groupMap[0].length;d(s)&&d(o)&&(i=s+(o-1)),e[0]={start:e[0],middle:e[0]+.5*r,end:e[0]+r,firstPoint:t.xData[0],lastPoint:i&&t.xData[i]}[a]}if(o>0&&l&&r&&e[o]>=i-r){h--;let i=t.groupMap[t.groupMap.length-1].start;e[o]={start:e[o],middle:e[o]+.5*r,end:e[o]+r,firstPoint:i&&t.xData[i],lastPoint:t.xData[t.xData.length-1]}[l]}if(n&&"start"!==n){let t=r*{middle:.5,end:1}[n];for(;h>=p;)e[h]+=t,h--}}(this,C,g),m&&(l((s=C)[0])&&d(M.min)&&d(M.dataMin)&&s[0]<M.min&&((!l(M.options.min)&&M.min<=M.dataMin||M.min===M.dataMin)&&(M.min=Math.min(s[0],M.min)),M.dataMin=Math.min(s[0],M.dataMin)),l(s[s.length-1])&&d(M.max)&&d(M.dataMax)&&s[s.length-1]>M.max&&((!l(M.options.max)&&d(M.dataMax)&&M.max>=M.dataMax||M.max===M.dataMax)&&(M.max=Math.max(s[s.length-1],M.max)),M.dataMax=Math.max(s[s.length-1],M.dataMax))),f.groupAll&&(this.allGroupedData=P,C=(p=this.cropData(C,P,M.min,M.max)).xData,P=p.yData,this.cropStart=p.start),this.processedXData=C,this.processedYData=P}else this.groupMap=null,this.currentDataGrouping=void 0;this.hasGroupedData=o,this.preventGraphAnimation=(x&&x.totalRange)!==(a&&a.totalRange)}function m(){this.groupedData&&(this.groupedData.forEach((function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)}),this),this.groupedData.length=0,delete this.allGroupedData)}function x(){f.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function b(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function v(e,i,s,r){let o,n,a,h=this,p=h.data,c=h.options&&h.options.data,f=[],g=[],m=[],x=e.length,b=!!i,v=[],y=h.pointArrayMap,w=y&&y.length,S=["x"].concat(y||["y"]),M=this.options.dataGrouping&&this.options.dataGrouping.groupAll,A=0,k=0,C="function"==typeof r?r:r&&t[r]?t[r]:t[h.getDGApproximation&&h.getDGApproximation()||"average"];if(w){let t=y.length;for(;t--;)v.push([])}else v.push([]);let P=w||1;for(let t=0;t<=x;t++)if(!(e[t]<s[0])){for(;void 0!==s[A+1]&&e[t]>=s[A+1]||t===x;){o=s[A],h.dataGroupInfo={start:M?k:h.cropStart+k,length:v[0].length,groupStart:o},a=C.apply(h,v),h.pointClass&&!l(h.dataGroupInfo.options)&&(h.dataGroupInfo.options=u(h.pointClass.prototype.optionsToObject.call({series:h},h.options.data[h.cropStart+k])),S.forEach((function(t){delete h.dataGroupInfo.options[t]}))),void 0!==a&&(f.push(o),g.push(a),m.push(h.dataGroupInfo)),k=t;for(let t=0;t<P;t++)v[t].length=0,v[t].hasNulls=!1;if(A+=1,t===x)break}if(t===x)break;if(y){let e,i=h.options.dataGrouping&&h.options.dataGrouping.groupAll?t:h.cropStart+t,s=p&&p[i]||h.pointClass.prototype.applyOptions.apply({series:h},[c[i]]);for(let t=0;t<w;t++)d(e=s[y[t]])?v[t].push(e):null===e&&(v[t].hasNulls=!0)}else d(n=b?i[t]:null)?v[0].push(n):null===n&&(v[0].hasNulls=!0)}return{groupedXData:f,groupedYData:g,groupMap:m}}function y(t){let i=t.options,r=this.type,o=this.chart.options.plotOptions,n=this.useCommonDataGrouping&&e.common,a=e.seriesSpecific,l=s.defaultOptions.plotOptions[r].dataGrouping;if(o&&(a[r]||n)){let t=this.chart.rangeSelector;l||(l=u(e.common,a[r])),i.dataGrouping=u(n,l,o.series&&o.series.dataGrouping,o[r].dataGrouping,this.userOptions.dataGrouping,!i.isInternal&&t&&d(t.selected)&&t.buttonOptions[t.selected].dataGrouping)}}return{compose:function(t){let e=t.prototype;e.applyGrouping||(a(t.prototype.pointClass,"update",(function(){if(this.dataGroup)return h(24,!1,this.series.chart),!1})),a(t,"afterSetOptions",y),a(t,"destroy",m),p(e,{applyGrouping:g,destroyGroupedData:m,generatePoints:x,getDGApproximation:b,groupData:v}))},groupData:v}})),i(e,"Extensions/DataGrouping/DataGrouping.js",[e["Extensions/DataGrouping/DataGroupingAxisComposition.js"],e["Extensions/DataGrouping/DataGroupingDefaults.js"],e["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o){let{format:n}=s,{composed:a}=r,{addEvent:l,extend:h,isNumber:p,pick:d,pushUnique:u}=o;function c(t){let i,s,r,o,a,l=this.chart,u=l.time,c=t.labelConfig,f=c.series,g=c.point,m=f.options,x=f.tooltipOptions,b=m.dataGrouping,v=f.xAxis,y=x.xDateFormat,w=x[t.isFooter?"footerFormat":"headerFormat"];if(v&&"datetime"===v.options.type&&b&&p(c.key)){s=f.currentDataGrouping,r=b.dateTimeLabelFormats||e.common.dateTimeLabelFormats,s?(o=r[s.unitName],1===s.count?y=o[0]:(y=o[1],i=o[2])):!y&&r&&v.dateTime&&(y=v.dateTime.getXDateFormat(c.x,x.dateTimeLabelFormats));let p=d(f.groupMap?.[g.index].groupStart,c.key),m=p+s?.totalRange-1;a=u.dateFormat(y,p),i&&(a+=u.dateFormat(i,m)),f.chart.styledMode&&(w=this.styledModeFormat(w)),t.text=n(w,{point:h(c.point,{key:a}),series:f},l),t.preventDefault()}}return{compose:function(e,s,r){t.compose(e),i.compose(s),r&&u(a,"DataGrouping")&&l(r,"headerFormatter",c)},groupData:i.groupData}})),i(e,"masters/modules/datagrouping.src.js",[e["Core/Globals.js"],e["Extensions/DataGrouping/ApproximationDefaults.js"],e["Extensions/DataGrouping/ApproximationRegistry.js"],e["Extensions/DataGrouping/DataGrouping.js"]],(function(t,e,i,s){return t.dataGrouping=t.dataGrouping||{},t.dataGrouping.approximationDefaults=t.dataGrouping.approximationDefaults||e,t.dataGrouping.approximations=t.dataGrouping.approximations||i,s.compose(t.Axis,t.Series,t.Tooltip),t})),i(e,"Extensions/Annotations/NavigationBindingsUtilities.js",[e["Core/Utilities.js"]],(function(t){let{defined:e,isNumber:i,pick:s}=t,r={backgroundColor:"string",borderColor:"string",borderRadius:"string",color:"string",fill:"string",fontSize:"string",labels:"string",name:"string",stroke:"string",title:"string"};return{annotationsFieldsTypes:r,getAssignedAxis:function(t){return t.filter((t=>{let e=t.axis.getExtremes(),r=e.min,o=e.max,n=s(t.axis.minPointOffset,0);return i(r)&&i(o)&&t.value>=r-n&&t.value<=o+n&&!t.axis.options.isInternal}))[0]},getFieldType:function(t,i){let s=r[t],o=typeof i;return e(s)&&(o=s),{string:"text",number:"number",boolean:"checkbox"}[o]}}})),i(e,"Extensions/MouseWheelZoom/MouseWheelZoom.js",[e["Core/Utilities.js"],e["Extensions/Annotations/NavigationBindingsUtilities.js"]],(function(t,e){let i,{addEvent:s,isObject:r,pick:o,defined:n,merge:a}=t,{getAssignedAxis:l}=e,h=[],p={enabled:!0,sensitivity:1.1},d=function(t,e,s,r,a,l,h){let p=o(h.type,t.zooming.type,""),d=[];"x"===p?d=s:"y"===p?d=r:"xy"===p&&(d=t.axes);let u=t.transform({axes:d,to:{x:a-5,y:l-5,width:10,height:10},from:{x:a-5*e,y:l-5*e,width:10*e,height:10*e},trigger:"mousewheel"});return u&&(n(i)&&clearTimeout(i),i=setTimeout((()=>{t.pointer?.drop()}),400)),u};function u(){let t=(t=>(r(t)||(t={enabled:t??!0}),a(p,t)))(this.zooming.mouseWheel);t.enabled&&s(this.container,"wheel",(e=>{e=this.pointer?.normalize(e)||e;let{pointer:i}=this,s=i&&!i.inClass(e.target,"highcharts-no-mousewheel");if(this.isInsidePlot(e.chartX-this.plotLeft,e.chartY-this.plotTop)&&s){let s=t.sensitivity||1.1,r=e.detail||(e.deltaY||0)/120,o=l(i.getCoordinates(e).xAxis),n=l(i.getCoordinates(e).yAxis);d(this,Math.pow(s,r),o?[o.axis]:this.xAxis,n?[n.axis]:this.yAxis,e.chartX,e.chartY,t)&&e.preventDefault?.()}}))}return{compose:function(t){-1===h.indexOf(t)&&(h.push(t),s(t,"afterGetContainer",u))}}})),i(e,"masters/modules/mouse-wheel-zoom.src.js",[e["Core/Globals.js"],e["Extensions/MouseWheelZoom/MouseWheelZoom.js"]],(function(t,e){return t.MouseWheelZoom=t.MouseWheelZoom||e,t.MouseWheelZoom.compose(t.Chart),t})),i(e,"masters/modules/stock.src.js",[e["Core/Globals.js"],e["Series/DataModifyComposition.js"],e["Stock/Navigator/Navigator.js"],e["Core/Axis/OrdinalAxis.js"],e["Stock/RangeSelector/RangeSelector.js"],e["Stock/Scrollbar/Scrollbar.js"],e["Core/Chart/StockChart.js"],e["Series/OHLC/OHLCSeries.js"],e["Series/Flags/FlagsSeries.js"]],(function(t,e,i,s,r,o,n,a,l){return t.Navigator=t.Navigator||i,t.OrdinalAxis=t.OrdinalAxis||s,t.RangeSelector=t.RangeSelector||r,t.Scrollbar=t.Scrollbar||o,t.stockChart=t.stockChart||n.stockChart,t.StockChart=t.StockChart||t.stockChart,t.extend(t.StockChart,n),e.compose(t.Series,t.Axis,t.Point),l.compose(t.Renderer),a.compose(t.Series),t.Navigator.compose(t.Chart,t.Axis,t.Series),t.OrdinalAxis.compose(t.Axis,t.Series,t.Chart),t.RangeSelector.compose(t.Axis,t.Chart),t.Scrollbar.compose(t.Axis),t.StockChart.compose(t.Chart,t.Axis,t.Series,t.SVGRenderer),t}))},t.exports?(o.default=o,t.exports=o):(s=[i(4783)],void 0===(r=function(t){return o(t),o.Highcharts=t,o}.apply(e,s))||(t.exports=r))},1374:(t,e,i)=>{var s=i(8793);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,i(534).A)("52733c2d",s,!0,{})},1991:(t,e,i)=>{var s=i(5682);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals),(0,i(534).A)("37afdded",s,!0,{})},2607:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>T});var s=i(4783),r=i(9264),o=i.n(r),n=i(5357),a=i.n(n),l=i(664),h=i.n(l),p=i(8364),d=i.n(p),u=i(4802),c=i.n(u);const f={name:"CompassRose",props:{lang:{type:String,default:"en"},width:{type:Number,default:150},height:{type:Number,default:150},maxVelocity:{type:Number,default:6},maxComp:{type:Number,default:6},ns:{type:Number,default:3},ew:{type:Number,default:3},radar:{type:Object,default:null},dateStr:{type:String,default:null},dateNs:{type:Number,default:null},dateEw:{type:Number,default:null},color:{type:String,default:"#f00"},color2:{type:String,default:"#0f0"}},data:()=>({size:{width:500,height:250},center:{x:125,y:125},radius:100}),computed:{point(){if(!this.velocityRef)return null;var t=1;return this.radar&&(t=-1),{x:-1*t*this.ew*this.radius/this.velocityRef+this.center.x,y:t*this.ns*this.radius/this.velocityRef+this.center.y}},ptDate(){if(this.dateEw&&this.dateNs){var t=1;return this.radar&&(t=-1),{x:-1*t*this.dateEw*this.radius/this.magnRef+this.center.x,y:t*this.dateNs*this.radius/this.magnRef+this.center.y}}return null},teta(){return this.radar?360-(this.radar.az-90):null},transform(){return"rotate("+this.teta+", "+this.center.x+","+this.center.y+") "},magnRef(){var t=Math.floor(Math.log10(this.maxComp));return Math.round(this.maxComp/Math.pow(10,t))*Math.pow(10,t)},velocityRef(){if(!this.maxVelocity)return null;var t=Math.floor(Math.log10(this.maxVelocity)),e=Math.round(this.maxVelocity/Math.pow(10,t))*Math.pow(10,t);return t<0?e.toFixed(-t):e}},created(){this.center.x=this.size.width/4,this.center.y=this.size.height/2,this.$i18n.locale=this.lang},methods:{textTransform(t){if(this.teta>90&&this.teta<270)switch(t){case"Az":return"rotate(180,"+this.center.x+","+(this.center.y-this.radius-10)+")";case"Rg":return"rotate(180,"+(this.center.x+this.radius+15)+","+this.center.y+")"}return""}}};i(1991);var g=i(4486),m=i(582);const x=i.n(m)();var b=(0,g.A)(f,(function(){var t=this,e=t._self._c;return e("div",[e("svg",{staticClass:"compass-rose",style:{width:2*t.width+"px",height:t.height+20+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:t.size.width,height:t.size.height,viewBox:"0 0 "+t.size.width+" "+t.size.height}},[e("defs",[e("marker",{attrs:{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto"}},[e("polygon",{attrs:{points:"2.5 3.5, 0 0, 10 3.5, 0 7",fill:t.color}})]),t._v(" "),e("marker",{attrs:{id:"arrowhead2",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto"}},[e("polygon",{attrs:{points:"2.5 3.5, 0 0, 10 3.5, 0 7",fill:t.color2}})]),t._v(" "),e("marker",{attrs:{id:"arrowAz",markerWidth:"10",markerHeight:"7",refX:"10",refY:"3.5",orient:"auto"}},[e("polygon",{attrs:{points:"2.5 3.5, 0 0, 10 3.5, 0 7",fill:"#000"}})]),t._v(" "),e("marker",{attrs:{id:"hyphen",viewBox:"0 0 0 10",refX:"0",refY:"5",markerWidth:"6",markerHeight:"6"}},[e("line",{attrs:{x1:"0",y1:"0",x2:"0",y2:"10",stroke:t.color}})]),t._v(" "),e("filter",{attrs:{x:"-0.1",y:"-0.1",width:"1.2",height:"1.2",id:"solid"}},[e("feFlood",{attrs:{"flood-color":"#fff"}})],1)]),t._v(" "),e("g",[e("circle",{attrs:{cx:t.center.x,cy:t.center.y,r:t.radius-2,stroke:"#000","stroke-width":"2",fill:"transparent"}}),t._v(" "),e("line",{attrs:{x1:t.center.x,y1:t.center.y-t.radius,x2:t.center.x,y2:t.center.y+t.radius,stroke:"#000"}}),t._v(" "),e("line",{attrs:{x1:t.center.x-t.radius,y1:t.center.y,x2:t.center.x+t.radius,y2:t.center.y,stroke:"#000"}}),t._v(" "),e("text",{staticClass:"card",attrs:{x:t.center.x,y:t.center.y-t.radius-5,"text-anchor":"middle"}},[t._v("N")]),t._v(" "),e("text",{staticClass:"card",attrs:{x:t.center.x,y:t.center.y+t.radius+18,"text-anchor":"middle"}},[t._v("S")]),t._v(" "),e("text",{staticClass:"card",attrs:{x:t.center.x-t.radius-3,y:t.center.y+6,"text-anchor":"end"}},[t._v(t._s(t.$t("symbol_west")))]),t._v(" "),e("text",{staticClass:"card",attrs:{x:t.center.x+t.radius+3,y:t.center.y+6,"text-anchor":"start"}},[t._v("E")]),t._v(" "),e("text",{attrs:{x:t.center.x,y:t.center.y+t.radius+50,"text-anchor":"middle"}},[t._v(t._s(t.dateStr))])]),t._v(" "),t.radar?[e("g",{attrs:{transform:t.transform}},[e("line",{attrs:{x1:t.center.x,y1:t.center.y,x2:t.center.x,y2:t.center.y-t.radius,stroke:"#000","stroke-width":"2","marker-end":"url(#arrowAz)"}}),t._v(" "),e("line",{attrs:{x1:t.center.x,y1:t.center.y,x2:t.center.x+t.radius,y2:t.center.y,stroke:"#000","stroke-width":"2","marker-end":"url(#arrowAz)"}}),t._v(" "),e("text",{staticClass:"card",attrs:{filter:"url(#solid)",x:t.center.x,y:t.center.y-t.radius-10,"dominant-baseline":"central","text-anchor":"middle"}},[t._v("long")]),t._v(" "),e("text",{staticClass:"card",attrs:{x:t.center.x,y:t.center.y-t.radius-10,"dominant-baseline":"central","text-anchor":"middle",transform:t.textTransform("Az")}},[t._v("Az")]),t._v(" "),e("text",{staticClass:"card",attrs:{filter:"url(#solid)",x:t.center.x+t.radius+15,y:t.center.y,"text-anchor":"middle","dominant-baseline":"central"}},[t._v("Rg")]),t._v(" "),e("text",{staticClass:"card",attrs:{x:t.center.x+t.radius+15,y:t.center.y,"text-anchor":"middle","dominant-baseline":"central",transform:t.textTransform("Rg")}},[t._v("Rg")])])]:t._e(),t._v(" "),e("g",{attrs:{transform:t.transform}},[t.point?e("line",{attrs:{x1:t.center.x,y1:t.center.y,x2:t.point.x,y2:t.point.y,stroke:t.color,"stroke-width":"2","marker-end":"url(#arrowhead)"}}):t._e(),t._v(" "),t.ptDate?e("line",{attrs:{x1:t.center.x,y1:t.center.y,x2:t.ptDate.x,y2:t.ptDate.y,stroke:t.color2,"stroke-width":"2","marker-end":"url(#arrowhead2)"}}):t._e()]),t._v(" "),e("g",[e("text",{staticClass:"title",attrs:{x:.5*t.size.width,y:.25*t.size.height-30,"text-anchor":"start"}},[t._v("\n   "+t._s(t.$t("units"))+"\n   ")])]),t._v(" "),e("g",{attrs:{transform:"translate(0 50)"}},[e("text",{attrs:{fill:t.color,x:.65*t.size.width+t.radius/2,y:.25*t.size.height-40,color:t.color,"text-anchor":"middle"}},[t._v("\n   "+t._s(t.$t("mean_velocity"))+" \n   ")]),t._v(" "),e("text",{attrs:{fill:t.color,x:.65*t.size.width+t.radius/2,y:.25*t.size.height-10,"text-anchor":"middle"}},[t._v("\n    "+t._s(t.velocityRef)+" "+t._s(t.$t("meter_day"))+"\n   ")]),t._v(" "),e("line",{attrs:{x1:.65*t.size.width,x2:.65*t.size.width+t.radius,y1:.25*t.size.height,y2:.25*t.size.height,stroke:t.color,"stroke-width":"2","marker-end":"url(#arrowhead)"}})]),t._v(" "),e("g",{attrs:{transform:"translate(0 70)"}},[e("text",{attrs:{fill:t.color2,x:.65*t.size.width+t.radius/2,y:.55*t.size.height-40,color:t.color,"text-anchor":"middle"}},[t._v("\n    "+t._s(t.$t("displacement"))+" \n   ")]),t._v(" "),e("text",{attrs:{fill:t.color2,x:.65*t.size.width+t.radius/2,y:.55*t.size.height-10,"text-anchor":"middle"}},[t._v("\n    "+t._s(t.magnRef)+" m\n   ")]),t._v(" "),e("line",{attrs:{x1:.65*t.size.width,x2:.65*t.size.width+t.radius,y1:.55*t.size.height,y2:.55*t.size.height,stroke:t.color2,"stroke-width":"2","marker-end":"url(#arrowhead2)"}})])],2)])}),[],!1,null,null,null);"function"==typeof x&&x(b);const v=b.exports;var y=i(2956),w=i.n(y),S=i(5093),M=i.n(S);function A(t,e){let i,s,r,o,n,a,l,h,p,d,u;return i=w().corrcoeff(e,t),s=w().stdev(t),r=w().stdev(e),l=w()(t).mean(),a=w()(e).mean(),o=i*(s/r),n=l-a*o,d=w().min(e),u=w().max(e),h=n+o*d,p=n+o*u,{line:[[d,h],[u,p]],r:i}}"object"==typeof s&&(o()(s),a()(s),h()(s),d()(s),c()(s)),s.Pointer.prototype.reset=function(){};const k={name:"tioGraph",components:{CompassRose:v},props:{img:{type:Object,default:null},nsValues:{type:Array,default:()=>[]},ewValues:{type:Array,default:()=>[]},height:{type:Number,default:180},latlng:{type:Object,default:()=>({lat:null,lng:null})},lang:{type:String,default:"en"}},data:()=>({quality:{},graphs:{},position:{lat:null,lng:null},point:{ns:0,ew:0,magn:null},pointDate:{ns:null,ew:null,magn:null,date:null},hasValues:!1,windowHeight:700,windowResizeListener:null,compassColors:{mean:"#ff4500",date:"#b600b1"},magnValues:[],colors:{ns:"blue",ew:"#f00",magn:"#006400"},mousemoveListener:null,mouseupListener:null,selected:!1,delta:{x:0,y:0},pos:{x:0,y:0},maxComp:null,maxVelocity:null}),watch:{nsValues(t){this.pointDateInit(),this.draw("ns",t)},ewValues(t){this.pointDateInit(),this.draw("ew",t)},magnValues(t){this.pointDateInit(),this.draw("magn",t)},latlng(t){t.lat&&t.lng&&(this.position=t)}},created(){this.position=this.latlng,this.$i18n.locale=this.lang,M().locale(this.lang),this.windowResizeListener=this.initSize.bind(this),window.addEventListener("resize",this.windowResizeListener),this.mousemoveListener=this.move.bind(this),document.addEventListener("mousemove",this.mousemoveListener),this.mouseupListener=this.moveEnd.bind(this),document.addEventListener("mouseup",this.mouseupListener)},mounted(){this.initSize()},destroyed(){window.removeEventListener("resize",this.windowResizeListener),this.windowResizeListener=null,document.removeEventListener("mousemove",this.mousemoveListener),this.mousemoveListener=null,document.removeEventListener("mouseup",this.mouseupListener),this.mouseupListener=null},methods:{initSize(){this.windowHeight=Math.min(.95*window.innerHeight,700),this.initPosition()},initPosition(){var t=(window.innerWidth-700)/2,e=(window.innerHeight-this.windowHeight)/2;this.$el.style.left=t+"px",this.$el.style.top=e+"px",this.pos.x=t,this.pos.y=this.$el.offsetTop},movestart(t){this.selected=!0,this.delta={x:this.pos.x-this.$el.offsetLeft,y:this.pos.y-this.$el.offsetTop}},move(t){this.pos.x=t.clientX,this.pos.y=t.clientY,this.selected&&(this.$el.style.left=this.pos.x-this.delta.x+"px",this.$el.style.top=this.pos.y-this.delta.y+"px")},moveEnd(){this.selected=!1},pointDateInit(){this.pointDate={ns:null,ew:null,magn:null,date:null}},highlight(t,e){var i,s;if(!this.graphs[e])return!1;if(i=this.graphs[e].pointer.normalize(t),s=this.graphs[e].series[0].searchPoint(i,!0))for(var r in this.pointDate.date=M().unix(s.x/1e3).format("ll"),this.pointDate[e]=s.open||s.y,this.graphs){var o;if((o=this.graphs[r])&&void 0!==o){var n=o.series[0].points.find((t=>t.x===s.x));void 0!==n&&(this.pointDate[r]=n.open||n.y),o.xAxis[0].removePlotLine("highlight"),o.xAxis[0].addPlotLine({color:"#999999",value:s.x,width:1,id:"highlight"})}}},addSpinner(t){var e=document.createElement("div");e.setAttribute("class","my-spinner");var i=document.createElement("span");i.setAttribute("class","fa fa-spinner fa-spin fa-2x fa-fw"),e.appendChild(i),this.$el.querySelector("#graph_"+t).appendChild(e)},title(t){if(!this.img.radar)return t.toUpperCase();switch(t){case"ns":return"Az";case"ew":return"Rg";default:return"Magn"}},drawZarr(t,e){var i=null;"ns"===t&&this.ewValues&&this.ewValues.length>1&&(i=this.ewValues),"ew"===t&&this.nsValues&&this.nsValues.length>1&&(i=this.nsValues),this.graphs[t]&&(this.graphs[t].destroy(),this.graphs[t]=null,this.addSpinner(t));var r=this,o=[],n=null,a=null,l=[],h=[],p=[];if(this.img.dates.forEach((function(t,s){i&&(null!==e[s]?r.magnValues[s]=Math.round(1e3*Math.sqrt(e[s]*e[s]+i[s]*i[s]))/1e3:r.magnValues[s]=null),isNaN(e[s])||null===e[s]||e[s]==1/0||(o.push([t,e[s]]),p.push(t),h.push(e[s]),(null===n||n>e[s])&&(n=e[s]),(null===a||a<e[s])&&(a=e[s]),l.push({color:"#ccd6eb",value:t,width:1,id:s}))})),0!==o.length){var d=A(h,p);"magn"===t&&(this.maxComp=Math.max(d.line[0][1],d.line[1][1]));var u=1e3*(o[o.length-1][1]-o[0][1])*3600*24/(o[o.length-1][0]-o[0][0]);this.point[t]=u;var c=this.colors[t];this.$shadeColor(c,.4),this.graphs[t]=s.chart("graph_"+t,{chart:{zoomType:"x"},title:"Test",width:"680px",height:r.height+"px",credits:{enabled:!1},legend:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:!0,formatter(e){if(!this.point)return!1;var i=[];for(var s in r.colors){var o=r.graphs[s];if(o&&void 0!==o){var n=o.series[0].points.find((t=>t.x===this.point.x));void 0!==n&&(r.pointDate[s]=n.open||n.y,i.push('<div><span style="color:'+n.color+';">&#9632;</span> '+r.title(s)+": "+Math.round(1e3*n.y)/1e3+"</div>"))}s!==t&&o&&o.tooltip.hide()}return r.pointDate.date=M().unix(this.point.x/1e3).format("ll"),"<b>"+M().unix(this.point.x/1e3).format("ll")+"</b><br />"+i.join("<br />")},shared:!1},plotOptions:{},xAxis:{type:"datetime",lineColor:"#666",events:{afterSetExtremes(e){var i=e.min,s=e.max;for(var o in r.graphs)o!==t&&r.graphs[o]&&r.graphs[o].xAxis[0].setExtremes(i,s,!0,!1)}},gridLineWidth:0,plotLines:l},yAxis:{title:{text:r.title(t)},min:n,max:a,plotLines:[{value:0,color:"lightgrey",width:2}]},series:[{name:t,color:c,type:"line",id:t,zIndex:10,data:o,lineWidth:1},{name:"regression",color:c,data:d.line,lineWidth:1,enableMouseTracking:!1}]}),i&&this.draw("magn",this.magnValues)}},draw(t,e){if(this.img.radar)this.drawZarr(t,e);else{var i=null;"ns"===t&&this.ewValues.length>5&&(i=this.ewValues),"ew"===t&&this.nsValues.length>5&&(i=this.nsValues),this.graphs[t]&&(this.graphs[t].destroy(),this.graphs[t]=null,this.addSpinner(t)),this.position.lat=e[0],this.position.lng=e[1],this.position.height=e[2],i&&(this.magnValues[0]=e[0],this.magnValues[1]=e[1],this.magnValues[2]=e[2]);var r=this.img.keys.findIndex((t=>"velocity"===t));this.point[t]=e[r],i&&(this.magnValues[r]=Math.round(1e4*Math.sqrt(e[r]*e[r]+i[r]*i[r]))/1e4),r=this.img.keys.findIndex((t=>"quality"===t));var o=Math.round(100*e[r])/100;if(i&&(this.magnValues[r]=Math.sqrt(e[r]*e[r]+i[r]*i[r])),this.quality[t]=o,!e[r]||0===e[r])return console.log("Aucune valeur"),void(this.hasValues=!1);this.hasValues=!0;var n=this.img.keys.length;e=e.slice(this.img.keys.length);var a=[],l=null,h=null,p=[],d=[],u=[],c=this;if("magn"!==t&&(this.maxComp=null),this.img.dates.forEach((function(t,s){i&&(null!==e[s]?(c.magnValues[n+s]=Math.round(1e3*Math.sqrt(e[s]*e[s]+i[n+s]*i[n+s]))/1e3,c.maxComp<c.magnValues[n+s]&&(c.maxComp=c.magnValues[n+s])):c.magnValues[n+s]=null),isNaN(e[s])||null===e[s]||(a.push([t,e[s],e[s]+o,e[s]-o,e[s]]),u.push(t),d.push(e[s]),(null===l||l>e[s])&&(l=e[s]),(null===h||h<e[s])&&(h=e[s]),p.push({color:"#ccd6eb",value:t,width:1,id:s}))})),0!==a.length){var f=A(d,u);o=Math.round(100*o)/100;var g=this.colors[t];this.$shadeColor(g,.4),this.graphs[t]=s.chart("graph_"+t,{chart:{zoomType:"x"},title:"Test",width:"680px",height:c.height+"px",credits:{enabled:!1},legend:{enabled:!1},exporting:{enabled:!1},tooltip:{enabled:!0,formatter(e){if(!this.point)return!1;var i=[];for(var s in c.colors){var r=c.graphs[s];if(r&&void 0!==r){var o=r.series[0].points.find((t=>t.x===this.point.x));void 0!==o&&(c.pointDate[s]=o.open,i.push('<div><span style="color:'+o.color+';">&#9632;</span> '+s.toUpperCase()+": "+o.open+" &pm; "+c.quality[s]+"</div>"))}s!==t&&r&&r.tooltip.hide()}return c.pointDate.date=M().unix(this.point.x/1e3).format("ll"),"<b>"+M().unix(this.point.x/1e3).format("ll")+"</b><br />"+i.join("<br />")},shared:!1},plotOptions:{},xAxis:{type:"datetime",lineColor:"#666",events:{afterSetExtremes(e){var i=e.min,s=e.max;for(var r in c.graphs)r!==t&&c.graphs[r]&&c.graphs[r].xAxis[0].setExtremes(i,s,!0,!1)}},gridLineWidth:0,plotLines:p},yAxis:{title:{text:t.toUpperCase()},min:l,max:h,plotLines:[{value:0,color:"lightgrey",width:2}]},series:[{name:t,color:g,type:"ohlc",id:t,zIndex:10,data:a,lineWidth:1},{name:"regression",color:g,data:f.line,lineWidth:1,enableMouseTracking:!1}]}),i&&this.draw("magn",this.magnValues)}}}}},C=k;i(1374);var P=i(359);const L=i.n(P)();var D=(0,g.A)(C,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasValues,expression:"hasValues"}],staticClass:"graph-container",style:{height:t.windowHeight+"px"}},[e("div",{staticClass:"graph-header",staticStyle:{height:"30px"}},[e("div",{staticClass:"fa fa-close",on:{click:function(e){return t.$emit("close")}}}),t._v(" "),e("h4",{on:{mousedown:t.movestart}},[t._v(t._s(t.$t("plot_point").toUpperCase()))])]),t._v(" "),e("div",{staticClass:"graph-infos",staticStyle:{overflow:"auto"},style:{height:t.windowHeight-30+"px"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-between",cursor:"move"},on:{mousedown:t.movestart}},[t.position.lat?e("div",{staticClass:"tio-element"},[e("label",[t._v("POSITION")]),t._v(" "),e("div",[e("label",[t._v("Lat:")]),t._v(" "+t._s(Math.round(1e3*t.position.lat)/1e3)+"°")]),t._v(" "),e("div",[e("label",[t._v("Lng:")]),t._v(" "+t._s(Math.round(1e3*t.position.lng)/1e3)+"°")]),t._v(" "),t.position.height?e("div",[e("label",[t._v(t._s(t.$t("height"))+":")]),t._v(" "+t._s(t.position.height.toLocaleString())+" m")]):t._e()]):t._e(),t._v(" "),t.point.ns&&t.point.ew&&t.point.magn?e("div",{staticClass:"tio-element"},[e("label",[t._v(t._s(t.$t("mean_velocity").toUpperCase()))]),t._v(" "),e("div",[e("label",[t._v("NS:")]),t._v(" "+t._s(t.point.ns.toLocaleString()))]),t._v(" "),e("div",[e("label",[t._v("EW:")]),t._v(" "+t._s(t.point.ew.toLocaleString()))]),t._v(" "),e("div",[e("label",[t._v("MAGN:")]),t._v(" "+t._s(t.point.magn.toLocaleString()))])]):t._e(),t._v(" "),t.quality.ns&&t.quality.ew?e("div",{staticClass:"tio-element"},[e("label",[t._v(t._s(t.$t("QUALITY")))]),t._v(" "),e("div",[e("label",[t._v("NS:")]),t._v(" "+t._s(t.quality.ns))]),t._v(" "),e("div",[e("label",[t._v("EW:")]),t._v(" "+t._s(t.quality.ew))]),t._v(" "),e("div",[e("label",[t._v("MAGN:")]),t._v(" "+t._s(t.quality.magn))])]):t._e(),t._v(" "),e("div",[e("compass-rose",{attrs:{lang:t.lang,width:100,height:100,radar:t.img.radar,"max-velocity":t.point.magn,"max-comp":t.maxComp,ns:t.point.ns,ew:t.point.ew,color:t.compassColors.mean,color2:t.compassColors.date,"date-ns":t.pointDate.ns,"date-ew":t.pointDate.ew,"date-str":t.pointDate.date}})],1)]),t._v(" "),e("div",{style:{height:t.height+"px"},attrs:{id:"graph_ns"},on:{mousemove:function(e){return t.highlight(e,"ns")}}},[t._m(0)]),t._v(" "),e("div",{style:{height:t.height+"px"},attrs:{id:"graph_ew"},on:{mousemove:function(e){return t.highlight(e,"ew")}}},[t._m(1)]),t._v(" "),e("div",{style:{height:t.height+"px"},attrs:{id:"graph_magn"},on:{mousemove:function(e){return t.highlight(e,"magn")}}},[t._m(2)])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"my-spinner"},[t("span",{staticClass:"fa fa-spinner fa-spin fa-2x fa-fw"})])},function(){var t=this._self._c;return t("div",{staticClass:"my-spinner"},[t("span",{staticClass:"fa fa-spinner fa-spin fa-2x fa-fw"})])},function(){var t=this._self._c;return t("div",{staticClass:"my-spinner"},[t("span",{staticClass:"fa fa-spinner fa-spin fa-2x fa-fw"})])}],!1,null,null,null);"function"==typeof L&&L(D);const T=D.exports},2956:function(t){var e;t.exports=(e=function(t,e){console.warn("The npm package jStat is no longer maintained. Instead use jstat (lowercase)."),console.warn("Visit https://www.npmjs.com/package/jstat for more information.");var i=Array.prototype.concat,s=Array.prototype.slice,r=Object.prototype.toString;function o(e,i){var s=e>i?e:i;return t.pow(10,17-~~(t.log(s>0?s:-s)*t.LOG10E))}var n=Array.isArray||function(t){return"[object Array]"===r.call(t)};function a(t){return"[object Function]"===r.call(t)}function l(t){return"number"==typeof t&&t==t}function h(){return new h._init(arguments)}function p(){return 0}function d(){return 1}function u(t,e){return t===e?1:0}h.fn=h.prototype,h._init=function(t){if(n(t[0]))if(n(t[0][0])){a(t[1])&&(t[0]=h.map(t[0],t[1]));for(var e=0;e<t[0].length;e++)this[e]=t[0][e];this.length=t[0].length}else this[0]=a(t[1])?h.map(t[0],t[1]):t[0],this.length=1;else if(l(t[0]))this[0]=h.seq.apply(null,t),this.length=1;else{if(t[0]instanceof h)return h(t[0].toArray());this[0]=[],this.length=1}return this},h._init.prototype=h.prototype,h._init.constructor=h,h.utils={calcRdx:o,isArray:n,isFunction:a,isNumber:l,toVector:function(t){return i.apply([],t)}},h._random_fn=t.random,h.setRandom=function(t){if("function"!=typeof t)throw new TypeError("fn is not a function");h._random_fn=t},h.extend=function(t){var e,i;if(1===arguments.length){for(i in t)h[i]=t[i];return this}for(e=1;e<arguments.length;e++)for(i in arguments[e])t[i]=arguments[e][i];return t},h.rows=function(t){return t.length||1},h.cols=function(t){return t[0].length||1},h.dimensions=function(t){return{rows:h.rows(t),cols:h.cols(t)}},h.row=function(t,e){return n(e)?e.map((function(e){return h.row(t,e)})):t[e]},h.rowa=function(t,e){return h.row(t,e)},h.col=function(t,e){if(n(e)){var i=h.arange(t.length).map((function(){return new Array(e.length)}));return e.forEach((function(e,s){h.arange(t.length).forEach((function(r){i[r][s]=t[r][e]}))})),i}for(var s=new Array(t.length),r=0;r<t.length;r++)s[r]=[t[r][e]];return s},h.cola=function(t,e){return h.col(t,e).map((function(t){return t[0]}))},h.diag=function(t){for(var e=h.rows(t),i=new Array(e),s=0;s<e;s++)i[s]=[t[s][s]];return i},h.antidiag=function(t){for(var e=h.rows(t)-1,i=new Array(e),s=0;e>=0;e--,s++)i[s]=[t[s][e]];return i},h.transpose=function(t){var e,i,s,r,o,a=[];for(n(t[0])||(t=[t]),i=t.length,s=t[0].length,o=0;o<s;o++){for(e=new Array(i),r=0;r<i;r++)e[r]=t[r][o];a.push(e)}return 1===a.length?a[0]:a},h.map=function(t,e,i){var s,r,o,a,l;for(n(t[0])||(t=[t]),r=t.length,o=t[0].length,a=i?t:new Array(r),s=0;s<r;s++)for(a[s]||(a[s]=new Array(o)),l=0;l<o;l++)a[s][l]=e(t[s][l],s,l);return 1===a.length?a[0]:a},h.cumreduce=function(t,e,i){var s,r,o,a,l;for(n(t[0])||(t=[t]),r=t.length,o=t[0].length,a=i?t:new Array(r),s=0;s<r;s++)for(a[s]||(a[s]=new Array(o)),o>0&&(a[s][0]=t[s][0]),l=1;l<o;l++)a[s][l]=e(a[s][l-1],t[s][l]);return 1===a.length?a[0]:a},h.alter=function(t,e){return h.map(t,e,!0)},h.create=function(t,e,i){var s,r,o=new Array(t);for(a(e)&&(i=e,e=t),s=0;s<t;s++)for(o[s]=new Array(e),r=0;r<e;r++)o[s][r]=i(s,r);return o},h.zeros=function(t,e){return l(e)||(e=t),h.create(t,e,p)},h.ones=function(t,e){return l(e)||(e=t),h.create(t,e,d)},h.rand=function(t,e){return l(e)||(e=t),h.create(t,e,h._random_fn)},h.identity=function(t,e){return l(e)||(e=t),h.create(t,e,u)},h.symmetric=function(t){var e,i,s=t.length;if(t.length!==t[0].length)return!1;for(e=0;e<s;e++)for(i=0;i<s;i++)if(t[i][e]!==t[e][i])return!1;return!0},h.clear=function(t){return h.alter(t,p)},h.seq=function(t,e,i,s){a(s)||(s=!1);var r,n=[],l=o(t,e),h=(e*l-t*l)/((i-1)*l),p=t;for(r=0;p<=e&&r<i;p=(t*l+h*l*++r)/l)n.push(s?s(p,r):p);return n},h.arange=function(t,i,s){var r,o=[];if(s=s||1,i===e&&(i=t,t=0),t===i||0===s)return[];if(t<i&&s<0)return[];if(t>i&&s>0)return[];if(s>0)for(r=t;r<i;r+=s)o.push(r);else for(r=t;r>i;r+=s)o.push(r);return o},h.slice=function(){function t(t,i,s,r){var o,n=[],a=t.length;if(i===e&&s===e&&r===e)return h.copy(t);if(r=r||1,(i=(i=i||0)>=0?i:a+i)===(s=(s=s||t.length)>=0?s:a+s)||0===r)return[];if(i<s&&r<0)return[];if(i>s&&r>0)return[];if(r>0)for(o=i;o<s;o+=r)n.push(t[o]);else for(o=i;o>s;o+=r)n.push(t[o]);return n}return function(e,i){var s,r;return l((i=i||{}).row)?l(i.col)?e[i.row][i.col]:t(h.rowa(e,i.row),(s=i.col||{}).start,s.end,s.step):l(i.col)?t(h.cola(e,i.col),(r=i.row||{}).start,r.end,r.step):(r=i.row||{},s=i.col||{},t(e,r.start,r.end,r.step).map((function(e){return t(e,s.start,s.end,s.step)})))}}(),h.sliceAssign=function(i,s,r){var o,n;if(l(s.row)){if(l(s.col))return i[s.row][s.col]=r;s.col=s.col||{},s.col.start=s.col.start||0,s.col.end=s.col.end||i[0].length,s.col.step=s.col.step||1,o=h.arange(s.col.start,t.min(i.length,s.col.end),s.col.step);var a=s.row;return o.forEach((function(t,e){i[a][t]=r[e]})),i}if(l(s.col)){s.row=s.row||{},s.row.start=s.row.start||0,s.row.end=s.row.end||i.length,s.row.step=s.row.step||1,n=h.arange(s.row.start,t.min(i[0].length,s.row.end),s.row.step);var p=s.col;return n.forEach((function(t,e){i[t][p]=r[e]})),i}return r[0].length===e&&(r=[r]),s.row.start=s.row.start||0,s.row.end=s.row.end||i.length,s.row.step=s.row.step||1,s.col.start=s.col.start||0,s.col.end=s.col.end||i[0].length,s.col.step=s.col.step||1,n=h.arange(s.row.start,t.min(i.length,s.row.end),s.row.step),o=h.arange(s.col.start,t.min(i[0].length,s.col.end),s.col.step),n.forEach((function(t,e){o.forEach((function(s,o){i[t][s]=r[e][o]}))})),i},h.diagonal=function(t){var e=h.zeros(t.length,t.length);return t.forEach((function(t,i){e[i][i]=t})),e},h.copy=function(t){return t.map((function(t){return l(t)?t:t.map((function(t){return t}))}))};var c=h.prototype;return c.length=0,c.push=Array.prototype.push,c.sort=Array.prototype.sort,c.splice=Array.prototype.splice,c.slice=Array.prototype.slice,c.toArray=function(){return this.length>1?s.call(this):s.call(this)[0]},c.map=function(t,e){return h(h.map(this,t,e))},c.cumreduce=function(t,e){return h(h.cumreduce(this,t,e))},c.alter=function(t){return h.alter(this,t),this},function(t){for(var e=0;e<t.length;e++)!function(t){c[t]=function(e){var i,s=this;return e?(setTimeout((function(){e.call(s,c[t].call(s))})),this):(i=h[t](this),n(i)?h(i):i)}}(t[e])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){c[t]=function(e,i){var s=this;return i?(setTimeout((function(){i.call(s,c[t].call(s,e))})),this):h(h[t](this,e))}}(t[e])}("row col".split(" ")),function(t){for(var e=0;e<t.length;e++)!function(t){c[t]=function(){return h(h[t].apply(null,arguments))}}(t[e])}("create zeros ones rand identity".split(" ")),h}(Math),function(t,e){var i=t.utils.isFunction;function s(t,e){return t-e}function r(t,i,s){return e.max(i,e.min(t,s))}t.sum=function(t){for(var e=0,i=t.length;--i>=0;)e+=t[i];return e},t.sumsqrd=function(t){for(var e=0,i=t.length;--i>=0;)e+=t[i]*t[i];return e},t.sumsqerr=function(e){for(var i,s=t.mean(e),r=0,o=e.length;--o>=0;)r+=(i=e[o]-s)*i;return r},t.sumrow=function(t){for(var e=0,i=t.length;--i>=0;)e+=t[i];return e},t.product=function(t){for(var e=1,i=t.length;--i>=0;)e*=t[i];return e},t.min=function(t){for(var e=t[0],i=0;++i<t.length;)t[i]<e&&(e=t[i]);return e},t.max=function(t){for(var e=t[0],i=0;++i<t.length;)t[i]>e&&(e=t[i]);return e},t.unique=function(t){for(var e={},i=[],s=0;s<t.length;s++)e[t[s]]||(e[t[s]]=!0,i.push(t[s]));return i},t.mean=function(e){return t.sum(e)/e.length},t.meansqerr=function(e){return t.sumsqerr(e)/e.length},t.geomean=function(i){return e.pow(t.product(i),1/i.length)},t.median=function(t){var e=t.length,i=t.slice().sort(s);return 1&e?i[e/2|0]:(i[e/2-1]+i[e/2])/2},t.cumsum=function(e){return t.cumreduce(e,(function(t,e){return t+e}))},t.cumprod=function(e){return t.cumreduce(e,(function(t,e){return t*e}))},t.diff=function(t){var e,i=[],s=t.length;for(e=1;e<s;e++)i.push(t[e]-t[e-1]);return i},t.rank=function(t){for(var e,i=t.length,r=t.slice().sort(s),o=new Array(i),n=0;n<i;n++){var a=r.indexOf(t[n]),l=r.lastIndexOf(t[n]);e=a===l?a:(a+l)/2,o[n]=e+1}return o},t.mode=function(t){var e,i=t.length,r=t.slice().sort(s),o=1,n=0,a=0,l=[];for(e=0;e<i;e++)r[e]===r[e+1]?o++:(o>n?(l=[r[e]],n=o,a=0):o===n&&(l.push(r[e]),a++),o=1);return 0===a?l[0]:l},t.range=function(e){return t.max(e)-t.min(e)},t.variance=function(e,i){return t.sumsqerr(e)/(e.length-(i?1:0))},t.pooledvariance=function(e){return e.reduce((function(e,i){return e+t.sumsqerr(i)}),0)/(e.reduce((function(t,e){return t+e.length}),0)-e.length)},t.deviation=function(e){for(var i=t.mean(e),s=e.length,r=new Array(s),o=0;o<s;o++)r[o]=e[o]-i;return r},t.stdev=function(i,s){return e.sqrt(t.variance(i,s))},t.pooledstdev=function(i){return e.sqrt(t.pooledvariance(i))},t.meandev=function(i){for(var s=t.mean(i),r=[],o=i.length-1;o>=0;o--)r.push(e.abs(i[o]-s));return t.mean(r)},t.meddev=function(i){for(var s=t.median(i),r=[],o=i.length-1;o>=0;o--)r.push(e.abs(i[o]-s));return t.median(r)},t.coeffvar=function(e){return t.stdev(e)/t.mean(e)},t.quartiles=function(t){var i=t.length,r=t.slice().sort(s);return[r[e.round(i/4)-1],r[e.round(i/2)-1],r[e.round(3*i/4)-1]]},t.quantiles=function(t,i,o,n){var a,l,h,p,d,u=t.slice().sort(s),c=[i.length],f=t.length;for(void 0===o&&(o=3/8),void 0===n&&(n=3/8),a=0;a<i.length;a++)h=f*(l=i[a])+(o+l*(1-o-n)),p=e.floor(r(h,1,f-1)),d=r(h-p,0,1),c[a]=(1-d)*u[p-1]+d*u[p];return c},t.percentile=function(t,e,i){var r=t.slice().sort(s),o=e*(r.length+(i?1:-1))+(i?0:1),n=parseInt(o),a=o-n;return n+1<r.length?r[n-1]+a*(r[n]-r[n-1]):r[n-1]},t.percentileOfScore=function(t,e,i){var s,r,o=0,n=t.length,a=!1;for("strict"===i&&(a=!0),r=0;r<n;r++)s=t[r],(a&&s<e||!a&&s<=e)&&o++;return o/n},t.histogram=function(i,s){s=s||4;var r,o=t.min(i),n=(t.max(i)-o)/s,a=i.length,l=[];for(r=0;r<s;r++)l[r]=0;for(r=0;r<a;r++)l[e.min(e.floor((i[r]-o)/n),s-1)]+=1;return l},t.covariance=function(e,i){var s,r=t.mean(e),o=t.mean(i),n=e.length,a=new Array(n);for(s=0;s<n;s++)a[s]=(e[s]-r)*(i[s]-o);return t.sum(a)/(n-1)},t.corrcoeff=function(e,i){return t.covariance(e,i)/t.stdev(e,1)/t.stdev(i,1)},t.spearmancoeff=function(e,i){return e=t.rank(e),i=t.rank(i),t.corrcoeff(e,i)},t.stanMoment=function(i,s){for(var r=t.mean(i),o=t.stdev(i),n=i.length,a=0,l=0;l<n;l++)a+=e.pow((i[l]-r)/o,s);return a/i.length},t.skewness=function(e){return t.stanMoment(e,3)},t.kurtosis=function(e){return t.stanMoment(e,4)-3};var o=t.prototype;!function(e){for(var s=0;s<e.length;s++)!function(e){o[e]=function(s,r){var n=[],a=0,l=this;if(i(s)&&(r=s,s=!1),r)return setTimeout((function(){r.call(l,o[e].call(l,s))})),this;if(this.length>1){for(l=!0===s?this:this.transpose();a<l.length;a++)n[a]=t[e](l[a]);return n}return t[e](this[0],s)}}(e[s])}("cumsum cumprod".split(" ")),function(e){for(var s=0;s<e.length;s++)!function(e){o[e]=function(s,r){var n=[],a=0,l=this;if(i(s)&&(r=s,s=!1),r)return setTimeout((function(){r.call(l,o[e].call(l,s))})),this;if(this.length>1){for("sumrow"!==e&&(l=!0===s?this:this.transpose());a<l.length;a++)n[a]=t[e](l[a]);return!0===s?t[e](t.utils.toVector(n)):n}return t[e](this[0],s)}}(e[s])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(e){for(var s=0;s<e.length;s++)!function(e){o[e]=function(){var s,r=[],n=0,a=this,l=Array.prototype.slice.call(arguments);if(i(l[l.length-1])){s=l[l.length-1];var h=l.slice(0,l.length-1);return setTimeout((function(){s.call(a,o[e].apply(a,h))})),this}s=void 0;var p=function(i){return t[e].apply(a,[i].concat(l))};if(this.length>1){for(a=a.transpose();n<a.length;n++)r[n]=p(a[n]);return r}return p(this[0])}}(e[s])}("quantiles percentileOfScore".split(" "))}(e,Math),function(t,e){t.gammaln=function(t){var i,s,r,o=0,n=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],a=1.000000000190015;for(r=(s=i=t)+5.5,r-=(i+.5)*e.log(r);o<6;o++)a+=n[o]/++s;return e.log(2.5066282746310007*a/i)-r},t.gammafn=function(t){var i,s,r,o,n=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,h=0,p=0,d=0,u=t;if(u<=0){if(!(o=u%1+36e-17))return 1/0;l=(1&u?-1:1)*e.PI/e.sin(e.PI*o),u=1-u}for(r=u,s=u<1?u++:(u-=h=(0|u)-1)-1,i=0;i<8;++i)d=(d+n[i])*s,p=p*s+a[i];if(o=d/p+1,r<u)o/=r;else if(r>u)for(i=0;i<h;++i)o*=u,u++;return l&&(o=l/o),o},t.gammap=function(e,i){return t.lowRegGamma(e,i)*t.gammafn(e)},t.lowRegGamma=function(i,s){var r,o=t.gammaln(i),n=i,a=1/i,l=a,h=s+1-i,p=1/1e-30,d=1/h,u=d,c=1,f=-~(8.5*e.log(i>=1?i:1/i)+.4*i+17);if(s<0||i<=0)return NaN;if(s<i+1){for(;c<=f;c++)a+=l*=s/++n;return a*e.exp(-s+i*e.log(s)-o)}for(;c<=f;c++)u*=(d=1/(d=(r=-c*(c-i))*d+(h+=2)))*(p=h+r/p);return 1-u*e.exp(-s+i*e.log(s)-o)},t.factorialln=function(e){return e<0?NaN:t.gammaln(e+1)},t.factorial=function(e){return e<0?NaN:t.gammafn(e+1)},t.combination=function(i,s){return i>170||s>170?e.exp(t.combinationln(i,s)):t.factorial(i)/t.factorial(s)/t.factorial(i-s)},t.combinationln=function(e,i){return t.factorialln(e)-t.factorialln(i)-t.factorialln(e-i)},t.permutation=function(e,i){return t.factorial(e)/t.factorial(e-i)},t.betafn=function(i,s){if(!(i<=0||s<=0))return i+s>170?e.exp(t.betaln(i,s)):t.gammafn(i)*t.gammafn(s)/t.gammafn(i+s)},t.betaln=function(e,i){return t.gammaln(e)+t.gammaln(i)-t.gammaln(e+i)},t.betacf=function(t,i,s){var r,o,n,a,l=1e-30,h=1,p=i+s,d=i+1,u=i-1,c=1,f=1-p*t/d;for(e.abs(f)<l&&(f=l),a=f=1/f;h<=100&&(f=1+(o=h*(s-h)*t/((u+(r=2*h))*(i+r)))*f,e.abs(f)<l&&(f=l),c=1+o/c,e.abs(c)<l&&(c=l),a*=(f=1/f)*c,f=1+(o=-(i+h)*(p+h)*t/((i+r)*(d+r)))*f,e.abs(f)<l&&(f=l),c=1+o/c,e.abs(c)<l&&(c=l),a*=n=(f=1/f)*c,!(e.abs(n-1)<3e-7));h++);return a},t.gammapinv=function(i,s){var r,o,n,a,l,h,p=0,d=s-1,u=t.gammaln(s);if(i>=1)return e.max(100,s+100*e.sqrt(s));if(i<=0)return 0;for(s>1?(l=e.log(d),h=e.exp(d*(l-1)-u),a=i<.5?i:1-i,r=(2.30753+.27061*(o=e.sqrt(-2*e.log(a))))/(1+o*(.99229+.04481*o))-o,i<.5&&(r=-r),r=e.max(.001,s*e.pow(1-1/(9*s)-r/(3*e.sqrt(s)),3))):r=i<(o=1-s*(.253+.12*s))?e.pow(i/o,1/s):1-e.log(1-(i-o)/(1-o));p<12;p++){if(r<=0)return 0;if((r-=o=(n=(t.lowRegGamma(s,r)-i)/(o=s>1?h*e.exp(-(r-d)+d*(e.log(r)-l)):e.exp(-r+d*e.log(r)-u)))/(1-.5*e.min(1,n*((s-1)/r-1))))<=0&&(r=.5*(r+o)),e.abs(o)<1e-8*r)break}return r},t.erf=function(t){var i,s,r,o,n=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],a=n.length-1,l=!1,h=0,p=0;for(t<0&&(t=-t,l=!0),s=4*(i=2/(2+t))-2;a>0;a--)r=h,h=s*h-p+n[a],p=r;return o=i*e.exp(-t*t+.5*(n[0]+s*h)-p),l?o-1:1-o},t.erfc=function(e){return 1-t.erf(e)},t.erfcinv=function(i){var s,r,o,n,a=0;if(i>=2)return-100;if(i<=0)return 100;for(n=i<1?i:2-i,s=-.70711*((2.30753+.27061*(o=e.sqrt(-2*e.log(n/2))))/(1+o*(.99229+.04481*o))-o);a<2;a++)s+=(r=t.erfc(s)-n)/(1.1283791670955126*e.exp(-s*s)-s*r);return i<1?s:-s},t.ibetainv=function(i,s,r){var o,n,a,l,h,p,d,u,c,f,g=s-1,m=r-1,x=0;if(i<=0)return 0;if(i>=1)return 1;for(s>=1&&r>=1?(a=i<.5?i:1-i,p=(2.30753+.27061*(l=e.sqrt(-2*e.log(a))))/(1+l*(.99229+.04481*l))-l,i<.5&&(p=-p),d=(p*p-3)/6,u=2/(1/(2*s-1)+1/(2*r-1)),c=p*e.sqrt(d+u)/u-(1/(2*r-1)-1/(2*s-1))*(d+5/6-2/(3*u)),p=s/(s+r*e.exp(2*c))):(o=e.log(s/(s+r)),n=e.log(r/(s+r)),p=i<(l=e.exp(s*o)/s)/(c=l+(h=e.exp(r*n)/r))?e.pow(s*c*i,1/s):1-e.pow(r*c*(1-i),1/r)),f=-t.gammaln(s)-t.gammaln(r)+t.gammaln(s+r);x<10;x++){if(0===p||1===p)return p;if((p-=l=(h=(t.ibeta(p,s,r)-i)/(l=e.exp(g*e.log(p)+m*e.log(1-p)+f)))/(1-.5*e.min(1,h*(g/p-m/(1-p)))))<=0&&(p=.5*(p+l)),p>=1&&(p=.5*(p+l+1)),e.abs(l)<1e-8*p&&x>0)break}return p},t.ibeta=function(i,s,r){var o=0===i||1===i?0:e.exp(t.gammaln(s+r)-t.gammaln(s)-t.gammaln(r)+s*e.log(i)+r*e.log(1-i));return!(i<0||i>1)&&(i<(s+1)/(s+r+2)?o*t.betacf(i,s,r)/s:1-o*t.betacf(1-i,r,s)/r)},t.randn=function(i,s){var r,o,n,a,l;if(s||(s=i),i)return t.create(i,s,(function(){return t.randn()}));do{r=t._random_fn(),o=1.7156*(t._random_fn()-.5),l=(n=r-.449871)*n+(a=e.abs(o)+.386595)*(.196*a-.25472*n)}while(l>.27597&&(l>.27846||o*o>-4*e.log(r)*r*r));return o/r},t.randg=function(i,s,r){var o,n,a,l,h,p,d=i;if(r||(r=s),i||(i=1),s)return(p=t.zeros(s,r)).alter((function(){return t.randg(i)})),p;i<1&&(i+=1),o=i-1/3,n=1/e.sqrt(9*o);do{do{l=1+n*(h=t.randn())}while(l<=0);l*=l*l,a=t._random_fn()}while(a>1-.331*e.pow(h,4)&&e.log(a)>.5*h*h+o*(1-l+e.log(l)));if(i==d)return o*l;do{a=t._random_fn()}while(0===a);return e.pow(a,1/d)*o*l},function(e){for(var i=0;i<e.length;i++)!function(e){t.fn[e]=function(){return t(t.map(this,(function(i){return t[e](i)})))}}(e[i])}("gammaln gammafn factorial factorialln".split(" ")),function(e){for(var i=0;i<e.length;i++)!function(e){t.fn[e]=function(){return t(t[e].apply(null,arguments))}}(e[i])}("randn".split(" "))}(e,Math),function(t,e){function i(t,i,s,r){for(var o,n=0,a=1,l=1,h=1,p=0,d=0;e.abs((l-d)/l)>r;)d=l,a=h+(o=-(i+p)*(i+s+p)*t/(i+2*p)/(i+2*p+1))*a,l=(n=l+o*n)+(o=(p+=1)*(s-p)*t/(i+2*p-1)/(i+2*p))*l,n/=h=a+o*h,a/=h,l/=h,h=1;return l/i}function s(i,s,r){var o=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],n=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],a=.5*i;if(a>=8)return 1;var l,h=2*t.normal.cdf(a,0,1,1,0)-1;h=h>=e.exp(-50/r)?e.pow(h,r):0;for(var p=a,d=(8-a)/(l=i>3?2:3),u=p+d,c=0,f=r-1,g=1;g<=l;g++){for(var m=0,x=.5*(u+p),b=.5*(u-p),v=1;v<=12;v++){var y,w=x+b*(6<v?o[(y=12-v+1)-1]:-o[(y=v)-1]),S=w*w;if(S>60)break;var M=2*t.normal.cdf(w,0,1,1,0)*.5-2*t.normal.cdf(w,i,1,1,0)*.5;M>=e.exp(-30/f)&&(m+=M=n[y-1]*e.exp(-.5*S)*e.pow(M,f))}c+=m*=2*b*r/e.sqrt(2*e.PI),p=u,u+=d}return(h+=c)<=e.exp(-30/s)?0:(h=e.pow(h,s))>=1?1:h}!function(e){for(var i=0;i<e.length;i++)!function(e){t[e]=function(t,e,i){return this instanceof arguments.callee?(this._a=t,this._b=e,this._c=i,this):new arguments.callee(t,e,i)},t.fn[e]=function(i,s,r){var o=t[e](i,s,r);return o.data=this,o},t[e].prototype.sample=function(i){var s=this._a,r=this._b,o=this._c;return i?t.alter(i,(function(){return t[e].sample(s,r,o)})):t[e].sample(s,r,o)},function(i){for(var s=0;s<i.length;s++)!function(i){t[e].prototype[i]=function(s){var r=this._a,o=this._b,n=this._c;return s||0===s||(s=this.data),"number"!=typeof s?t.fn.map.call(s,(function(s){return t[e][i](s,r,o,n)})):t[e][i](s,r,o,n)}}(i[s])}("pdf cdf inv".split(" ")),function(i){for(var s=0;s<i.length;s++)!function(i){t[e].prototype[i]=function(){return t[e][i](this._a,this._b,this._c)}}(i[s])}("mean median mode variance".split(" "))}(e[i])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),t.extend(t.beta,{pdf:function(i,s,r){return i>1||i<0?0:1==s&&1==r?1:s<512&&r<512?e.pow(i,s-1)*e.pow(1-i,r-1)/t.betafn(s,r):e.exp((s-1)*e.log(i)+(r-1)*e.log(1-i)-t.betaln(s,r))},cdf:function(e,i,s){return e>1||e<0?1*(e>1):t.ibeta(e,i,s)},inv:function(e,i,s){return t.ibetainv(e,i,s)},mean:function(t,e){return t/(t+e)},median:function(e,i){return t.ibetainv(.5,e,i)},mode:function(t,e){return(t-1)/(t+e-2)},sample:function(e,i){var s=t.randg(e);return s/(s+t.randg(i))},variance:function(t,i){return t*i/(e.pow(t+i,2)*(t+i+1))}}),t.extend(t.centralF,{pdf:function(i,s,r){var o;return i<0?0:s<=2?0===i&&s<2?1/0:0===i&&2===s?1:1/t.betafn(s/2,r/2)*e.pow(s/r,s/2)*e.pow(i,s/2-1)*e.pow(1+s/r*i,-(s+r)/2):(o=s*i/(r+i*s),s*(r/(r+i*s))/2*t.binomial.pdf((s-2)/2,(s+r-2)/2,o))},cdf:function(e,i,s){return e<0?0:t.ibeta(i*e/(i*e+s),i/2,s/2)},inv:function(e,i,s){return s/(i*(1/t.ibetainv(e,i/2,s/2)-1))},mean:function(t,e){return e>2?e/(e-2):void 0},mode:function(t,e){return t>2?e*(t-2)/(t*(e+2)):void 0},sample:function(e,i){return 2*t.randg(e/2)/e/(2*t.randg(i/2)/i)},variance:function(t,e){if(!(e<=4))return 2*e*e*(t+e-2)/(t*(e-2)*(e-2)*(e-4))}}),t.extend(t.cauchy,{pdf:function(t,i,s){return s<0?0:s/(e.pow(t-i,2)+e.pow(s,2))/e.PI},cdf:function(t,i,s){return e.atan((t-i)/s)/e.PI+.5},inv:function(t,i,s){return i+s*e.tan(e.PI*(t-.5))},median:function(t){return t},mode:function(t){return t},sample:function(i,s){return t.randn()*e.sqrt(1/(2*t.randg(.5)))*s+i}}),t.extend(t.chisquare,{pdf:function(i,s){return i<0?0:0===i&&2===s?.5:e.exp((s/2-1)*e.log(i)-i/2-s/2*e.log(2)-t.gammaln(s/2))},cdf:function(e,i){return e<0?0:t.lowRegGamma(i/2,e/2)},inv:function(e,i){return 2*t.gammapinv(e,.5*i)},mean:function(t){return t},median:function(t){return t*e.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(e){return 2*t.randg(e/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,i){return t<0?0:i*e.exp(-i*t)},cdf:function(t,i){return t<0?0:1-e.exp(-i*t)},inv:function(t,i){return-e.log(1-t)/i},mean:function(t){return 1/t},median:function(t){return 1/t*e.log(2)},mode:function(){return 0},sample:function(i){return-1/i*e.log(t._random_fn())},variance:function(t){return e.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(i,s,r){return i<0?0:0===i&&1===s?1/r:e.exp((s-1)*e.log(i)-i/r-t.gammaln(s)-s*e.log(r))},cdf:function(e,i,s){return e<0?0:t.lowRegGamma(i,e/s)},inv:function(e,i,s){return t.gammapinv(e,i)*s},mean:function(t,e){return t*e},mode:function(t,e){if(t>1)return(t-1)*e},sample:function(e,i){return t.randg(e)*i},variance:function(t,e){return t*e*e}}),t.extend(t.invgamma,{pdf:function(i,s,r){return i<=0?0:e.exp(-(s+1)*e.log(i)-r/i-t.gammaln(s)+s*e.log(r))},cdf:function(e,i,s){return e<=0?0:1-t.lowRegGamma(i,s/e)},inv:function(e,i,s){return s/t.gammapinv(1-e,i)},mean:function(t,e){return t>1?e/(t-1):void 0},mode:function(t,e){return e/(t+1)},sample:function(e,i){return i/t.randg(e)},variance:function(t,e){if(!(t<=2))return e*e/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,i,s){return 0===t&&1===i?s:1===t&&1===s?i:e.exp(e.log(i)+e.log(s)+(i-1)*e.log(t)+(s-1)*e.log(1-e.pow(t,i)))},cdf:function(t,i,s){return t<0?0:t>1?1:1-e.pow(1-e.pow(t,i),s)},inv:function(t,i,s){return e.pow(1-e.pow(1-t,1/s),1/i)},mean:function(e,i){return i*t.gammafn(1+1/e)*t.gammafn(i)/t.gammafn(1+1/e+i)},median:function(t,i){return e.pow(1-e.pow(2,-1/i),1/t)},mode:function(t,i){if(t>=1&&i>=1&&1!==t&&1!==i)return e.pow((t-1)/(t*i-1),1/t)},variance:function(){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,i,s){return t<=0?0:e.exp(-e.log(t)-.5*e.log(2*e.PI)-e.log(s)-e.pow(e.log(t)-i,2)/(2*s*s))},cdf:function(i,s,r){return i<0?0:.5+.5*t.erf((e.log(i)-s)/e.sqrt(2*r*r))},inv:function(i,s,r){return e.exp(-1.4142135623730951*r*t.erfcinv(2*i)+s)},mean:function(t,i){return e.exp(t+i*i/2)},median:function(t){return e.exp(t)},mode:function(t,i){return e.exp(t-i*i)},sample:function(i,s){return e.exp(t.randn()*s+i)},variance:function(t,i){return(e.exp(i*i)-1)*e.exp(2*t+i*i)}}),t.extend(t.noncentralt,{pdf:function(i,s,r){return e.abs(r)<1e-14?t.studentt.pdf(i,s):e.abs(i)<1e-14?e.exp(t.gammaln((s+1)/2)-r*r/2-.5*e.log(e.PI*s)-t.gammaln(s/2)):s/i*(t.noncentralt.cdf(i*e.sqrt(1+2/s),s+2,r)-t.noncentralt.cdf(i,s,r))},cdf:function(i,s,r){var o=1e-14;if(e.abs(r)<o)return t.studentt.cdf(i,s);var n=!1;i<0&&(n=!0,r=-r);for(var a=t.normal.cdf(-r,0,1),l=o+1,h=l,p=i*i/(i*i+s),d=0,u=e.exp(-r*r/2),c=e.exp(-r*r/2-.5*e.log(2)-t.gammaln(1.5))*r;d<200||h>o||l>o;)h=l,d>0&&(u*=r*r/(2*d),c*=r*r/(2*(d+.5))),a+=.5*(l=u*t.beta.cdf(p,d+.5,s/2)+c*t.beta.cdf(p,d+1,s/2)),d++;return n?1-a:a}}),t.extend(t.normal,{pdf:function(t,i,s){return e.exp(-.5*e.log(2*e.PI)-e.log(s)-e.pow(t-i,2)/(2*s*s))},cdf:function(i,s,r){return.5*(1+t.erf((i-s)/e.sqrt(2*r*r)))},inv:function(e,i,s){return-1.4142135623730951*s*t.erfcinv(2*e)+i},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},sample:function(e,i){return t.randn()*i+e},variance:function(t,e){return e*e}}),t.extend(t.pareto,{pdf:function(t,i,s){return t<i?0:s*e.pow(i,s)/e.pow(t,s+1)},cdf:function(t,i,s){return t<i?0:1-e.pow(i/t,s)},inv:function(t,i,s){return i/e.pow(1-t,1/s)},mean:function(t,i){if(!(i<=1))return i*e.pow(t,i)/(i-1)},median:function(t,i){return t*(i*e.SQRT2)},mode:function(t){return t},variance:function(t,i){if(!(i<=2))return t*t*i/(e.pow(i-1,2)*(i-2))}}),t.extend(t.studentt,{pdf:function(i,s){return s=s>1e100?1e100:s,1/(e.sqrt(s)*t.betafn(.5,s/2))*e.pow(1+i*i/s,-(s+1)/2)},cdf:function(i,s){var r=s/2;return t.ibeta((i+e.sqrt(i*i+s))/(2*e.sqrt(i*i+s)),r,r)},inv:function(i,s){var r=t.ibetainv(2*e.min(i,1-i),.5*s,.5);return r=e.sqrt(s*(1-r)/r),i>.5?r:-r},mean:function(t){return t>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(i){return t.randn()*e.sqrt(i/(2*t.randg(i/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,i,s){return t<0||i<0||s<0?0:s/i*e.pow(t/i,s-1)*e.exp(-e.pow(t/i,s))},cdf:function(t,i,s){return t<0?0:1-e.exp(-e.pow(t/i,s))},inv:function(t,i,s){return i*e.pow(-e.log(1-t),1/s)},mean:function(e,i){return e*t.gammafn(1+1/i)},median:function(t,i){return t*e.pow(e.log(2),1/i)},mode:function(t,i){return i<=1?0:t*e.pow((i-1)/i,1/i)},sample:function(i,s){return i*e.pow(-e.log(t._random_fn()),1/s)},variance:function(i,s){return i*i*t.gammafn(1+2/s)-e.pow(t.weibull.mean(i,s),2)}}),t.extend(t.uniform,{pdf:function(t,e,i){return t<e||t>i?0:1/(i-e)},cdf:function(t,e,i){return t<e?0:t<i?(t-e)/(i-e):1},inv:function(t,e,i){return e+t*(i-e)},mean:function(t,e){return.5*(t+e)},median:function(e,i){return t.mean(e,i)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(e,i){return e/2+i/2+(i/2-e/2)*(2*t._random_fn()-1)},variance:function(t,i){return e.pow(i-t,2)/12}}),t.extend(t.binomial,{pdf:function(i,s,r){return 0===r||1===r?s*r===i?1:0:t.combination(s,i)*e.pow(r,i)*e.pow(1-r,s-i)},cdf:function(s,r,o){var n,a=1e-10;if(s<0)return 0;if(s>=r)return 1;if(o<0||o>1||r<=0)return NaN;var l=o,h=(s=e.floor(s))+1,p=r-s,d=h+p,u=e.exp(t.gammaln(d)-t.gammaln(p)-t.gammaln(h)+h*e.log(l)+p*e.log(1-l));return n=l<(h+1)/(d+2)?u*i(l,h,p,a):1-u*i(1-l,p,h,a),e.round(1/a*(1-n))/(1/a)}}),t.extend(t.negbin,{pdf:function(i,s,r){return i===i>>>0&&(i<0?0:t.combination(i+s-1,s-1)*e.pow(1-r,i)*e.pow(r,s))},cdf:function(e,i,s){var r=0,o=0;if(e<0)return 0;for(;o<=e;o++)r+=t.negbin.pdf(o,i,s);return r}}),t.extend(t.hypgeom,{pdf:function(i,s,r,o){if(i!=i|0)return!1;if(i<0||i<r-(s-o))return 0;if(i>o||i>r)return 0;if(2*r>s)return 2*o>s?t.hypgeom.pdf(s-r-o+i,s,s-r,s-o):t.hypgeom.pdf(o-i,s,s-r,o);if(2*o>s)return t.hypgeom.pdf(r-i,s,r,s-o);if(r<o)return t.hypgeom.pdf(i,s,o,r);for(var n=1,a=0,l=0;l<i;l++){for(;n>1&&a<o;)n*=1-r/(s-a),a++;n*=(o-l)*(r-l)/((l+1)*(s-r-o+l+1))}for(;a<o;a++)n*=1-r/(s-a);return e.min(1,e.max(0,n))},cdf:function(i,s,r,o){if(i<0||i<r-(s-o))return 0;if(i>=o||i>=r)return 1;if(2*r>s)return 2*o>s?t.hypgeom.cdf(s-r-o+i,s,s-r,s-o):1-t.hypgeom.cdf(o-i-1,s,s-r,o);if(2*o>s)return 1-t.hypgeom.cdf(r-i-1,s,r,s-o);if(r<o)return t.hypgeom.cdf(i,s,o,r);for(var n=1,a=1,l=0,h=0;h<i;h++){for(;n>1&&l<o;){var p=1-r/(s-l);a*=p,n*=p,l++}n+=a*=(o-h)*(r-h)/((h+1)*(s-r-o+h+1))}for(;l<o;l++)n*=1-r/(s-l);return e.min(1,e.max(0,n))}}),t.extend(t.poisson,{pdf:function(i,s){return s<0||i%1!=0||i<0?0:e.pow(s,i)*e.exp(-s)/t.factorial(i)},cdf:function(e,i){var s=[],r=0;if(e<0)return 0;for(;r<=e;r++)s.push(t.poisson.pdf(r,i));return t.sum(s)},mean:function(t){return t},variance:function(t){return t},sample:function(i){var s=1,r=0,o=e.exp(-i);do{r++,s*=t._random_fn()}while(s>o);return r-1}}),t.extend(t.triangular,{pdf:function(t,e,i,s){return i<=e||s<e||s>i?NaN:t<e||t>i?0:t<s?2*(t-e)/((i-e)*(s-e)):t===s?2/(i-e):2*(i-t)/((i-e)*(i-s))},cdf:function(t,i,s,r){return s<=i||r<i||r>s?NaN:t<=i?0:t>=s?1:t<=r?e.pow(t-i,2)/((s-i)*(r-i)):1-e.pow(s-t,2)/((s-i)*(s-r))},inv:function(t,i,s,r){return s<=i||r<i||r>s?NaN:t<=(r-i)/(s-i)?i+(s-i)*e.sqrt(t*((r-i)/(s-i))):i+(s-i)*(1-e.sqrt((1-t)*(1-(r-i)/(s-i))))},mean:function(t,e,i){return(t+e+i)/3},median:function(t,i,s){return s<=(t+i)/2?i-e.sqrt((i-t)*(i-s))/e.sqrt(2):s>(t+i)/2?t+e.sqrt((i-t)*(s-t))/e.sqrt(2):void 0},mode:function(t,e,i){return i},sample:function(i,s,r){var o=t._random_fn();return o<(r-i)/(s-i)?i+e.sqrt(o*(s-i)*(r-i)):s-e.sqrt((1-o)*(s-i)*(s-r))},variance:function(t,e,i){return(t*t+e*e+i*i-t*e-t*i-e*i)/18}}),t.extend(t.arcsine,{pdf:function(t,i,s){return s<=i?NaN:t<=i||t>=s?0:2/e.PI*e.pow(e.pow(s-i,2)-e.pow(2*t-i-s,2),-.5)},cdf:function(t,i,s){return t<i?0:t<s?2/e.PI*e.asin(e.sqrt((t-i)/(s-i))):1},inv:function(t,i,s){return i+(.5-.5*e.cos(e.PI*t))*(s-i)},mean:function(t,e){return e<=t?NaN:(t+e)/2},median:function(t,e){return e<=t?NaN:(t+e)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(i,s){return(i+s)/2+(s-i)/2*e.sin(2*e.PI*t.uniform.sample(0,1))},variance:function(t,i){return i<=t?NaN:e.pow(i-t,2)/8}}),t.extend(t.laplace,{pdf:function(t,i,s){return s<=0?0:e.exp(-e.abs(t-i)/s)/(2*s)},cdf:function(t,i,s){return s<=0?0:t<i?.5*e.exp((t-i)/s):1-.5*e.exp(-(t-i)/s)},mean:function(t){return t},median:function(t){return t},mode:function(t){return t},variance:function(t,e){return 2*e*e},sample:function(i,s){var r,o=t._random_fn()-.5;return i-s*((r=o)/e.abs(r))*e.log(1-2*e.abs(o))}}),t.extend(t.tukey,{cdf:function(i,r,o){var n=r,a=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],l=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(i<=0)return 0;if(o<2||n<2)return NaN;if(!Number.isFinite(i))return 1;if(o>25e3)return s(i,1,n);var h,p=.5*o,d=p*e.log(o)-o*e.log(2)-t.gammaln(p),u=p-1,c=.25*o;h=o<=100?1:o<=800?.5:o<=5e3?.25:.125,d+=e.log(h);for(var f=0,g=1;g<=50;g++){for(var m=0,x=(2*g-1)*h,b=1;b<=16;b++){var v,y;8<b?(v=b-8-1,y=d+u*e.log(x+a[v]*h)-(a[v]*h+x)*c):(v=b-1,y=d+u*e.log(x-a[v]*h)+(a[v]*h-x)*c),y>=-30&&(m+=s(8<b?i*e.sqrt(.5*(a[v]*h+x)):i*e.sqrt(.5*(-a[v]*h+x)),1,n)*l[v]*e.exp(y))}if(g*h>=1&&m<=1e-14)break;f+=m}if(m>1e-14)throw new Error("tukey.cdf failed to converge");return f>1&&(f=1),f},inv:function(i,s,r){if(r<2||s<2)return NaN;if(i<0||i>1)return NaN;if(0===i)return 0;if(1===i)return 1/0;var o,n=function(t,i,s){var r=.5-.5*t,o=e.sqrt(e.log(1/(r*r))),n=o+((((-453642210148e-16*o-.204231210125)*o-.342242088547)*o-1)*o+.322232421088)/((((.0038560700634*o+.10353775285)*o+.531103462366)*o+.588581570495)*o+.099348462606);s<120&&(n+=(n*n*n+n)/s/4);var a=.8832-.2368*n;return s<120&&(a+=-1.214/s+1.208*n/s),n*(a*e.log(i-1)+1.4142)}(i,s,r),a=t.tukey.cdf(n,s,r)-i;o=a>0?e.max(0,n-1):n+1;for(var l,h=t.tukey.cdf(o,s,r)-i,p=1;p<50;p++)if(l=o-h*(o-n)/(h-a),a=h,n=o,l<0&&(l=0,h=-i),h=t.tukey.cdf(l,s,r)-i,o=l,e.abs(o-n)<1e-4)return l;throw new Error("tukey.inv failed to converge")}})}(e,Math),function(t,e){var i,s,r=Array.prototype.push,o=t.utils.isArray;function n(e){return o(e)||e instanceof t}t.extend({add:function(e,i){return n(i)?(n(i[0])||(i=[i]),t.map(e,(function(t,e,s){return t+i[e][s]}))):t.map(e,(function(t){return t+i}))},subtract:function(e,i){return n(i)?(n(i[0])||(i=[i]),t.map(e,(function(t,e,s){return t-i[e][s]||0}))):t.map(e,(function(t){return t-i}))},divide:function(e,i){return n(i)?(n(i[0])||(i=[i]),t.multiply(e,t.inv(i))):t.map(e,(function(t){return t/i}))},multiply:function(e,i){var s,r,o,a,l,h,p,d;if(void 0===e.length&&void 0===i.length)return e*i;if(l=e.length,h=e[0].length,p=t.zeros(l,o=n(i)?i[0].length:h),d=0,n(i)){for(;d<o;d++)for(s=0;s<l;s++){for(a=0,r=0;r<h;r++)a+=e[s][r]*i[r][d];p[s][d]=a}return 1===l&&1===d?p[0][0]:p}return t.map(e,(function(t){return t*i}))},outer:function(e,i){return t.multiply(e.map((function(t){return[t]})),[i])},dot:function(e,i){n(e[0])||(e=[e]),n(i[0])||(i=[i]);for(var s,r,o=1===e[0].length&&1!==e.length?t.transpose(e):e,a=1===i[0].length&&1!==i.length?t.transpose(i):i,l=[],h=0,p=o.length,d=o[0].length;h<p;h++){for(l[h]=[],s=0,r=0;r<d;r++)s+=o[h][r]*a[h][r];l[h]=s}return 1===l.length?l[0]:l},pow:function(i,s){return t.map(i,(function(t){return e.pow(t,s)}))},exp:function(i){return t.map(i,(function(t){return e.exp(t)}))},log:function(i){return t.map(i,(function(t){return e.log(t)}))},abs:function(i){return t.map(i,(function(t){return e.abs(t)}))},norm:function(t,i){var s=0,r=0;for(isNaN(i)&&(i=2),n(t[0])&&(t=t[0]);r<t.length;r++)s+=e.pow(e.abs(t[r]),i);return e.pow(s,1/i)},angle:function(i,s){return e.acos(t.dot(i,s)/(t.norm(i)*t.norm(s)))},aug:function(t,e){var i,s=[];for(i=0;i<t.length;i++)s.push(t[i].slice());for(i=0;i<s.length;i++)r.apply(s[i],e[i]);return s},inv:function(e){for(var i,s=e.length,r=e[0].length,o=t.identity(s,r),n=t.gauss_jordan(e,o),a=[],l=0;l<s;l++)for(a[l]=[],i=r;i<n[0].length;i++)a[l][i-r]=n[l][i];return a},det:function(t){var e,i=t.length,s=2*i,r=new Array(s),o=i-1,n=s-1,a=o-i+1,l=n,h=0,p=0;if(2===i)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;h<s;h++)r[h]=1;for(h=0;h<i;h++){for(e=0;e<i;e++)r[a<0?a+i:a]*=t[h][e],r[l<i?l+i:l]*=t[h][e],a++,l--;a=--o-i+1,l=--n}for(h=0;h<i;h++)p+=r[h];for(;h<s;h++)p-=r[h];return p},gauss_elimination:function(i,s){var r,o,n,a,l=0,h=0,p=i.length,d=i[0].length,u=1,c=0,f=[];for(r=(i=t.aug(i,s))[0].length,l=0;l<p;l++){for(o=i[l][l],h=l,a=l+1;a<d;a++)o<e.abs(i[a][l])&&(o=i[a][l],h=a);if(h!=l)for(a=0;a<r;a++)n=i[l][a],i[l][a]=i[h][a],i[h][a]=n;for(h=l+1;h<p;h++)for(u=i[h][l]/i[l][l],a=l;a<r;a++)i[h][a]=i[h][a]-u*i[l][a]}for(l=p-1;l>=0;l--){for(c=0,h=l+1;h<=p-1;h++)c+=f[h]*i[l][h];f[l]=(i[l][r-1]-c)/i[l][l]}return f},gauss_jordan:function(i,s){var r,o,n,a=t.aug(i,s),l=a.length,h=a[0].length,p=0;for(o=0;o<l;o++){var d=o;for(n=o+1;n<l;n++)e.abs(a[n][o])>e.abs(a[d][o])&&(d=n);var u=a[o];for(a[o]=a[d],a[d]=u,n=o+1;n<l;n++)for(p=a[n][o]/a[o][o],r=o;r<h;r++)a[n][r]-=a[o][r]*p}for(o=l-1;o>=0;o--){for(p=a[o][o],n=0;n<o;n++)for(r=h-1;r>o-1;r--)a[n][r]-=a[o][r]*a[n][o]/p;for(a[o][o]/=p,r=l;r<h;r++)a[o][r]/=p}return a},triaUpSolve:function(e,i){var s,r=e[0].length,o=t.zeros(1,r)[0],n=!1;return null!=i[0].length&&(i=i.map((function(t){return t[0]})),n=!0),t.arange(r-1,-1,-1).forEach((function(n){s=t.arange(n+1,r).map((function(t){return o[t]*e[n][t]})),o[n]=(i[n]-t.sum(s))/e[n][n]})),n?o.map((function(t){return[t]})):o},triaLowSolve:function(e,i){var s,r=e[0].length,o=t.zeros(1,r)[0],n=!1;return null!=i[0].length&&(i=i.map((function(t){return t[0]})),n=!0),t.arange(r).forEach((function(r){s=t.arange(r).map((function(t){return e[r][t]*o[t]})),o[r]=(i[r]-t.sum(s))/e[r][r]})),n?o.map((function(t){return[t]})):o},lu:function(e){var i,s=e.length,r=t.identity(s),o=t.zeros(e.length,e[0].length);return t.arange(s).forEach((function(t){o[0][t]=e[0][t]})),t.arange(1,s).forEach((function(n){t.arange(n).forEach((function(s){i=t.arange(s).map((function(t){return r[n][t]*o[t][s]})),r[n][s]=(e[n][s]-t.sum(i))/o[s][s]})),t.arange(n,s).forEach((function(s){i=t.arange(n).map((function(t){return r[n][t]*o[t][s]})),o[n][s]=e[i.length][s]-t.sum(i)}))})),[r,o]},cholesky:function(i){var s,r=i.length,o=t.zeros(i.length,i[0].length);return t.arange(r).forEach((function(n){s=t.arange(n).map((function(t){return e.pow(o[n][t],2)})),o[n][n]=e.sqrt(i[n][n]-t.sum(s)),t.arange(n+1,r).forEach((function(e){s=t.arange(n).map((function(t){return o[n][t]*o[e][t]})),o[e][n]=(i[n][e]-t.sum(s))/o[n][n]}))})),o},gauss_jacobi:function(i,s,r,o){for(var n,a,l,h,p=0,d=0,u=i.length,c=[],f=[],g=[];p<u;p++)for(c[p]=[],f[p]=[],g[p]=[],d=0;d<u;d++)p>d?(c[p][d]=i[p][d],f[p][d]=g[p][d]=0):p<d?(f[p][d]=i[p][d],c[p][d]=g[p][d]=0):(g[p][d]=i[p][d],c[p][d]=f[p][d]=0);for(l=t.multiply(t.multiply(t.inv(g),t.add(c,f)),-1),a=t.multiply(t.inv(g),s),n=r,h=t.add(t.multiply(l,r),a),p=2;e.abs(t.norm(t.subtract(h,n)))>o;)n=h,h=t.add(t.multiply(l,n),a),p++;return h},gauss_seidel:function(i,s,r,o){for(var n,a,l,h,p,d=0,u=i.length,c=[],f=[],g=[];d<u;d++)for(c[d]=[],f[d]=[],g[d]=[],n=0;n<u;n++)d>n?(c[d][n]=i[d][n],f[d][n]=g[d][n]=0):d<n?(f[d][n]=i[d][n],c[d][n]=g[d][n]=0):(g[d][n]=i[d][n],c[d][n]=f[d][n]=0);for(h=t.multiply(t.multiply(t.inv(t.add(g,c)),f),-1),l=t.multiply(t.inv(t.add(g,c)),s),a=r,p=t.add(t.multiply(h,r),l),d=2;e.abs(t.norm(t.subtract(p,a)))>o;)a=p,p=t.add(t.multiply(h,a),l),d+=1;return p},SOR:function(i,s,r,o,n){for(var a,l,h,p,d,u=0,c=i.length,f=[],g=[],m=[];u<c;u++)for(f[u]=[],g[u]=[],m[u]=[],a=0;a<c;a++)u>a?(f[u][a]=i[u][a],g[u][a]=m[u][a]=0):u<a?(g[u][a]=i[u][a],f[u][a]=m[u][a]=0):(m[u][a]=i[u][a],f[u][a]=g[u][a]=0);for(p=t.multiply(t.inv(t.add(m,t.multiply(f,n))),t.subtract(t.multiply(m,1-n),t.multiply(g,n))),h=t.multiply(t.multiply(t.inv(t.add(m,t.multiply(f,n))),s),n),l=r,d=t.add(t.multiply(p,r),h),u=2;e.abs(t.norm(t.subtract(d,l)))>o;)l=d,d=t.add(t.multiply(p,l),h),u++;return d},householder:function(i){for(var s,r,o,n,a=i.length,l=i[0].length,h=0,p=[],d=[];h<a-1;h++){for(s=0,n=h+1;n<l;n++)s+=i[n][h]*i[n][h];for(s=(i[h+1][h]>0?-1:1)*e.sqrt(s),r=e.sqrt((s*s-i[h+1][h]*s)/2),(p=t.zeros(a,1))[h+1][0]=(i[h+1][h]-s)/(2*r),o=h+2;o<a;o++)p[o][0]=i[o][h]/(2*r);d=t.subtract(t.identity(a,l),t.multiply(t.multiply(p,t.transpose(p)),2)),i=t.multiply(d,t.multiply(i,d))}return i},QR:(i=t.sum,s=t.arange,function(r){var o,n,a,l=r.length,h=r[0].length,p=t.zeros(h,h);for(r=t.copy(r),n=0;n<h;n++){for(p[n][n]=e.sqrt(i(s(l).map((function(t){return r[t][n]*r[t][n]})))),o=0;o<l;o++)r[o][n]=r[o][n]/p[n][n];for(a=n+1;a<h;a++)for(p[n][a]=i(s(l).map((function(t){return r[t][n]*r[t][a]}))),o=0;o<l;o++)r[o][a]=r[o][a]-r[o][n]*p[n][a]}return[r,p]}),lstsq:function(e,i){var s=!1;void 0===i[0].length&&(i=i.map((function(t){return[t]})),s=!0);var r=t.QR(e),o=r[0],n=r[1],a=e[0].length,l=t.slice(o,{col:{end:a}}),h=function(e){var i=(e=t.copy(e)).length,s=t.identity(i);return t.arange(i-1,-1,-1).forEach((function(i){t.sliceAssign(s,{row:i},t.divide(t.slice(s,{row:i}),e[i][i])),t.sliceAssign(e,{row:i},t.divide(t.slice(e,{row:i}),e[i][i])),t.arange(i).forEach((function(r){var o=t.multiply(e[r][i],-1),n=t.slice(e,{row:r}),a=t.multiply(t.slice(e,{row:i}),o);t.sliceAssign(e,{row:r},t.add(n,a));var l=t.slice(s,{row:r}),h=t.multiply(t.slice(s,{row:i}),o);t.sliceAssign(s,{row:r},t.add(l,h))}))})),s}(t.slice(n,{row:{end:a}})),p=t.transpose(l);void 0===p[0].length&&(p=[p]);var d=t.multiply(t.multiply(h,p),i);return void 0===d.length&&(d=[[d]]),s?d.map((function(t){return t[0]})):d},jacobi:function(i){for(var s,r,o,n,a,l,h,p=1,d=i.length,u=t.identity(d,d),c=[];1===p;){for(a=i[0][1],o=0,n=1,s=0;s<d;s++)for(r=0;r<d;r++)s!=r&&a<e.abs(i[s][r])&&(a=e.abs(i[s][r]),o=s,n=r);for(l=i[o][o]===i[n][n]?i[o][n]>0?e.PI/4:-e.PI/4:e.atan(2*i[o][n]/(i[o][o]-i[n][n]))/2,(h=t.identity(d,d))[o][o]=e.cos(l),h[o][n]=-e.sin(l),h[n][o]=e.sin(l),h[n][n]=e.cos(l),u=t.multiply(u,h),i=t.multiply(t.multiply(t.inv(h),i),h),p=0,s=1;s<d;s++)for(r=1;r<d;r++)s!=r&&e.abs(i[s][r])>.001&&(p=1)}for(s=0;s<d;s++)c.push(i[s][s]);return[u,c]},rungekutta:function(t,e,i,s,r,o){var n,a,l;if(2===o)for(;s<=i;)r+=((n=e*t(s,r))+(a=e*t(s+e,r+n)))/2,s+=e;if(4===o)for(;s<=i;)r+=((n=e*t(s,r))+2*(a=e*t(s+e/2,r+n/2))+2*(l=e*t(s+e/2,r+a/2))+e*t(s+e,r+l))/6,s+=e;return r},romberg:function(t,i,s,r){for(var o,n,a,l,h,p=0,d=(s-i)/2,u=[],c=[],f=[];p<r/2;){for(h=t(i),a=i,l=0;a<=s;a+=d,l++)u[l]=a;for(o=u.length,a=1;a<o-1;a++)h+=(a%2!=0?4:2)*t(u[a]);h=d/3*(h+t(s)),f[p]=h,d/=2,p++}for(n=f.length,o=1;1!==n;){for(a=0;a<n-1;a++)c[a]=(e.pow(4,o)*f[a+1]-f[a])/(e.pow(4,o)-1);n=c.length,f=c,c=[],o++}return f},richardson:function(t,i,s,r){function o(t,e){for(var i,s=0,r=t.length;s<r;s++)t[s]===e&&(i=s);return i}for(var n,a,l,h,p,d=e.abs(s-t[o(t,s)+1]),u=0,c=[],f=[];r>=d;)n=o(t,s+r),a=o(t,s),c[u]=(i[n]-2*i[a]+i[2*a-n])/(r*r),r/=2,u++;for(h=c.length,l=1;1!=h;){for(p=0;p<h-1;p++)f[p]=(e.pow(4,l)*c[p+1]-c[p])/(e.pow(4,l)-1);h=f.length,c=f,f=[],l++}return c},simpson:function(t,e,i,s){for(var r,o=(i-e)/s,n=t(e),a=[],l=e,h=0,p=1;l<=i;l+=o,h++)a[h]=l;for(r=a.length;p<r-1;p++)n+=(p%2!=0?4:2)*t(a[p]);return o/3*(n+t(i))},hermite:function(t,e,i,s){for(var r,o=t.length,n=0,a=0,l=[],h=[],p=[],d=[];a<o;a++){for(l[a]=1,r=0;r<o;r++)a!=r&&(l[a]*=(s-t[r])/(t[a]-t[r]));for(h[a]=0,r=0;r<o;r++)a!=r&&(h[a]+=1/(t[a]-t[r]));p[a]=(1-2*(s-t[a])*h[a])*(l[a]*l[a]),d[a]=(s-t[a])*(l[a]*l[a]),n+=p[a]*e[a]+d[a]*i[a]}return n},lagrange:function(t,e,i){for(var s,r,o=0,n=0,a=t.length;n<a;n++){for(r=e[n],s=0;s<a;s++)n!=s&&(r*=(i-t[s])/(t[n]-t[s]));o+=r}return o},cubic_spline:function(e,i,s){for(var r,o,n=e.length,a=0,l=[],h=[],p=[],d=[],u=[],c=[];a<n-1;a++)d[a]=e[a+1]-e[a];for(p[0]=0,a=1;a<n-1;a++)p[a]=3/d[a]*(i[a+1]-i[a])-3/d[a-1]*(i[a]-i[a-1]);for(a=1;a<n-1;a++)l[a]=[],h[a]=[],l[a][a-1]=d[a-1],l[a][a]=2*(d[a-1]+d[a]),l[a][a+1]=d[a],h[a][0]=p[a];for(o=t.multiply(t.inv(l),h),r=0;r<n-1;r++)u[r]=(i[r+1]-i[r])/d[r]-d[r]*(o[r+1][0]+2*o[r][0])/3,c[r]=(o[r+1][0]-o[r][0])/(3*d[r]);for(r=0;r<n&&!(e[r]>s);r++);return i[r-=1]+(s-e[r])*u[r]+t.sq(s-e[r])*o[r]+(s-e[r])*t.sq(s-e[r])*c[r]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(e){var i,s,r,o,n,a=e.length,l=e[0].length,h=0,p=[],d=[],u=[],c=[],f=[],g=[],m=[];for(h=0;h<a;h++)p[h]=t.sum(e[h])/l;for(h=0;h<l;h++)for(f[h]=[],i=0;i<a;i++)f[h][i]=e[i][h]-p[i];for(f=t.transpose(f),h=0;h<a;h++)for(g[h]=[],i=0;i<a;i++)g[h][i]=t.dot([f[h]],[f[i]])/(l-1);for(n=(r=t.jacobi(g))[0],d=r[1],m=t.transpose(n),h=0;h<d.length;h++)for(i=h;i<d.length;i++)d[h]<d[i]&&(s=d[h],d[h]=d[i],d[i]=s,u=m[h],m[h]=m[i],m[i]=u);for(o=t.transpose(f),h=0;h<a;h++)for(c[h]=[],i=0;i<o.length;i++)c[h][i]=t.dot([m[h]],[o[i]]);return[e,d,m,c]}}),function(e){for(var i=0;i<e.length;i++)!function(e){t.fn[e]=function(i,s){var r=this;return s?(setTimeout((function(){s.call(r,t.fn[e].call(r,i))}),15),this):"number"==typeof t[e](this,i)?t[e](this,i):t(t[e](this,i))}}(e[i])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(e,Math),function(t,e){var i=[].slice,s=t.utils.isNumber,r=t.utils.isArray;function o(t,i,s,r){if(t>1||s>1||t<=0||s<=0)throw new Error("Proportions should be greater than 0 and less than 1");var o=(t*i+s*r)/(i+r);return(t-s)/e.sqrt(o*(1-o)*(1/i+1/r))}t.extend({zscore:function(){var e=i.call(arguments);return s(e[1])?(e[0]-e[1])/e[2]:(e[0]-t.mean(e[1]))/t.stdev(e[1],e[2])},ztest:function(){var s,o=i.call(arguments);return r(o[1])?(s=t.zscore(o[0],o[1],o[3]),1===o[2]?t.normal.cdf(-e.abs(s),0,1):2*t.normal.cdf(-e.abs(s),0,1)):o.length>2?(s=t.zscore(o[0],o[1],o[2]),1===o[3]?t.normal.cdf(-e.abs(s),0,1):2*t.normal.cdf(-e.abs(s),0,1)):(s=o[0],1===o[1]?t.normal.cdf(-e.abs(s),0,1):2*t.normal.cdf(-e.abs(s),0,1))}}),t.extend(t.fn,{zscore:function(t,e){return(t-this.mean())/this.stdev(e)},ztest:function(i,s,r){var o=e.abs(this.zscore(i,r));return 1===s?t.normal.cdf(-o,0,1):2*t.normal.cdf(-o,0,1)}}),t.extend({tscore:function(){var s=i.call(arguments);return 4===s.length?(s[0]-s[1])/(s[2]/e.sqrt(s[3])):(s[0]-t.mean(s[1]))/(t.stdev(s[1],!0)/e.sqrt(s[1].length))},ttest:function(){var r,o=i.call(arguments);return 5===o.length?(r=e.abs(t.tscore(o[0],o[1],o[2],o[3])),1===o[4]?t.studentt.cdf(-r,o[3]-1):2*t.studentt.cdf(-r,o[3]-1)):s(o[1])?(r=e.abs(o[0]),1==o[2]?t.studentt.cdf(-r,o[1]-1):2*t.studentt.cdf(-r,o[1]-1)):(r=e.abs(t.tscore(o[0],o[1])),1==o[2]?t.studentt.cdf(-r,o[1].length-1):2*t.studentt.cdf(-r,o[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/e.sqrt(this.cols()))},ttest:function(i,s){return 1===s?1-t.studentt.cdf(e.abs(this.tscore(i)),this.cols()-1):2*t.studentt.cdf(-e.abs(this.tscore(i)),this.cols()-1)}}),t.extend({anovafscore:function(){var s,r,o,n,a,l,h,p,d=i.call(arguments);if(1===d.length){for(a=new Array(d[0].length),h=0;h<d[0].length;h++)a[h]=d[0][h];d=a}for(r=new Array,h=0;h<d.length;h++)r=r.concat(d[h]);for(o=t.mean(r),s=0,h=0;h<d.length;h++)s+=d[h].length*e.pow(t.mean(d[h])-o,2);for(s/=d.length-1,l=0,h=0;h<d.length;h++)for(n=t.mean(d[h]),p=0;p<d[h].length;p++)l+=e.pow(d[h][p]-n,2);return s/(l/(r.length-d.length))},anovaftest:function(){var e,r,o,n,a=i.call(arguments);if(s(a[0]))return 1-t.centralF.cdf(a[0],a[1],a[2]);var l=t.anovafscore(a);for(e=a.length-1,o=0,n=0;n<a.length;n++)o+=a[n].length;return r=o-e-1,1-t.centralF.cdf(l,e,r)},ftest:function(e,i,s){return 1-t.centralF.cdf(e,i,s)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var e,i=0;for(e=0;e<this.length;e++)i+=this[e].length;return t.ftest(this.anovafscore(),this.length-1,i-this.length)}}),t.extend({qscore:function(){var r,o,n,a,l,h=i.call(arguments);return s(h[0])?(r=h[0],o=h[1],n=h[2],a=h[3],l=h[4]):(r=t.mean(h[0]),o=t.mean(h[1]),n=h[0].length,a=h[1].length,l=h[2]),e.abs(r-o)/(l*e.sqrt((1/n+1/a)/2))},qtest:function(){var e,s=i.call(arguments);3===s.length?(e=s[0],s=s.slice(1)):7===s.length?(e=t.qscore(s[0],s[1],s[2],s[3],s[4]),s=s.slice(5)):(e=t.qscore(s[0],s[1],s[2]),s=s.slice(3));var r=s[0],o=s[1];return 1-t.tukey.cdf(e,o,r-o)},tukeyhsd:function(e){for(var i=t.pooledstdev(e),s=e.map((function(e){return t.mean(e)})),r=e.reduce((function(t,e){return t+e.length}),0),o=[],n=0;n<e.length;++n)for(var a=n+1;a<e.length;++a){var l=t.qtest(s[n],s[a],e[n].length,e[a].length,i,r,e.length);o.push([[n,a],l])}return o}}),t.extend({normalci:function(){var s,r=i.call(arguments),o=new Array(2);return s=4===r.length?e.abs(t.normal.inv(r[1]/2,0,1)*r[2]/e.sqrt(r[3])):e.abs(t.normal.inv(r[1]/2,0,1)*t.stdev(r[2])/e.sqrt(r[2].length)),o[0]=r[0]-s,o[1]=r[0]+s,o},tci:function(){var s,r=i.call(arguments),o=new Array(2);return s=4===r.length?e.abs(t.studentt.inv(r[1]/2,r[3]-1)*r[2]/e.sqrt(r[3])):e.abs(t.studentt.inv(r[1]/2,r[2].length-1)*t.stdev(r[2],!0)/e.sqrt(r[2].length)),o[0]=r[0]-s,o[1]=r[0]+s,o},significant:function(t,e){return t<e}}),t.extend(t.fn,{normalci:function(e,i){return t.normalci(e,i,this.toArray())},tci:function(e,i){return t.tci(e,i,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(e,i,s,r){var n=o(e,i,s,r);return t.ztest(n,1)},twoSidedDifferenceOfProportions:function(e,i,s,r){var n=o(e,i,s,r);return t.ztest(n,2)}})}(e,Math),e.models=function(){function t(t,i){var s=t.length,r=i[0].length-1,o=s-r-1,n=e.lstsq(i,t),a=e.multiply(i,n.map((function(t){return[t]}))).map((function(t){return t[0]})),l=e.subtract(t,a),h=e.mean(t),p=e.sum(a.map((function(t){return Math.pow(t-h,2)}))),d=e.sum(t.map((function(t,e){return Math.pow(t-a[e],2)}))),u=p+d;return{exog:i,endog:t,nobs:s,df_model:r,df_resid:o,coef:n,predict:a,resid:l,ybar:h,SST:u,SSE:p,SSR:d,R2:p/u}}function i(i){var s,r,o=(s=i.exog,r=s[0].length,e.arange(r).map((function(i){var o=e.arange(r).filter((function(t){return t!==i}));return t(e.col(s,i).map((function(t){return t[0]})),e.col(s,o))}))),n=Math.sqrt(i.SSR/i.df_resid),a=o.map((function(t){var e=t.SST,i=t.R2;return n/Math.sqrt(e*(1-i))})),l=i.coef.map((function(t,e){return(t-0)/a[e]})),h=l.map((function(t){var s=e.studentt.cdf(t,i.df_resid);return 2*(s>.5?1-s:s)})),p=e.studentt.inv(.975,i.df_resid),d=i.coef.map((function(t,e){var i=p*a[e];return[t-i,t+i]}));return{se:a,t:l,p:h,sigmaHat:n,interval95:d}}return{ols:function(s,r){var o=t(s,r),n=i(o),a=function(t){var i,s,r,o=t.R2/t.df_model/((1-t.R2)/t.df_resid);return{F_statistic:o,pvalue:1-(i=o,s=t.df_model,r=t.df_resid,e.beta.cdf(i/(r/s+i),s/2,r/2))}}(o),l=1-(1-o.R2)*((o.nobs-1)/o.df_resid);return o.t=n,o.f=a,o.adjust_R2=l,o}}}(),e.extend({buildxmatrix:function(){for(var t=new Array(arguments.length),i=0;i<arguments.length;i++){t[i]=[1].concat(arguments[i])}return e(t)},builddxmatrix:function(){for(var t=new Array(arguments[0].length),i=0;i<arguments[0].length;i++){t[i]=[1].concat(arguments[0][i])}return e(t)},buildjxmatrix:function(t){for(var i=new Array(t.length),s=0;s<t.length;s++)i[s]=t[s];return e.builddxmatrix(i)},buildymatrix:function(t){return e(t).transpose()},buildjymatrix:function(t){return t.transpose()},matrixmult:function(t,i){var s,r,o,n,a;if(t.cols()==i.rows()){if(i.rows()>1){for(n=[],s=0;s<t.rows();s++)for(n[s]=[],r=0;r<i.cols();r++){for(a=0,o=0;o<t.cols();o++)a+=t.toArray()[s][o]*i.toArray()[o][r];n[s][r]=a}return e(n)}for(n=[],s=0;s<t.rows();s++)for(n[s]=[],r=0;r<i.cols();r++){for(a=0,o=0;o<t.cols();o++)a+=t.toArray()[s][o]*i.toArray()[r];n[s][r]=a}return e(n)}},regress:function(t,i){var s=e.xtranspxinv(t),r=t.transpose(),o=e.matrixmult(e(s),r);return e.matrixmult(o,i)},regresst:function(t,i,s){var r=e.regress(t,i),o={anova:{}},n=e.jMatYBar(t,r);o.yBar=n;var a=i.mean();o.anova.residuals=e.residuals(i,n),o.anova.ssr=e.ssr(n,a),o.anova.msr=o.anova.ssr/(t[0].length-1),o.anova.sse=e.sse(i,n),o.anova.mse=o.anova.sse/(i.length-(t[0].length-1)-1),o.anova.sst=e.sst(i,a),o.anova.mst=o.anova.sst/(i.length-1),o.anova.r2=1-o.anova.sse/o.anova.sst,o.anova.r2<0&&(o.anova.r2=0),o.anova.fratio=o.anova.msr/o.anova.mse,o.anova.pvalue=e.anovaftest(o.anova.fratio,t[0].length-1,i.length-(t[0].length-1)-1),o.anova.rmse=Math.sqrt(o.anova.mse),o.anova.r2adj=1-o.anova.mse/o.anova.mst,o.anova.r2adj<0&&(o.anova.r2adj=0),o.stats=new Array(t[0].length);for(var l,h,p,d=e.xtranspxinv(t),u=0;u<r.length;u++)l=Math.sqrt(o.anova.mse*Math.abs(d[u][u])),h=Math.abs(r[u]/l),p=e.ttest(h,i.length-t[0].length-1,s),o.stats[u]=[r[u],l,h,p];return o.regress=r,o},xtranspx:function(t){return e.matrixmult(t.transpose(),t)},xtranspxinv:function(t){var i=e.matrixmult(t.transpose(),t);return e.inv(i)},jMatYBar:function(t,i){var s=e.matrixmult(t,i);return new e(s)},residuals:function(t,i){return e.matrixsubtract(t,i)},ssr:function(t,e){for(var i=0,s=0;s<t.length;s++)i+=Math.pow(t[s]-e,2);return i},sse:function(t,e){for(var i=0,s=0;s<t.length;s++)i+=Math.pow(t[s]-e[s],2);return i},sst:function(t,e){for(var i=0,s=0;s<t.length;s++)i+=Math.pow(t[s]-e,2);return i},matrixsubtract:function(t,i){for(var s=new Array(t.length),r=0;r<t.length;r++){s[r]=new Array(t[r].length);for(var o=0;o<t[r].length;o++)s[r][o]=t[r][o]-i[r][o]}return e(s)}}),e.jStat=e,e)},5357:(t,e,i)=>{var s,r,o;o=function(t){"use strict";var e=t?t._modules:{};function i(e,i,s,r){e.hasOwnProperty(i)||(e[i]=r.apply(null,s),"function"==typeof CustomEvent&&t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}i(e,"Extensions/Pane/PaneComposition.js",[e["Core/Utilities.js"]],(function(t){let{addEvent:e,correctFloat:i,defined:s,pick:r}=t;function o(t){let e,i=this;return t&&i.pane.forEach((s=>{n(t.chartX-i.plotLeft,t.chartY-i.plotTop,s.center)&&(e=s)})),e}function n(t,e,r,o,n){let a=!0,l=r[0],h=r[1],p=Math.sqrt(Math.pow(t-l,2)+Math.pow(e-h,2));if(s(o)&&s(n)){let s=Math.atan2(i(e-h,8),i(t-l,8));n!==o&&(a=o>n?s>=o&&s<=Math.PI||s<=n&&s>=-Math.PI:s>=o&&s<=i(n,8))}return p<=Math.ceil(r[2]/2)&&a}function a(t){this.polar&&(t.options.inverted&&([t.x,t.y]=[t.y,t.x]),t.isInsidePlot=this.pane.some((e=>n(t.x,t.y,e.center,e.axis&&e.axis.normalizedStartAngleRad,e.axis&&e.axis.normalizedEndAngleRad))))}function l(t){let e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!n(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)}function h(t){let e=this.chart;e.polar?(e.hoverPane=e.getHoverPane(t),t.filter=function(i){return i.visible&&!(!t.shared&&i.directTouch)&&r(i.options.enableMouseTracking,!0)&&(!e.hoverPane||i.xAxis.pane===e.hoverPane)}):e.hoverPane=void 0}return{compose:function(t,i){let s=t.prototype;s.getHoverPane||(s.collectionsWithUpdate.push("pane"),s.getHoverPane=o,e(t,"afterIsInsidePlot",a),e(i,"afterGetHoverData",l),e(i,"beforeGetHoverData",h))}}})),i(e,"Extensions/Pane/PaneDefaults.js",[],(function(){return{pane:{center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},background:{shape:"circle",borderRadius:0,borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}})),i(e,"Extensions/Pane/Pane.js",[e["Series/CenteredUtilities.js"],e["Extensions/Pane/PaneComposition.js"],e["Extensions/Pane/PaneDefaults.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{extend:r,merge:o,splat:n}=s;class a{constructor(t,e){this.coll="pane",this.init(t,e)}init(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)}setOptions(t){this.options=t=o(i.pane,this.chart.angular?{background:{}}:void 0,t)}render(){let t=this.options,e=this.chart.renderer;this.group||(this.group=e.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter();let s=this.options.background;if(s){let t=Math.max((s=n(s)).length,this.background.length||0);for(let e=0;e<t;e++)s[e]&&this.axis?this.renderBackground(o(i.background,s[e]),e):this.background[e]&&(this.background[e]=this.background[e].destroy(),this.background.splice(e,1))}}renderBackground(t,e){let i={class:"highcharts-pane "+(t.className||"")},s="animate";this.chart.styledMode||r(i,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),s="attr"),this.background[e][s]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(i)}updateCenter(e){this.center=(e||this.axis||{}).center=t.getCenter.call(this)}update(t,e){o(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach((function(t){t.pane===this&&(t.pane=null,t.update({},e))}),this)}}return a.compose=e.compose,a})),i(e,"Series/AreaRange/AreaRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{area:{prototype:{pointClass:i,pointClass:{prototype:s}}}}=t.seriesTypes,{defined:r,isNumber:o}=e;return class extends i{setState(){let t=this.state,e=this.series,i=e.chart.polar;r(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),r(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic,this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,i&&o(this.plotHighX)&&(this.plotX=this.plotHighX),s.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],i&&o(this.plotLowX)&&(this.plotX=this.plotLowX),e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0;let n=e.modifyMarkerSettings();s.setState.apply(this,arguments),e.restoreMarkerSettings(n)}haloPath(){let t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&o(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(e=s.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&o(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(s.haloPath.apply(this,arguments))),e}isValid(){return o(this.low)&&o(this.high)}}})),i(e,"Series/AreaRange/AreaRangeSeries.js",[e["Series/AreaRange/AreaRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{noop:r}=e,{area:o,area:{prototype:n},column:{prototype:a}}=i.seriesTypes,{addEvent:l,defined:h,extend:p,isArray:d,isNumber:u,pick:c,merge:f}=s;class g extends o{toYData(t){return[t.low,t.high]}highToXY(t){let e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX||0,this.yAxis.len-(t.plotHigh||0));t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX}getGraphPath(t){let e,i,s,r=[],o=[],a=n.getGraphPath,l=this.options,h=this.chart.polar,p=h&&!1!==l.connectEnds,d=l.connectNulls,u=l.step;for(e=(t=t||this.points).length;e--;){i=t[e];let n=h?{plotX:i.rectPlotX,plotY:i.yBottom,doCurve:!1}:{plotX:i.plotX,plotY:i.plotY,doCurve:!1};i.isNull||p||d||t[e+1]&&!t[e+1].isNull||o.push(n),s={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:c(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},o.push(s),r.push(s),i.isNull||p||d||t[e-1]&&!t[e-1].isNull||o.push(n)}let f=a.call(this,t);u&&(!0===u&&(u="left"),l.step={left:"right",center:"center",right:"left"}[u]);let g=a.call(this,r),m=a.call(this,o);l.step=u;let x=[].concat(f,g);return!this.chart.polar&&m[0]&&"M"===m[0][0]&&(m[0]=["L",m[0][1],m[0][2]]),this.graphPath=x,this.areaPath=f.concat(m),x.isArea=!0,x.xMap=f.xMap,this.areaPath.xMap=f.xMap,x}drawDataLabels(){let t,e,i,s,r,o=this.points,a=o.length,l=[],h=this.options.dataLabels,u=this.chart.inverted;if(h){if(d(h)?(s=h[0]||{enabled:!1},r=h[1]||{enabled:!1}):((s=p({},h)).x=h.xHigh,s.y=h.yHigh,(r=p({},h)).x=h.xLow,r.y=h.yLow),s.enabled||this.hasDataLabels?.()){for(t=a;t--;)if(e=o[t]){let{plotHigh:r=0,plotLow:o=0}=e;i=s.inside?r<o:r>o,e.y=e.high,e._plotY=e.plotY,e.plotY=r,l[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,u?s.align||(s.align=i?"right":"left"):s.verticalAlign||(s.verticalAlign=i?"top":"bottom")}for(this.options.dataLabels=s,n.drawDataLabels&&n.drawDataLabels.apply(this,arguments),t=a;t--;)(e=o[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=l[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(r.enabled||this.hasDataLabels?.()){for(t=a;t--;)if(e=o[t]){let{plotHigh:t=0,plotLow:s=0}=e;i=r.inside?t<s:t>s,e.below=!i,u?r.align||(r.align=i?"left":"right"):r.verticalAlign||(r.verticalAlign=i?"bottom":"top")}this.options.dataLabels=r,n.drawDataLabels&&n.drawDataLabels.apply(this,arguments)}if(s.enabled)for(t=a;t--;)(e=o[t])&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel].filter((function(t){return!!t})));this.options.dataLabels=h}}alignDataLabel(){a.alignDataLabel.apply(this,arguments)}modifyMarkerSettings(){let t={marker:this.options.marker,symbol:this.symbol};if(this.options.lowMarker){let{options:{marker:t,lowMarker:e}}=this;this.options.marker=f(t,e),e.symbol&&(this.symbol=e.symbol)}return t}restoreMarkerSettings(t){this.options.marker=t.marker,this.symbol=t.symbol}drawPoints(){let t,e,i=this.points.length,s=this.modifyMarkerSettings();for(n.drawPoints.apply(this,arguments),this.restoreMarkerSettings(s),t=0;t<i;)(e=this.points[t]).graphics=e.graphics||[],e.origProps={plotY:e.plotY,plotX:e.plotX,isInside:e.isInside,negative:e.negative,zone:e.zone,y:e.y},(e.graphic||e.graphics[0])&&(e.graphics[0]=e.graphic),e.graphic=e.graphics[1],e.plotY=e.plotHigh,h(e.plotHighX)&&(e.plotX=e.plotHighX),e.y=c(e.high,e.origProps.y),e.negative=e.y<(this.options.threshold||0),this.zones.length&&(e.zone=e.getZone()),this.chart.polar||(e.isInside=e.isTopInside=void 0!==e.plotY&&e.plotY>=0&&e.plotY<=this.yAxis.len&&e.plotX>=0&&e.plotX<=this.xAxis.len),t++;for(n.drawPoints.apply(this,arguments),t=0;t<i;)(e=this.points[t]).graphics=e.graphics||[],(e.graphic||e.graphics[1])&&(e.graphics[1]=e.graphic),e.graphic=e.graphics[0],e.origProps&&(p(e,e.origProps),delete e.origProps),t++}hasMarkerChanged(t,e){let i=t.lowMarker,s=e.lowMarker||{};return i&&(!1===i.enabled||s.symbol!==i.symbol||s.height!==i.height||s.width!==i.width)||super.hasMarkerChanged(t,e)}}return g.defaultOptions=f(o.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),l(g,"afterTranslate",(function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach((t=>{let e=t.high,i=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=i,t.plotHigh=u(e)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(e):e,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))}))}),{order:0}),l(g,"afterTranslate",(function(){this.points.forEach((t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{let e=t.pos(!1,t.plotLow),i=t.pos(!1,t.plotHigh);e&&i&&(e[0]=(e[0]+i[0])/2,e[1]=(e[1]+i[1])/2),t.tooltipPos=e}}))}),{order:3}),p(g.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:t,pointValKey:"low",setStackedPoints:r}),i.registerSeriesType("arearange",g),g})),i(e,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[e["Series/AreaRange/AreaRangeSeries.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{spline:{prototype:s}}=e.seriesTypes,{merge:r,extend:o}=i;class n extends t{}return n.defaultOptions=r(t.defaultOptions),o(n.prototype,{getPointSpline:s.getPointSpline}),e.registerSeriesType("areasplinerange",n),n})),i(e,"Series/BoxPlot/BoxPlotSeriesDefaults.js",[],(function(){return{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}})),i(e,"Series/BoxPlot/BoxPlotSeries.js",[e["Series/BoxPlot/BoxPlotSeriesDefaults.js"],e["Series/Column/ColumnSeries.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r){let{noop:o}=i,{crisp:n,extend:a,merge:l,pick:h}=r;class p extends e{pointAttribs(){return{}}translate(){let t=this.yAxis,e=this.pointArrayMap;super.translate.apply(this),this.points.forEach((function(i){e.forEach((function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))})),i.plotHigh=i.highPlot}))}drawPoints(){let t,e,i,s,r,o,a,l,p,d,u,c=this.points,f=this.options,g=this.chart,m=g.renderer,x=!1!==this.doQuartiles,b=this.options.whiskerLength;for(let v of c){let c=(o=v.graphic)?"animate":"attr",y=v.shapeArgs,w={},S={},M={},A={},k=v.color||this.color;if(void 0!==v.plotY){let C;a=y.width,p=(l=y.x)+a,d=a/2,t=x?v.q1Plot:v.lowPlot,e=x?v.q3Plot:v.lowPlot,i=v.highPlot,s=v.lowPlot,o||(v.graphic=o=m.g("point").add(this.group),v.stem=m.path().addClass("highcharts-boxplot-stem").add(o),b&&(v.whiskers=m.path().addClass("highcharts-boxplot-whisker").add(o)),x&&(v.box=m.path(void 0).addClass("highcharts-boxplot-box").add(o)),v.medianShape=m.path(void 0).addClass("highcharts-boxplot-median").add(o)),g.styledMode||(S.stroke=v.stemColor||f.stemColor||k,S["stroke-width"]=h(v.stemWidth,f.stemWidth,f.lineWidth),S.dashstyle=v.stemDashStyle||f.stemDashStyle||f.dashStyle,v.stem.attr(S),b&&(M.stroke=v.whiskerColor||f.whiskerColor||k,M["stroke-width"]=h(v.whiskerWidth,f.whiskerWidth,f.lineWidth),M.dashstyle=v.whiskerDashStyle||f.whiskerDashStyle||f.dashStyle,v.whiskers.attr(M)),x&&(w.fill=v.fillColor||f.fillColor||k,w.stroke=f.lineColor||k,w["stroke-width"]=f.lineWidth||0,w.dashstyle=v.boxDashStyle||f.boxDashStyle||f.dashStyle,v.box.attr(w)),A.stroke=v.medianColor||f.medianColor||k,A["stroke-width"]=h(v.medianWidth,f.medianWidth,f.lineWidth),A.dashstyle=v.medianDashStyle||f.medianDashStyle||f.dashStyle,v.medianShape.attr(A));let P=n((v.plotX||0)+(this.pointXOffset||0)+(this.barW||0)/2,v.stem.strokeWidth());if(C=[["M",P,e],["L",P,i],["M",P,t],["L",P,s]],v.stem[c]({d:C}),x){let i=v.box.strokeWidth();t=n(t,i),e=n(e,i),C=[["M",l=n(l,i),e],["L",l,t],["L",p=n(p,i),t],["L",p,e],["L",l,e],["Z"]],v.box[c]({d:C})}if(b){let t=v.whiskers.strokeWidth();i=n(v.highPlot,t),s=n(v.lowPlot,t),C=[["M",n(P-(u="string"==typeof b&&/%$/.test(b)?d*parseFloat(b)/100:Number(b)/2)),i],["L",n(P+u),i],["M",n(P-u),s],["L",n(P+u),s]],v.whiskers[c]({d:C})}C=[["M",l,r=n(v.medianPlot,v.medianShape.strokeWidth())],["L",p,r]],v.medianShape[c]({d:C})}}}toYData(t){return[t.low,t.q1,t.median,t.q3,t.high]}}return p.defaultOptions=l(e.defaultOptions,t),a(p.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:o,setStackedPoints:o}),s.registerSeriesType("boxplot",p),p})),i(e,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),i(e,"Series/Bubble/BubbleLegendItem.js",[e["Core/Color/Color.js"],e["Core/Templating.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{parse:r}=t,{noop:o}=i,{arrayMax:n,arrayMin:a,isNumber:l,merge:h,pick:p,stableSort:d}=s;return class{constructor(t,e){this.setState=o,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){let e,i=p(t.options.itemDistance,20),s=this.legendItem||{},r=this.options,o=r.ranges,n=r.connectorDistance;if(!o||!o.length||!l(o[0].value))return void(t.options.bubbleLegend.autoRanges=!0);d(o,(function(t,e){return e.value-t.value})),this.ranges=o,this.setOptions(),this.render();let a=this.getMaxLabelSize(),h=this.ranges[0].radius,u=2*h;e=(e=n-h+a.width)>0?e:0,this.maxLabel=a,this.movementX="left"===r.labels.align?e:0,s.labelWidth=u+e+i,s.labelHeight=u+a.height/2}setOptions(){let t=this.ranges,e=this.options,i=this.chart.series[e.seriesIndex],s=this.legend.baseline,o={zIndex:e.zIndex,"stroke-width":e.borderWidth},n={zIndex:e.zIndex,"stroke-width":e.connectorWidth},a={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},l=i.options.marker.fillOpacity,d=this.chart.styledMode;t.forEach((function(u,c){d||(o.stroke=p(u.borderColor,e.borderColor,i.color),o.fill=p(u.color,e.color,1!==l?r(i.color).setOpacity(l).get("rgba"):i.color),n.stroke=p(u.connectorColor,e.connectorColor,i.color)),t[c].radius=this.getRangeRadius(u.value),t[c]=h(t[c],{center:t[0].radius-t[c].radius+s}),d||h(!0,t[c],{bubbleAttribs:h(o),connectorAttribs:h(n),labelAttribs:a})}),this)}getRangeRadius(t){let e=this.options,i=this.options.seriesIndex,s=this.chart.series[i],r=e.ranges[0].value,o=e.ranges[e.ranges.length-1].value,n=e.minSize,a=e.maxSize;return s.getRadius.call(this,o,r,n,a,t)}render(){let t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;for(let s of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group),this.ranges))s.value>=i&&this.renderRange(s);this.hideOverlappingLabels()}renderRange(t){let e=this.ranges[0],i=this.legend,s=this.options,r=s.labels,o=this.chart,n=o.series[s.seriesIndex],a=o.renderer,l=this.symbols,h=l.labels,p=t.center,d=Math.abs(t.radius),u=s.connectorDistance||0,c=r.align,f=i.options.rtl,g=s.borderWidth,m=s.connectorWidth,x=e.radius||0,b=p-d-g/2+m/2,v=(b%1?1:.5)-(m%2?0:.5),y=a.styledMode,w=f||"left"===c?-u:u;"center"===c&&(w=0,s.connectorDistance=0,t.labelAttribs.align="center"),l.bubbleItems.push(a.circle(x,p+v,d).attr(y?{}:t.bubbleAttribs).addClass((y?"highcharts-color-"+n.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(s.className||"")).add(this.legendItem.symbol)),l.connectors.push(a.path(a.crispLine([["M",x,b],["L",x+w,b]],s.connectorWidth)).attr(y?{}:t.connectorAttribs).addClass((y?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(s.connectorClassName||"")).add(this.legendItem.symbol));let S=a.text(this.formatLabel(t)).attr(y?{}:t.labelAttribs).css(y?{}:r.style).addClass("highcharts-bubble-legend-labels "+(s.labels.className||"")).add(this.legendItem.symbol),M={x:x+w+s.labels.x,y:b+s.labels.y+.4*S.getBBox().height};S.attr(M),h.push(S),S.placed=!0,S.alignAttr=M}getMaxLabelSize(){let t,e;return this.symbols.labels.forEach((function(i){e=i.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}}formatLabel(t){let i=this.options,s=i.labels.formatter,r=i.labels.format,{numberFormatter:o}=this.chart;return r?e.format(r,t):s?s.call(t):o(t.value,1)}hideOverlappingLabels(){let t=this.chart,e=this.options.labels.allowOverlap,i=this.symbols;!e&&i&&(t.hideOverlappingLabels(i.labels),i.labels.forEach((function(t,e){t.newOpacity?t.newOpacity!==t.oldOpacity&&i.connectors[e].show():i.connectors[e].hide()})))}getRanges(){let t,e,i=this.legend.bubbleLegend,s=i.chart.series,r=i.options.ranges,o=Number.MAX_VALUE,d=-Number.MAX_VALUE;return s.forEach((function(t){t.isBubble&&!t.ignoreSeries&&(e=t.zData.filter(l)).length&&(o=p(t.options.zMin,Math.min(o,Math.max(a(e),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),d=p(t.options.zMax,Math.max(d,n(e))))})),t=o===d?[{value:d}]:[{value:o},{value:(o+d)/2},{value:d,autoRanges:!0}],r.length&&r[0].radius&&t.reverse(),t.forEach((function(e,i){r&&r[i]&&(t[i]=h(r[i],e))})),t}predictBubbleSizes(){let t,e=this.chart,i=e.legend.options,s=i.floating,r="horizontal"===i.layout,o=r?e.legend.lastLineHeight:0,n=e.plotSizeX,a=e.plotSizeY,l=e.series[this.options.seriesIndex],h=l.getPxExtremes(),p=Math.ceil(h.minPxSize),d=Math.ceil(h.maxPxSize),u=Math.min(a,n),c=l.options.maxSize;return s||!/%$/.test(c)?t=d:(t=(u+o)*(c=parseFloat(c))/100/(c/100+1),(r&&a-t>=n||!r&&n-t>=a)&&(t=d)),[p,Math.ceil(t)]}updateRanges(t,e){let i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()}correctSizes(){let t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}}})),i(e,"Series/Bubble/BubbleLegendComposition.js",[e["Series/Bubble/BubbleLegendDefaults.js"],e["Series/Bubble/BubbleLegendItem.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r){let{setOptions:o}=i,{composed:n}=s,{addEvent:a,objectEach:l,pushUnique:h,wrap:p}=r;function d(t,e,i){let s,r,o,n=this.legend,a=u(this)>=0;n&&n.options.enabled&&n.bubbleLegend&&n.options.bubbleLegend.autoRanges&&a?(s=n.bubbleLegend.options,r=n.bubbleLegend.predictBubbleSizes(),n.bubbleLegend.updateRanges(r[0],r[1]),s.placed||(n.group.placed=!1,n.allItems.forEach((t=>{(o=t.legendItem||{}).group&&(o.group.translateY=void 0)}))),n.render(),s.placed||(this.getMargins(),this.axes.forEach((function(t){t.visible&&t.render(),s.placed||(t.setScale(),t.updateNames(),l(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),this.getMargins()),s.placed=!0,t.call(this,e,i),n.bubbleLegend.correctSizes(),m(n,c(n))):(t.call(this,e,i),n&&n.options.enabled&&n.bubbleLegend&&(n.render(),m(n,c(n))))}function u(t){let e=t.series,i=0;for(;i<e.length;){if(e[i]&&e[i].isBubble&&e[i].visible&&e[i].zData.length)return i;i++}return-1}function c(t){let e,i,s,r=t.allItems,o=[],n=r.length,a=0,l=0;for(a=0;a<n;a++)if(i=r[a].legendItem||{},s=(r[a+1]||{}).legendItem||{},i.labelHeight&&(r[a].itemHeight=i.labelHeight),r[a]===r[n-1]||i.y!==s.y){for(o.push({height:0}),e=o[o.length-1];l<=a;l++)r[l].itemHeight>e.height&&(e.height=r[l].itemHeight);e.step=a}return o}function f(t){let i=this.bubbleLegend,s=this.options,r=s.bubbleLegend,o=u(this.chart);i&&i.ranges&&i.ranges.length&&(r.ranges.length&&(r.autoRanges=!!r.ranges[0].autoRanges),this.destroyItem(i)),o>=0&&s.enabled&&r.enabled&&(r.seriesIndex=o,this.bubbleLegend=new e(r,this),this.bubbleLegend.addToLegend(t.allItems))}function g(t){let e;if(t.defaultPrevented)return!1;let i=t.legendItem,s=this.chart,r=i.visible;this&&this.bubbleLegend&&(i.visible=!r,i.ignoreSeries=r,e=u(s)>=0,this.bubbleLegend.visible!==e&&(this.update({bubbleLegend:{enabled:e}}),this.bubbleLegend.visible=e),i.visible=r)}function m(t,e){let i,s,r,o,n=t.allItems,a=t.options.rtl,l=0;n.forEach(((t,n)=>{(o=t.legendItem||{}).group&&(i=o.group.translateX||0,s=o.y||0,((r=t.movementX)||a&&t.ranges)&&(r=a?i-t.options.maxSize/2:i+r,o.group.attr({translateX:r})),n>e[l].step&&l++,o.group.attr({translateY:Math.round(s+e[l].height/2)}),o.y=s+e[l].height/2)}))}return{compose:function(e,i){h(n,"Series.BubbleLegend")&&(o({legend:{bubbleLegend:t}}),p(e.prototype,"drawChartBox",d),a(i,"afterGetAllItems",f),a(i,"itemClick",g))}}})),i(e,"Series/Bubble/BubblePoint.js",[e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{seriesTypes:{scatter:{prototype:{pointClass:s}}}}=e,{extend:r}=i;class o extends s{haloPath(e){let i=(e&&this.marker&&this.marker.radius||0)+e;if(this.series.chart.inverted){let t=this.pos()||[0,0],{xAxis:e,yAxis:s,chart:r}=this.series;return r.renderer.symbols.circle(e.len-t[1]-i,s.len-t[0]-i,2*i,2*i)}return t.prototype.haloPath.call(this,i)}}return r(o.prototype,{ttBelow:!1}),o})),i(e,"Series/Bubble/BubbleSeries.js",[e["Series/Bubble/BubbleLegendComposition.js"],e["Series/Bubble/BubblePoint.js"],e["Core/Color/Color.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o){let{parse:n}=i,{composed:a,noop:l}=s,{series:h,seriesTypes:{column:{prototype:p},scatter:d}}=r,{addEvent:u,arrayMax:c,arrayMin:f,clamp:g,extend:m,isNumber:x,merge:b,pick:v,pushUnique:y}=o;function w(){let t,e=this.len,{coll:i,isXAxis:s,min:r}=this,o=s?"xData":"yData",n=(this.max||0)-(r||0),a=0,l=e,h=e/n;("xAxis"===i||"yAxis"===i)&&(this.series.forEach((e=>{if(e.bubblePadding&&e.reserveSpace()){this.allowZoomOutside=!0,t=!0;let i=e[o];if(s&&((e.onPoint||e).getRadii(0,0,e),e.onPoint&&(e.radii=e.onPoint.radii)),n>0){let t=i.length;for(;t--;)if(x(i[t])&&this.dataMin<=i[t]&&i[t]<=this.max){let s=e.radii&&e.radii[t]||0;a=Math.min((i[t]-r)*h-s,a),l=Math.max((i[t]-r)*h+s,l)}}}})),t&&n>0&&!this.logarithmic&&(l-=e,h*=(e+Math.max(0,a)-Math.min(l,e))/e,[["min","userMin",a],["max","userMax",l]].forEach((t=>{void 0===v(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/h)}))))}class S extends d{static compose(e,i,s){t.compose(i,s),y(a,"Series.Bubble")&&u(e,"foundExtremes",w)}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach((function(t){let{graphic:e,plotX:i=0,plotY:s=0}=t;e&&e.width&&(this.hasRendered||e.attr({x:i,y:s,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))}),this)}getRadii(){let t,e,i,s=this.zData,r=this.yData,o=[],n=this.chart.bubbleZExtremes,{minPxSize:a,maxPxSize:l}=this.getPxExtremes();if(!n){let t,e=Number.MAX_VALUE,i=-Number.MAX_VALUE;this.chart.series.forEach((s=>{if(s.bubblePadding&&s.reserveSpace()){let r=(s.onPoint||s).getZExtremes();r&&(e=Math.min(v(e,r.zMin),r.zMin),i=Math.max(v(i,r.zMax),r.zMax),t=!0)}})),t?(n={zMin:e,zMax:i},this.chart.bubbleZExtremes=n):n={zMin:0,zMax:0}}for(e=0,t=s.length;e<t;e++)i=s[e],o.push(this.getRadius(n.zMin,n.zMax,a,l,i,r&&r[e]));this.radii=o}getRadius(t,e,i,s,r,o){let n=this.options,a="width"!==n.sizeBy,l=n.zThreshold,h=e-t,p=.5;if(null===o||null===r)return null;if(x(r)){if(n.sizeByAbsoluteValue&&(r=Math.abs(r-l),e=h=Math.max(e-l,Math.abs(t-l)),t=0),r<t)return i/2-1;h>0&&(p=(r-t)/h)}return a&&p>=0&&(p=Math.sqrt(p)),Math.ceil(i+p*(s-i))/2}hasData(){return!!this.processedXData.length}markerAttribs(t,e){let i=super.markerAttribs(t,e),{height:s=0,width:r=0}=i;return this.chart.inverted?m(i,{x:(t.plotX||0)-r/2,y:(t.plotY||0)-s/2}):i}pointAttribs(t,e){let i=this.options.marker.fillOpacity,s=h.prototype.pointAttribs.call(this,t,e);return 1!==i&&(s.fill=n(s.fill).setOpacity(i).get("rgba")),s}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:t,options:e,radii:i}=this,{minPxSize:s}=this.getPxExtremes(),r=t.length;for(;r--;){let o=t[r],n=i?i[r]:0;"z"===this.zoneAxis&&(o.negative=(o.z||0)<(e.zThreshold||0)),x(n)&&n>=s/2?(o.marker=m(o.marker,{radius:n,width:2*n,height:2*n}),o.dlBox={x:o.plotX-n,y:o.plotY-n,width:2*n,height:2*n}):(o.shapeArgs=o.plotY=o.dlBox=void 0,o.isInside=!1)}}getPxExtremes(){let t=Math.min(this.chart.plotWidth,this.chart.plotHeight),e=e=>{let i;return"string"==typeof e&&(i=/%$/.test(e),e=parseInt(e,10)),i?t*e/100:e},i=e(v(this.options.minSize,8));return{minPxSize:i,maxPxSize:Math.max(e(v(this.options.maxSize,"20%")),i)}}getZExtremes(){let t=this.options,e=(this.zData||[]).filter(x);if(e.length){let i=v(t.zMin,g(f(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),s=v(t.zMax,c(e));if(x(i)&&x(s))return{zMin:i,zMax:s}}}}return S.defaultOptions=b(d.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:t}=this.series.chart,{z:e}=this.point;return x(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),m(S.prototype,{alignDataLabel:p.alignDataLabel,applyZones:l,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),u(S,"updatedData",(t=>{delete t.target.chart.bubbleZExtremes})),u(S,"remove",(t=>{delete t.target.chart.bubbleZExtremes})),r.registerSeriesType("bubble",S),S})),i(e,"Series/ColumnRange/ColumnRangePoint.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e){let{seriesTypes:{column:{prototype:{pointClass:{prototype:i}}},arearange:{prototype:{pointClass:s}}}}=t,{extend:r,isNumber:o}=e;class n extends s{isValid(){return o(this.low)}}return r(n.prototype,{setState:i.setState}),n})),i(e,"Series/ColumnRange/ColumnRangeSeries.js",[e["Series/ColumnRange/ColumnRangePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{noop:r}=e,{seriesTypes:{arearange:o,column:n,column:{prototype:a}}}=i,{addEvent:l,clamp:h,extend:p,isNumber:d,merge:u,pick:c}=s;class f extends o{setOptions(){return u(!0,arguments[0],{stacking:void 0}),o.prototype.setOptions.apply(this,arguments)}translate(){return a.translate.apply(this)}pointAttribs(){return a.pointAttribs.apply(this,arguments)}translate3dPoints(){return a.translate3dPoints.apply(this,arguments)}translate3dShapes(){return a.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){let t,e,i,s,r=this.yAxis,o=this.xAxis,n=o.startAngleRad,a=this.chart,l=this.xAxis.isRadial,p=Math.max(a.chartWidth,a.chartHeight)+999;this.points.forEach((f=>{let g=f.shapeArgs||{},m=this.options.minPointLength,x=f.plotY,b=r.translate(f.high,0,1,0,1);if(d(b)&&d(x))if(f.plotHigh=h(b,-p,p),f.plotLow=h(x,-p,p),s=f.plotHigh,Math.abs(t=c(f.rectPlotY,f.plotY)-f.plotHigh)<m?(e=m-t,t+=e,s-=e/2):t<0&&(t*=-1,s-=t),l&&this.polar)i=f.barX+n,f.shapeType="arc",f.shapeArgs=this.polar.arc(s+t,s,i,i+f.pointWidth);else{g.height=t,g.y=s;let{x:e=0,width:i=0}=g;f.shapeArgs=u(f.shapeArgs,this.crispCol(e,s,i,t)),f.tooltipPos=a.inverted?[r.len+r.pos-a.plotLeft-s-t/2,o.len+o.pos-a.plotTop-e-i/2,t]:[o.left-a.plotLeft+e+i/2,r.pos-a.plotTop+s+t/2,t]}}))}}return f.defaultOptions=u(n.defaultOptions,o.defaultOptions,{borderRadius:{where:"all"},pointRange:null,legendSymbol:"rectangle",marker:null,states:{hover:{halo:!1}}}),l(f,"afterColumnTranslate",(function(){f.prototype.afterColumnTranslate.apply(this)}),{order:5}),p(f.prototype,{directTouch:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:a.adjustForMissingColumns,animate:a.animate,crispCol:a.crispCol,drawGraph:r,drawPoints:a.drawPoints,getSymbol:r,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics}),i.registerSeriesType("columnrange",f),f})),i(e,"Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js",[],(function(){return{}})),i(e,"Series/ColumnPyramid/ColumnPyramidSeries.js",[e["Series/ColumnPyramid/ColumnPyramidSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i){let{column:s}=e.seriesTypes,{clamp:r,merge:o,pick:n}=i;class a extends s{translate(){let t=this.chart,e=this.options,i=this.dense=this.closestPointRange*this.xAxis.transA<2,s=this.borderWidth=n(e.borderWidth,i?0:1),o=this.yAxis,a=e.threshold,l=n(e.minPointLength,5),h=this.getColumnMetrics(),p=h.width,d=this.pointXOffset=h.offset,u=this.translatedThreshold=o.getThreshold(a),c=this.barW=Math.max(p,1+2*s);for(let i of(t.inverted&&(u-=.5),e.pointPadding&&(c=Math.ceil(c)),super.translate(),this.points)){let s,f,g,m,x,b,v,y,w,S,M,A=n(i.yBottom,u),k=999+Math.abs(A),C=r(i.plotY,-k,o.len+k),P=c/2,L=Math.min(C,A),D=Math.max(C,A)-L,T=i.plotX+d;e.centerInCategory&&(T=this.adjustForMissingColumns(T,p,i,h)),i.barX=T,i.pointWidth=p,i.tooltipPos=t.inverted?[o.len+o.pos-t.plotLeft-C,this.xAxis.len-T-P,D]:[T+P,C+o.pos-t.plotTop,D],s=a+(i.total||i.y),"percent"===e.stacking&&(s=a+(i.y<0)?-100:100);let E=o.toPixels(s,!0);g=(f=t.plotHeight-E-(t.plotHeight-u))?P*(L-E)/f:0,m=f?P*(L+D-E)/f:0,b=T-g+P,v=T+g+P,y=T+m+P,w=T-m+P,S=L-l,M=L+D,i.y<0&&(S=L,M=L+D+l),t.inverted&&(x=o.width-L,f=E-(o.width-u),g=P*(E-x)/f,m=P*(E-(x-D))/f,v=(b=T+P+g)-2*g,y=T-m+P,w=T+m+P,S=L,M=L+D-l,i.y<0&&(M=L+D+l)),i.shapeType="path",i.shapeArgs={x:b,y:S,width:v-b,height:D,d:[["M",b,S],["L",v,S],["L",y,M],["L",w,M],["Z"]]}}}}return a.defaultOptions=o(s.defaultOptions,t),e.registerSeriesType("columnpyramid",a),a})),i(e,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],(function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}})),i(e,"Series/ErrorBar/ErrorBarSeries.js",[e["Series/BoxPlot/BoxPlotSeries.js"],e["Series/Column/ColumnSeries.js"],e["Series/ErrorBar/ErrorBarSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r){let{arearange:o}=s.seriesTypes,{addEvent:n,merge:a,extend:l}=r;class h extends t{getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||e.prototype.getColumnMetrics.call(this)}drawDataLabels(){let t=this.pointValKey;if(o)for(let e of(o.prototype.drawDataLabels.call(this),this.points))e.y=e[t]}toYData(t){return[t.low,t.high]}}return h.defaultOptions=a(t.defaultOptions,i),n(h,"afterTranslate",(function(){for(let t of this.points)t.plotLow=t.plotY}),{order:0}),l(h.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),s.registerSeriesType("errorbar",h),h})),i(e,"Series/Gauge/GaugePoint.js",[e["Core/Series/SeriesRegistry.js"]],(function(t){let{series:{prototype:{pointClass:e}}}=t;return class extends e{setState(t){this.state=t}}})),i(e,"Series/Gauge/GaugeSeries.js",[e["Series/Gauge/GaugePoint.js"],e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{noop:r}=e,{series:o,seriesTypes:{column:n}}=i,{clamp:a,isNumber:l,extend:h,merge:p,pick:d,pInt:u,defined:c}=s;class f extends o{translate(){let t=this.yAxis,e=this.options,i=t.center;this.generatePoints(),this.points.forEach((s=>{let r=p(e.dial,s.dial),o=u(r.radius)*i[2]/200,n=u(r.baseLength)*o/100,h=u(r.rearLength)*o/100,d=r.baseWidth,f=r.topWidth,g=e.overshoot,m=t.startAngleRad+t.translate(s.y,void 0,void 0,void 0,!0);(l(g)||!1===e.wrap)&&(g=l(g)?g/180*Math.PI:0,m=a(m,t.startAngleRad-g,t.endAngleRad+g)),m=180*m/Math.PI,s.shapeType="path";let x=r.path||[["M",-h,-d/2],["L",n,-d/2],["L",o,-f/2],["L",o,f/2],["L",n,d/2],["L",-h,d/2],["Z"]];s.shapeArgs={d:x,translateX:i[0],translateY:i[1],rotation:m},s.plotX=i[0],s.plotY=i[1],c(s.y)&&t.max-t.min&&(s.percentage=(s.y-t.min)/(t.max-t.min)*100)}))}drawPoints(){let t=this,e=t.chart,i=t.yAxis.center,s=t.pivot,r=t.options,o=r.pivot,n=e.renderer;t.points.forEach((i=>{let s=i.graphic,o=i.shapeArgs,a=o.d,l=p(r.dial,i.dial);s?(s.animate(o),o.d=a):i.graphic=n[i.shapeType](o).addClass("highcharts-dial").add(t.group),e.styledMode||i.graphic[s?"animate":"attr"]({stroke:l.borderColor,"stroke-width":l.borderWidth,fill:l.backgroundColor})})),s?s.animate({translateX:i[0],translateY:i[1]}):o&&(t.pivot=n.circle(0,0,o.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),e.styledMode||t.pivot.attr({fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":o.borderWidth}))}animate(t){let e=this;t||e.points.forEach((t=>{let i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))}))}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),o.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,e){o.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),d(e,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return f.defaultOptions=p(o.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),h(f.prototype,{angular:!0,directTouch:!0,drawGraph:r,drawTracker:n.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"]}),i.registerSeriesType("gauge",f),f})),i(e,"Series/DragNodesComposition.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{composed:i}=t,{addEvent:s,pushUnique:r}=e;function o(){let t,e,i,r=this;r.container&&(t=s(r.container,"mousedown",(t=>{let o=r.hoverPoint;o&&o.series&&o.series.hasDraggableNodes&&o.series.options.draggable&&(o.series.onMouseDown(o,t),e=s(r.container,"mousemove",(t=>o&&o.series&&o.series.onMouseMove(o,t))),i=s(r.container.ownerDocument,"mouseup",(t=>(e(),i(),o&&o.series&&o.series.onMouseUp(o,t)))))}))),s(r,"destroy",(function(){t()}))}return{compose:function(t){r(i,"DragNodes")&&s(t,"load",o)},onMouseDown:function(t,e){let i=this.chart.pointer?.normalize(e)||e;t.fixedPosition={chartX:i.chartX,chartY:i.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){let i,s,r=this.chart,o=r.pointer?.normalize(e)||e,n=t.fixedPosition.chartX-o.chartX,a=t.fixedPosition.chartY-o.chartY,l=r.graphLayoutsLookup;(Math.abs(n)>5||Math.abs(a)>5)&&(i=t.fixedPosition.plotX-n,s=t.fixedPosition.plotY-a,r.isInsidePlot(i,s)&&(t.plotX=i,t.plotY=s,t.hasDragged=!0,this.redrawHalo(t),l.forEach((t=>{t.restartSimulation()}))))}},onMouseUp:function(t){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}}})),i(e,"Series/GraphLayoutComposition.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i){let{setAnimation:s}=t,{composed:r}=e,{addEvent:o,pushUnique:n}=i;function a(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((t=>{t.updateSimulation()})),this.redraw())}function l(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((t=>{t.updateSimulation(!1)})),this.redraw())}function h(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((t=>{t.stop()}))}function p(){let t,e=!1,i=i=>{i.maxIterations--&&isFinite(i.temperature)&&!i.isStable()&&!i.enableSimulation&&(i.beforeStep&&i.beforeStep(),i.step(),t=!1,e=!0)};if(this.graphLayoutsLookup){for(s(!1,this),this.graphLayoutsLookup.forEach((t=>t.start()));!t;)t=!0,this.graphLayoutsLookup.forEach(i);e&&this.series.forEach((t=>{t&&t.layout&&t.render()}))}}return{compose:function(t){n(r,"GraphLayout")&&(o(t,"afterPrint",a),o(t,"beforePrint",l),o(t,"predraw",h),o(t,"render",p))},integrations:{},layouts:{}}})),i(e,"Series/PackedBubble/PackedBubblePoint.js",[e["Core/Chart/Chart.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"]],(function(t,e,i){let{seriesTypes:{bubble:{prototype:{pointClass:s}}}}=i;return class extends s{destroy(){return this.series?.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),e.prototype.destroy.apply(this,arguments)}firePointEvent(){let t=this.series.options;if(this.isParentNode&&t.parentNode){let i=t.allowPointSelect;t.allowPointSelect=t.parentNode.allowPointSelect,e.prototype.firePointEvent.apply(this,arguments),t.allowPointSelect=i}else e.prototype.firePointEvent.apply(this,arguments)}select(){let i=this.series.chart;this.isParentNode?(i.getSelectedPoints=i.getSelectedParentNodes,e.prototype.select.apply(this,arguments),i.getSelectedPoints=t.prototype.getSelectedPoints):e.prototype.select.apply(this,arguments)}}})),i(e,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[e["Core/Utilities.js"]],(function(t){let{isNumber:e}=t;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){let{numberFormatter:t}=this.series.chart,{value:i}=this.point;return e(i)?t(i,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}})),i(e,"Series/Networkgraph/VerletIntegration.js",[],(function(){return{attractive:function(t,e,i){let s=t.getMass(),r=-i.x*e*this.diffTemperature,o=-i.y*e*this.diffTemperature;t.fromNode.fixedPosition||(t.fromNode.plotX-=r*s.fromNode/t.fromNode.degree,t.fromNode.plotY-=o*s.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=r*s.toNode/t.toNode.degree,t.toNode.plotY+=o*s.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return(e-t)/t},barycenter:function(){let t=this.options.gravitationalConstant||0,e=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*t,i=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*t;this.nodes.forEach((function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=i/t.mass/t.degree)}))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function(t,e){let i=-t.options.friction,s=t.options.maxSpeed,r=e.prevX,o=e.prevY,n=(e.plotX+e.dispX-r)*i,a=(e.plotY+e.dispY-o)*i,l=Math.abs,h=l(n)/(n||1),p=l(a)/(a||1),d=h*Math.min(s,Math.abs(n)),u=p*Math.min(s,Math.abs(a));e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=d,e.plotY+=u,e.temperature=t.vectorLength({x:d,y:u})},repulsive:function(t,e,i){let s=e*this.diffTemperature/t.mass/t.degree;t.fixedPosition||(t.plotX+=i.x*s,t.plotY+=i.y*s)},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)}}})),i(e,"Series/PackedBubble/PackedBubbleIntegration.js",[e["Core/Globals.js"],e["Series/Networkgraph/VerletIntegration.js"]],(function(t,e){let{noop:i}=t;return{barycenter:function(){let t,e,i=this.options.gravitationalConstant,s=this.box,r=this.nodes;for(let o of r)this.options.splitSeries&&!o.isParentNode?(t=o.series.parentNode.plotX,e=o.series.parentNode.plotY):(t=s.width/2,e=s.height/2),o.fixedPosition||(o.plotX-=(o.plotX-t)*i/(o.mass*Math.sqrt(r.length)),o.plotY-=(o.plotY-e)*i/(o.mass*Math.sqrt(r.length)))},getK:i,integrate:e.integrate,repulsive:function(t,e,i,s){let r=e*this.diffTemperature/t.mass/t.degree,o=i.x*r,n=i.y*r;t.fixedPosition||(t.plotX+=o,t.plotY+=n),s.fixedPosition||(s.plotX-=o,s.plotY-=n)},repulsiveForceFunction:function(t,e,i,s){return Math.min(t,(i.marker.radius+s.marker.radius)/2)}}})),i(e,"Series/Networkgraph/EulerIntegration.js",[],(function(){return{attractive:function(t,e,i,s){let r=t.getMass(),o=i.x/s*e,n=i.y/s*e;t.fromNode.fixedPosition||(t.fromNode.dispX-=o*r.fromNode/t.fromNode.degree,t.fromNode.dispY-=n*r.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=o*r.toNode/t.toNode.degree,t.toNode.dispY+=n*r.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return t*t/e},barycenter:function(){let t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;this.nodes.forEach((function(s){if(!s.fixedPosition){let r=s.getDegree(),o=r*(1+r/2);s.dispX+=(e-s.plotX)*t*o/s.degree,s.dispY+=(i-s.plotY)*t*o/s.degree}}))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function(t,e){e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction;let i=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY});0!==i&&(e.plotX+=e.dispX/i*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/i*Math.min(Math.abs(e.dispY),t.temperature))},repulsive:function(t,e,i,s){t.dispX+=i.x/s*e/t.degree,t.dispY+=i.y/s*e/t.degree},repulsiveForceFunction:function(t,e){return e*e/t}}})),i(e,"Series/Networkgraph/QuadTreeNode.js",[],(function(){class t{constructor(t){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=t,this.boxSize=Math.min(t.width,t.height)}divideBox(){let e=this.box.width/2,i=this.box.height/2;this.nodes[0]=new t({left:this.box.left,top:this.box.top,width:e,height:i}),this.nodes[1]=new t({left:this.box.left+e,top:this.box.top,width:e,height:i}),this.nodes[2]=new t({left:this.box.left+e,top:this.box.top+i,width:e,height:i}),this.nodes[3]=new t({left:this.box.left,top:this.box.top+i,width:e,height:i})}getBoxPosition(t){let e=t.plotX<this.box.left+this.box.width/2,i=t.plotY<this.box.top+this.box.height/2;return e?i?0:3:i?1:2}insert(e,i){let s;this.isInternal?this.nodes[this.getBoxPosition(e)].insert(e,i-1):(this.isEmpty=!1,this.body?i?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,i-1),this.body=!0),this.nodes[this.getBoxPosition(e)].insert(e,i-1)):((s=new t({top:e.plotX||NaN,left:e.plotY||NaN,width:.1,height:.1})).body=e,s.isInternal=!1,this.nodes.push(s)):(this.isInternal=!1,this.body=e))}updateMassAndCenter(){let t=0,e=0,i=0;if(this.isInternal){for(let s of this.nodes)s.isEmpty||(t+=s.mass,e+=s.plotX*s.mass,i+=s.plotY*s.mass);e/=t,i/=t}else this.body&&(t=this.body.mass,e=this.body.plotX,i=this.body.plotY);this.mass=t,this.plotX=e,this.plotY=i}}return t})),i(e,"Series/Networkgraph/QuadTree.js",[e["Series/Networkgraph/QuadTreeNode.js"]],(function(t){return class{constructor(e,i,s,r){this.box={left:e,top:i,width:s,height:r},this.maxDepth=25,this.root=new t(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,(function(t){t.updateMassAndCenter()}))}insertNodes(t){for(let e of t)this.root.insert(e,this.maxDepth)}visitNodeRecursive(t,e,i){let s;if(t||(t=this.root),t===this.root&&e&&(s=e(t)),!1!==s){for(let r of t.nodes){if(r.isInternal){if(e&&(s=e(r)),!1===s)continue;this.visitNodeRecursive(r,e,i)}else r.body&&e&&e(r.body);i&&i(r)}t===this.root&&i&&i(t)}}}})),i(e,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[e["Series/Networkgraph/EulerIntegration.js"],e["Core/Globals.js"],e["Series/GraphLayoutComposition.js"],e["Series/Networkgraph/QuadTree.js"],e["Core/Utilities.js"],e["Series/Networkgraph/VerletIntegration.js"]],(function(t,e,i,s,r,o){let{win:n}=e,{clamp:a,defined:l,isFunction:h,fireEvent:p,pick:d}=r;class u{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(e){i.compose(e),i.integrations.euler=t,i.integrations.verlet=o,i.layouts["reingold-fruchterman"]=u}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=i.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=d(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=d(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=d(t,this.options.enableSimulation)}start(){let t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach((function(t){t.finishedAnimating=!0,t.render()}))),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()}step(){let t=this.series;for(let t of(this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[t+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let e of t)e.chart&&e.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&n.cancelAnimationFrame(this.simulation),this.simulation=n.requestAnimationFrame((()=>this.step()))):(this.simulation=!1,this.series.forEach((t=>{p(t,"afterSimulation")})))}}stop(){this.simulation&&n.cancelAnimationFrame(this.simulation)}setArea(t,e,i,s){this.box={left:t,top:e,width:i,height:s}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,e){for(let i of t)-1===e.indexOf(i)&&e.push(i)}removeElementFromCollection(t,e){let i=e.indexOf(t);-1!==i&&e.splice(i,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=d(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new s(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let t=this.options.initialPositions;if(h(t))for(let e of(t.call(this),this.nodes))l(e.prevX)||(e.prevX=e.plotX),l(e.prevY)||(e.prevY=e.plotY),e.dispX=0,e.dispY=0;else"circle"===t?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let t,e=this.box,i=this.nodes,s=2*Math.PI/(i.length+1),r=i.filter((function(t){return 0===t.linksTo.length})),o={},n=this.options.initialPositionRadius,a=t=>{for(let e of t.linksFrom||[])o[e.toNode.id]||(o[e.toNode.id]=!0,l.push(e.toNode),a(e.toNode))},l=[];for(let t of r)l.push(t),a(t);if(l.length)for(let t of i)-1===l.indexOf(t)&&l.push(t);else l=i;for(let i=0,r=l.length;i<r;++i)(t=l[i]).plotX=t.prevX=d(t.plotX,e.width/2+n*Math.cos(i*s)),t.plotY=t.prevY=d(t.plotY,e.height/2+n*Math.sin(i*s)),t.dispX=0,t.dispY=0}setRandomPositions(){let t,e=this.box,i=this.nodes,s=i.length+1,r=t=>{let e=t*t/Math.PI;return e-Math.floor(e)};for(let o=0,n=i.length;o<n;++o)(t=i[o]).plotX=t.prevX=d(t.plotX,e.width*r(o)),t.plotY=t.prevY=d(t.plotY,e.height*r(s+o)),t.dispX=0,t.dispY=0}force(t,...e){this.integration[t].apply(this,e)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,e=0,i=0;for(let s of this.nodes)e+=s.plotX*s.mass,i+=s.plotY*s.mass,t+=s.mass;return this.barycenter={x:e,y:i,xFactor:e/t,yFactor:i/t},this.barycenter}barnesHutApproximation(t,e){let i,s,r=this.getDistXY(t,e),o=this.vectorLength(r);return t!==e&&0!==o&&(e.isInternal?e.boxSize/o<this.options.theta&&0!==o?(s=this.repulsiveForce(o,this.k),this.force("repulsive",t,s*e.mass,r,o),i=!1):i=!0:(s=this.repulsiveForce(o,this.k),this.force("repulsive",t,s*e.mass,r,o))),i}repulsiveForces(){if("barnes-hut"===this.approximation)for(let t of this.nodes)this.quadTree.visitNodeRecursive(null,(e=>this.barnesHutApproximation(t,e)));else{let t,e,i;for(let s of this.nodes)for(let r of this.nodes)s===r||s.fixedPosition||(i=this.getDistXY(s,r),0!==(e=this.vectorLength(i))&&(t=this.repulsiveForce(e,this.k),this.force("repulsive",s,t*r.mass,i,e)))}}attractiveForces(){let t,e,i;for(let s of this.links)s.fromNode&&s.toNode&&(t=this.getDistXY(s.fromNode,s.toNode),0!==(e=this.vectorLength(t))&&(i=this.attractiveForce(e,this.k),this.force("attractive",s,i,t,e)))}applyLimits(){for(let t of this.nodes)t.fixedPosition||(this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0)}applyLimitBox(t,e){let i=t.radius;t.plotX=a(t.plotX,e.left+i,e.width-i),t.plotY=a(t.plotY,e.top+i,e.height-i)}coolDown(t,e,i){return t-e*i}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let t=0;for(let e of this.nodes)t+=e.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,e){let i=this.getDistXY(t,e);return this.vectorLength(i)}getDistXY(t,e){let i=t.plotX-e.plotX,s=t.plotY-e.plotY;return{x:i,y:s,absX:Math.abs(i),absY:Math.abs(s)}}}return u})),i(e,"Series/PackedBubble/PackedBubbleLayout.js",[e["Series/GraphLayoutComposition.js"],e["Series/PackedBubble/PackedBubbleIntegration.js"],e["Series/Networkgraph/ReingoldFruchtermanLayout.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{addEvent:r,pick:o}=s;function n(){let t=this.series,e=[];return t.forEach((t=>{t.parentNode&&t.parentNode.selected&&e.push(t.parentNode)})),e}function a(){this.allDataPoints&&delete this.allDataPoints}class l extends i{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.series=[]}static compose(s){i.compose(s),t.integrations.packedbubble=e,t.layouts.packedbubble=l;let o=s.prototype;o.getSelectedParentNodes||(r(s,"beforeRedraw",a),o.getSelectedParentNodes=n)}beforeStep(){this.options.marker&&this.series.forEach((t=>{t&&t.calculateParentRadius()}))}isStable(){let t=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&t<1e-5||this.temperature<=0}setCircularPositions(){let t,e,i=this.box,s=this.nodes,r=2*Math.PI/(s.length+1),n=this.options.initialPositionRadius,a=0;for(let l of s)this.options.splitSeries&&!l.isParentNode?(t=l.series.parentNode.plotX,e=l.series.parentNode.plotY):(t=i.width/2,e=i.height/2),l.plotX=l.prevX=o(l.plotX,t+n*Math.cos(l.index||a*r)),l.plotY=l.prevY=o(l.plotY,e+n*Math.sin(l.index||a*r)),l.dispX=0,l.dispY=0,a++}repulsiveForces(){let t,e,i,s=this,r=s.options.bubblePadding,o=s.nodes;o.forEach((n=>{n.degree=n.mass,n.neighbours=0,o.forEach((o=>{t=0,n!==o&&!n.fixedPosition&&(s.options.seriesInteraction||n.series===o.series)&&(i=s.getDistXY(n,o),(e=s.vectorLength(i)-(n.marker.radius+o.marker.radius+r))<0&&(n.degree+=.01,n.neighbours++,t=s.repulsiveForce(-e/Math.sqrt(n.neighbours),s.k,n,o)),s.force("repulsive",n,t*o.mass,i,o,e))}))}))}applyLimitBox(t,e){let i,s;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(i=this.getDistXY(t,t.series.parentNode),(s=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(i))<0&&s>-2*t.marker.radius&&(t.plotX-=.01*i.x,t.plotY-=.01*i.y)),super.applyLimitBox(t,e)}}return t.layouts.packedbubble=l,l})),i(e,"Series/SimulationSeriesUtilities.js",[e["Core/Utilities.js"],e["Core/Animation/AnimationUtilities.js"]],(function(t,e){let{merge:i,syncTimeout:s}=t,{animObject:r}=e;return{initDataLabels:function(){let t=this.options.dataLabels;if(!this.dataLabelsGroup){let e=this.initDataLabelsGroup();return!this.chart.styledMode&&t?.style&&e.css(t.style),e.attr({opacity:0}),this.visible&&e.show(),e}return this.dataLabelsGroup.attr(i({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){let t=this.options.dataLabels;t?.defer&&this.options.layoutAlgorithm?.enableSimulation?s((()=>{this.deferDataLabels=!1}),t?r(t.animation).defer:0):this.deferDataLabels=!1}}})),i(e,"Extensions/TextPath.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{deg2rad:i}=t,{addEvent:s,merge:r,uniqueKey:o,defined:n,extend:a}=e;function l(t,e){e=r(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);let i=this.renderer.url,l=this.text||this,h=l.textPath,{attributes:p,enabled:d}=e;if(t=t||h&&h.path,h&&h.undo(),t&&d){let e=s(l,"afterModifyTree",(e=>{if(t&&d){let s=t.attr("id");s||t.attr("id",s=o());let r={x:0,y:0};n(p.dx)&&(r.dx=p.dx,delete p.dx),n(p.dy)&&(r.dy=p.dy,delete p.dy),l.attr(r),this.attr({transform:""}),this.box&&(this.box=this.box.destroy());let h=e.nodes.slice(0);e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:a(p,{"text-anchor":p.textAnchor,href:`${i}#${s}`}),children:h}}}));l.textPath={path:t,undo:e}}else l.attr({dx:0,dy:0}),delete l.textPath;return this.added&&(l.textCache="",this.renderer.buildText(l)),this}function h(t){let e=t.bBox,s=this.element?.querySelector("textPath");if(s){let r=[],{b:o,h:n}=this.renderer.fontMetrics(this.element),a=n-o,l=RegExp('(<tspan>|<tspan(?!\\sclass="highcharts-br")[^>]*>|<\\/tspan>)',"g"),h=s.innerHTML.replace(l,"").split(/<tspan class="highcharts-br"[^>]*>/),p=h.length,d=(t,e)=>{let{x:r,y:n}=e,l=(s.getRotationOfChar(t)-90)*i,h=Math.cos(l),p=Math.sin(l);return[[r-a*h,n-a*p],[r+o*h,n+o*p]]};for(let e=0,i=0;i<p;i++){let o=h[i].length;for(let n=0;n<o;n+=5)try{let t=e+n+i,[o,a]=d(t,s.getStartPositionOfChar(t));0===n?(r.push(a),r.push(o)):(0===i&&r.unshift(a),i===p-1&&r.push(o))}catch(t){break}e+=o-1;try{let t=e+i,o=s.getEndPositionOfChar(t),[n,a]=d(t,o);r.unshift(a),r.unshift(n)}catch(t){break}}r.length&&r.push(r[0].slice()),e.polygon=r}return e}function p(t){let e=t.labelOptions,i=t.point,s=e[i.formatPrefix+"TextPath"]||e.textPath;s&&!e.useHTML&&(this.setTextPath(i.getDataLabelPath?.(this)||i.graphic,s),i.dataLabelPath&&!s.enabled&&(i.dataLabelPath=i.dataLabelPath.destroy()))}return{compose:function(t){s(t,"afterGetBBox",h),s(t,"beforeAddingDataLabel",p);let e=t.prototype;e.setTextPath||(e.setTextPath=l)}}})),i(e,"Series/PackedBubble/PackedBubbleSeries.js",[e["Core/Color/Color.js"],e["Series/DragNodesComposition.js"],e["Series/GraphLayoutComposition.js"],e["Core/Globals.js"],e["Series/PackedBubble/PackedBubblePoint.js"],e["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],e["Series/PackedBubble/PackedBubbleLayout.js"],e["Core/Series/SeriesRegistry.js"],e["Series/SimulationSeriesUtilities.js"],e["Core/Utilities.js"],e["Core/Renderer/SVG/SVGElement.js"],e["Extensions/TextPath.js"]],(function(t,e,i,s,r,o,n,a,l,h,p,d){let{parse:u}=t,{noop:c}=s,{series:{prototype:f},seriesTypes:{bubble:g}}=a,{initDataLabels:m,initDataLabelsDefer:x}=l,{addEvent:b,clamp:v,defined:y,extend:w,fireEvent:S,isArray:M,isNumber:A,merge:k,pick:C}=h;d.compose(p);class P extends g{constructor(){super(...arguments),this.parentNodeMass=0,this.deferDataLabels=!0}static compose(t,i,s){g.compose(t,i,s),e.compose(i),n.compose(i)}accumulateAllPoints(){let t,e=this.chart,i=[];for(let s of e.series)if(s.is("packedbubble")&&s.reserveSpace()){t=s.yData||[];for(let e=0;e<t.length;e++)i.push([null,null,t[e],s.index,e,{id:e,marker:{radius:0}}])}return i}addLayout(){let t,e=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},s=e.type||"packedbubble",r=this.chart.options.chart,o=this.chart.graphLayoutsStorage,n=this.chart.graphLayoutsLookup;o||(this.chart.graphLayoutsStorage=o={},this.chart.graphLayoutsLookup=n=[]),(t=o[s])||(e.enableSimulation=y(r.forExport)?!r.forExport:e.enableSimulation,o[s]=t=new i.layouts[s],t.init(e),n.splice(t.index,0,t)),this.layout=t,this.points.forEach((t=>{t.mass=2,t.degree=1,t.collisionNmb=1})),t.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),t.addElementsToCollection([this],t.series),t.addElementsToCollection(this.points,t.nodes)}addSeriesLayout(){let t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},e=t.type||"packedbubble",s=this.chart.graphLayoutsStorage,r=this.chart.graphLayoutsLookup,o=k(t,t.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),n=s[e+"-series"];n||(s[e+"-series"]=n=new i.layouts[e],n.init(o),r.splice(n.index,0,n)),this.parentNodeLayout=n,this.createParentNodes()}calculateParentRadius(){let t=this.seriesBox();this.parentNodeRadius=v(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let t=this.chart.series,e=this.options.zMin,i=this.options.zMax,s=1/0,r=-1/0;return e&&i?[e,i]:(t.forEach((t=>{t.yData.forEach((t=>{y(t)&&(t>r&&(r=t),t<s&&(s=t))}))})),[e=C(e,s),i=C(i,r)])}checkOverlap(t,e){let i=t[0]-e[0],s=t[1]-e[1];return Math.sqrt(i*i+s*s)-Math.abs(t[2]+e[2])<-.001}createParentNodes(){let t,e=this.pointClass,i=this.chart,s=this.parentNodeLayout,r=this.layout.options,o=this.parentNode,n={radius:this.parentNodeRadius,lineColor:this.color,fillColor:u(this.color).brighten(.4).get()};r.parentNodeOptions&&(n=k(r.parentNodeOptions.marker||{},n)),this.parentNodeMass=0,this.points.forEach((t=>{this.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)})),this.calculateParentRadius(),s.nodes.forEach((e=>{e.seriesIndex===this.index&&(t=!0)})),s.setArea(0,0,i.plotWidth,i.plotHeight),t||(o||(o=new e(this,{mass:this.parentNodeRadius/2,marker:n,dataLabels:{inside:!1},states:{normal:{marker:n},hover:{marker:n}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(o.plotX=this.parentNode.plotX,o.plotY=this.parentNode.plotY),this.parentNode=o,s.addElementsToCollection([this],s.series),s.addElementsToCollection([o],s.nodes))}deferLayout(){let t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach((t=>{t.removeElementFromCollection(this,t.series)}),this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),f.destroy.apply(this,arguments)}drawDataLabels(){!this.deferDataLabels&&(f.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",f.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){if(!this.layout||!this.layout.options.splitSeries)return;let t=this.chart,e=this.layout.options.parentNodeOptions.marker,i={fill:e.fillColor||u(this.color).brighten(.4).get(),opacity:e.fillOpacity,stroke:e.lineColor||this.color,"stroke-width":C(e.lineWidth,this.options.lineWidth)},s={};this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,t.seriesGroup),this.group?.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&y(this.parentNode.plotX)&&y(this.parentNode.plotY)&&y(this.parentNodeRadius)&&(s=k({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},i),this.parentNode.graphic||(this.graph=this.parentNode.graphic=t.renderer.symbol(i.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(s))}drawTracker(){let t,e=this.parentNode;super.drawTracker(),e&&(t=M(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach((t=>{(t.div||t.element).point=e})))}getPointRadius(){let t,e,i,s,r=this.chart,o=r.plotWidth,n=r.plotHeight,a=this.options,l=a.useSimulation,h=Math.min(o,n),p={},d=[],u=r.allDataPoints||[],c=u.length;["minSize","maxSize"].forEach((t=>{let e=parseInt(a[t],10),i=/%$/.test(a[t]);p[t]=i?h*e/100:e*Math.sqrt(c)})),r.minRadius=t=p.minSize/Math.sqrt(c),r.maxRadius=e=p.maxSize/Math.sqrt(c);let f=l?this.calculateZExtremes():[t,e];u.forEach(((r,o)=>{i=l?v(r[2],f[0],f[1]):r[2],0===(s=this.getRadius(f[0],f[1],t,e,i))&&(s=null),u[o][2]=s,d.push(s)})),this.radii=d}init(){return f.init.apply(this,arguments),x.call(this),this.eventsToUnbind.push(b(this,"updatedData",(function(){this.chart.series.forEach((t=>{t.type===this.type&&(t.isDirty=!0)}),this)}))),this}onMouseUp(t){if(t.fixedPosition&&!t.removed){let i,s=this.layout,r=this.parentNodeLayout;r&&s.options.dragBetweenSeries&&r.nodes.forEach((e=>{t&&t.marker&&e!==t.series.parentNode&&(i=s.getDistXY(t,e),s.vectorLength(i)-e.marker.radius-t.marker.radius<0&&(e.series.addPoint(k(t.options,{plotX:t.plotX,plotY:t.plotY}),!1),s.removeElementFromCollection(t,s.nodes),t.remove()))})),e.onMouseUp.apply(this,arguments)}}placeBubbles(t){let e,i,s=this.checkOverlap,r=this.positionBubble,o=[],n=1,a=0,l=0,h=[],p=t.sort(((t,e)=>e[2]-t[2]));if(p.length){if(o.push([[0,0,p[0][2],p[0][3],p[0][4]]]),p.length>1)for(o.push([[0,0-p[1][2]-p[0][2],p[1][2],p[1][3],p[1][4]]]),i=2;i<p.length;i++)p[i][2]=p[i][2]||1,s(e=r(o[n][a],o[n-1][l],p[i]),o[n][0])?(o.push([]),l=0,o[n+1].push(r(o[n][a],o[n][0],p[i])),n++,a=0):n>1&&o[n-1][l+1]&&s(e,o[n-1][l+1])?(l++,o[n].push(r(o[n][a],o[n-1][l],p[i])),a++):(a++,o[n].push(e));this.chart.stages=o,this.chart.rawPositions=[].concat.apply([],o),this.resizeRadius(),h=this.chart.rawPositions}return h}pointAttribs(t,e){let i=this.options,s=t&&t.isParentNode,r=i.marker;s&&i.layoutAlgorithm&&i.layoutAlgorithm.parentNodeOptions&&(r=i.layoutAlgorithm.parentNodeOptions.marker);let o=r.fillOpacity,n=f.pointAttribs.call(this,t,e);return 1!==o&&(n["fill-opacity"]=o),n}positionBubble(t,e,i){let s=Math.asin,r=Math.acos,o=Math.pow,n=Math.abs,a=(0,Math.sqrt)(o(t[0]-e[0],2)+o(t[1]-e[1],2)),l=r((o(a,2)+o(i[2]+e[2],2)-o(i[2]+t[2],2))/(2*(i[2]+e[2])*a)),h=s(n(t[0]-e[0])/a),p=(t[1]-e[1]<0?0:Math.PI)+l+h*((t[0]-e[0])*(t[1]-e[1])<0?1:-1),d=Math.cos(p),u=Math.sin(p);return[e[0]+(e[2]+i[2])*u,e[1]-(e[2]+i[2])*d,i[2],i[3],i[4]]}render(){let t=[];f.render.apply(this,arguments),!this.options.dataLabels.allowOverlap&&(this.data.forEach((e=>{M(e.dataLabels)&&e.dataLabels.forEach((e=>{t.push(e)}))})),this.options.useSimulation&&this.chart.hideOverlappingLabels(t))}resizeRadius(){let t,e,i,s,r,o=this.chart,n=o.rawPositions,a=Math.min,l=Math.max,h=o.plotLeft,p=o.plotTop,d=o.plotHeight,u=o.plotWidth;for(let o of(t=i=Number.POSITIVE_INFINITY,e=s=Number.NEGATIVE_INFINITY,n))r=o[2],t=a(t,o[0]-r),e=l(e,o[0]+r),i=a(i,o[1]-r),s=l(s,o[1]+r);let c=[e-t,s-i],f=[(u-h)/c[0],(d-p)/c[1]],g=a.apply([],f);if(Math.abs(g-1)>1e-10){for(let t of n)t[2]*=g;this.placeBubbles(n)}else o.diffY=d/2+p-i-(s-i)/2,o.diffX=u/2+h-t-(e-t)/2}seriesBox(){let t,e=this.chart,i=this.data,s=Math.max,r=Math.min,o=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];return i.forEach((e=>{y(e.plotX)&&y(e.plotY)&&e.marker.radius&&(t=e.marker.radius,o[0]=r(o[0],e.plotX-t),o[1]=s(o[1],e.plotX+t),o[2]=r(o[2],e.plotY-t),o[3]=s(o[3],e.plotY+t))})),A(o.width/o.height)?o:null}setVisible(){let t=this;f.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach((e=>{t.layout.removeElementFromCollection(e,t.layout.nodes)})))}translate(){let t,e,i,s=this.chart,r=this.data,o=this.index,n=this.options.useSimulation;for(let a of(this.processedXData=this.xData,this.generatePoints(),y(s.allDataPoints)||(s.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),n?i=s.allDataPoints:(i=this.placeBubbles(s.allDataPoints),this.options.draggable=!1),i))a[3]===o&&(t=r[a[4]],e=C(a[2],void 0),n||(t.plotX=a[0]-s.plotLeft+s.diffX,t.plotY=a[1]-s.plotTop+s.diffY),A(e)&&(t.marker=w(t.marker,{radius:e,width:2*e,height:2*e}),t.radius=e));n&&this.deferLayout(),S(this,"afterTranslate")}}return P.defaultOptions=k(g.defaultOptions,o),w(P.prototype,{pointClass:r,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:m,alignDataLabel:f.alignDataLabel,indexateNodes:c,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,redrawHalo:e.redrawHalo,searchPoint:c}),a.registerSeriesType("packedbubble",P),P})),i(e,"Series/Polygon/PolygonSeriesDefaults.js",[],(function(){return{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}})),i(e,"Series/Polygon/PolygonSeries.js",[e["Core/Globals.js"],e["Series/Polygon/PolygonSeriesDefaults.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s){let{noop:r}=t,{area:o,line:n,scatter:a}=i.seriesTypes,{extend:l,merge:h}=s;class p extends a{getGraphPath(){let t=n.prototype.getGraphPath.call(this),e=t.length+1;for(;e--;)(e===t.length||"M"===t[e][0])&&e>0&&t.splice(e,0,["Z"]);return this.areaPath=t,t}drawGraph(){this.options.fillColor=this.color,o.prototype.drawGraph.call(this)}}return p.defaultOptions=h(a.defaultOptions,e),l(p.prototype,{type:"polygon",drawTracker:n.prototype.drawTracker,setStackedPoints:r}),i.registerSeriesType("polygon",p),p})),i(e,"Core/Axis/RadialAxisDefaults.js",[],(function(){return{circular:{gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},radial:{gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",padding:5,x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},radialGauge:{endOnTick:!1,gridLineWidth:0,labels:{align:"center",distance:-25,x:0,y:void 0},lineWidth:1,minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickPosition:"inside",tickWidth:2,title:{rotation:0,text:""},zIndex:2}}})),i(e,"Core/Axis/RadialAxis.js",[e["Core/Axis/RadialAxisDefaults.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e,i,s){var r;let{defaultOptions:o}=e,{composed:n,noop:a}=i,{addEvent:l,correctFloat:h,defined:p,extend:d,fireEvent:u,isObject:c,merge:f,pick:g,pushUnique:m,relativeLength:x,wrap:b}=s;return function(e){function s(){this.autoConnect=this.isCircular&&void 0===g(this.userMax,this.options.max)&&h(this.endAngleRad-this.startAngleRad)===h(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function r(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map((t=>this.ticks[t]&&this.ticks[t].label)).filter((t=>!!t))}}function v(){return a}function y(t,e,i){let s,r,o,n=this.pane.center,a=t.value;return this.isCircular?(p(a)?t.point&&(t.point.shapeArgs||{}).start&&(a=this.chart.inverted?this.translate(t.point.rectPlotY,!0):t.point.x):(r=t.chartX||0,o=t.chartY||0,a=this.translate(Math.atan2(o-i,r-e)-this.startAngleRad,!0)),r=(s=this.getPosition(a)).x,o=s.y):(p(a)||(r=t.chartX,o=t.chartY),p(r)&&p(o)&&(i=n[1]+this.chart.plotTop,a=this.translate(Math.min(Math.sqrt(Math.pow(r-e,2)+Math.pow(o-i,2)),n[2]/2)-n[3]/2,!0))),[a,r||0,o||0]}function w(t,e,i){let s,r,o=this.pane.center,n=this.chart,a=this.left||0,l=this.top||0,h=g(e,o[2]/2-this.offset);return void 0===i&&(i=this.horiz?0:this.center&&-this.center[3]/2),i&&(h+=i),this.isCircular||void 0!==e?((r=this.chart.renderer.symbols.arc(a+o[0],l+o[1],h,h,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[a+o[0]],r.yBounds=[l+o[1]-h]):(s=this.postTranslate(this.angleRad,h),r=[["M",this.center[0]+n.plotLeft,this.center[1]+n.plotTop],["L",s.x,s.y]]),r}function S(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function M(t,e,i){let s,r,o,n,a,l,h=this.chart,p=t=>{if("string"==typeof t){let e=parseInt(t,10);return b.test(t)&&(e=e*c/100),e}return t},d=this.center,u=this.startAngleRad,c=d[2]/2,f=Math.min(this.offset,0),m=this.left||0,x=this.top||0,b=/%$/,v=this.isCircular,y=g(p(i.outerRadius),c),w=p(i.innerRadius),S=g(p(i.thickness),10);if("polygon"===this.options.gridLineInterpolation)l=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0}));else{t=Math.max(t,this.min),e=Math.min(e,this.max);let p=this.translate(t),c=this.translate(e);v||(y=p||0,w=c||0),"circle"!==i.shape&&v?(s=u+(p||0),r=u+(c||0)):(s=-Math.PI/2,r=1.5*Math.PI,a=!0),y-=f,S-=f,l=h.renderer.symbols.arc(m+d[0],x+d[1],y,y,{start:Math.min(s,r),end:Math.max(s,r),innerR:g(w,y-S),open:a,borderRadius:i.borderRadius}),v&&(o=(r+s)/2,n=m+d[0]+d[2]/2*Math.cos(o),l.xBounds=o>-Math.PI/2&&o<Math.PI/2?[n,h.plotWidth]:[0,n],l.yBounds=[x+d[1]+d[2]/2*Math.sin(o)],l.yBounds[0]+=o>-Math.PI&&o<0||o>Math.PI?-10:10)}return l}function A(t){let e,i,s,r,o,n,a,l,h,p=this.pane.center,d=this.chart,u=d.inverted,c=t.reverse,f=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},g=f.innerRadius||"0%",m=f.outerRadius||"100%",b=p[0]+d.plotLeft,v=p[1]+d.plotTop,y=this.height,w=t.isCrosshair,S=p[3]/2,M=t.value,A=this.getPosition(M),k=A.x,C=A.y;if(w&&(M=(l=this.getCrosshairPosition(t,b,v))[0],k=l[1],C=l[2]),this.isCircular)i=Math.sqrt(Math.pow(k-b,2)+Math.pow(C-v,2)),s="string"==typeof g?x(g,1):g/i,r="string"==typeof m?x(m,1):m/i,p&&S&&(s<(e=S/i)&&(s=e),r<e&&(r=e)),h=[["M",b+s*(k-b),v-s*(v-C)],["L",k-(1-r)*(k-b),C+(1-r)*(v-C)]];else if((M=this.translate(M))&&(M<0||M>y)&&(M=0),"circle"===this.options.gridLineInterpolation)h=this.getLinePath(0,M,S);else if(h=[],d[u?"yAxis":"xAxis"].forEach((t=>{t.pane===this.pane&&(o=t)})),o){a=o.tickPositions,o.autoConnect&&(a=a.concat([a[0]])),c&&(a=a.slice().reverse()),M&&(M+=S);for(let t=0;t<a.length;t++)n=o.getPosition(a[t],M),h.push(t?["L",n.x,n.y]:["M",n.x,n.y])}return h}function k(t,e){let i=this.translate(t);return this.postTranslate(this.isCircular?i:this.angleRad,g(this.isCircular?e:i<0?0:i,this.center[2]/2)-this.offset)}function C(){let t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}function P(t){t.beforeSetTickPositions=s,t.createLabelCollector=r,t.getCrosshairPosition=y,t.getLinePath=w,t.getOffset=S,t.getPlotBandPath=M,t.getPlotLinePath=A,t.getPosition=k,t.getTitlePosition=C,t.postTranslate=B,t.setAxisSize=Y,t.setAxisTranslation=z,t.setOptions=X}function L(){let t=this.chart,e=this.options,i=t.angular&&this.isXAxis,s=this.pane,r=s&&s.options;if(!i&&s&&(t.angular||t.polar)){let t=2*Math.PI,i=(g(r.startAngle,0)-90)*Math.PI/180,s=(g(r.endAngle,g(r.startAngle,0)+360)-90)*Math.PI/180;this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=i,this.endAngleRad=s,this.offset=e.offset||0;let o=(i%t+t)%t,n=(s%t+t)%t;o>Math.PI&&(o-=t),n>Math.PI&&(n-=t),this.normalizedStartAngleRad=o,this.normalizedEndAngleRad=n}}function D(t){this.isRadial&&(t.align=void 0,t.preventDefault())}function T(){if(this.chart&&this.chart.labelCollectors){let t=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;t>=0&&this.chart.labelCollectors.splice(t,1)}}function E(t){let e,i=this.chart,s=i.angular,r=i.polar,o=this.isXAxis,n=this.coll,l=t.userOptions.pane||0,h=this.pane=i.pane&&i.pane[l];"colorAxis"!==n?(s?(s&&o?(this.isHidden=!0,this.createLabelCollector=v,this.getOffset=a,this.redraw=I,this.render=I,this.setScale=a,this.setCategories=a,this.setTitle=a):P(this),e=!o):r&&(P(this),e=this.horiz),s||r?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&i.labelCollectors.push(this.labelCollector)):this.isRadial=!1,h&&e&&(h.axis=this),this.isCircular=e):this.isRadial=!1}function R(){this.isRadial&&this.beforeSetTickPositions()}function N(t){let e=this.label;if(!e)return;let i,s=this.axis,r=e.getBBox(),o=s.options.labels,n=(s.translate(this.pos)+s.startAngleRad+Math.PI/2)/Math.PI*180%360,a=Math.round(n),l=p(o.y)?0:-.3*r.height,h=o.y,d=20,u=o.align,c="end",f=a<0?a+360:a,m=f,b=0,v=0;s.isRadial&&(i=s.getPosition(this.pos,s.center[2]/2+x(g(o.distance,-25),s.center[2]/2,-s.center[2]/2)),"auto"===o.rotation?e.attr({rotation:n}):p(h)||(h=s.chart.renderer.fontMetrics(e).b-r.height/2),p(u)||(s.isCircular?(r.width>s.len*s.tickInterval/(s.max-s.min)&&(d=0),u=n>d&&n<180-d?"left":n>180+d&&n<360-d?"right":"center"):u="center",e.attr({align:u})),"auto"===u&&2===s.tickPositions.length&&s.isCircular&&(f>90&&f<180?f=180-f:f>270&&f<=360&&(f=540-f),m>180&&m<=360&&(m=360-m),(s.pane.options.startAngle===a||s.pane.options.startAngle===a+360||s.pane.options.startAngle===a-360)&&(c="start"),u=a>=-90&&a<=90||a>=-360&&a<=-270||a>=270&&a<=360?"start"===c?"right":"left":"start"===c?"left":"right",m>70&&m<110&&(u="center"),f<15||f>=180&&f<195?b=.3*r.height:f>=15&&f<=35?b="start"===c?0:.75*r.height:f>=195&&f<=215?b="start"===c?.75*r.height:0:f>35&&f<=90?b="start"===c?-.25*r.height:r.height:f>215&&f<=270&&(b="start"===c?r.height:-.25*r.height),m<15?v="start"===c?-.15*r.height:.15*r.height:m>165&&m<=180&&(v="start"===c?.15*r.height:-.15*r.height),e.attr({align:u}),e.translate(v,b+l)),t.pos.x=i.x+(o.x||0),t.pos.y=i.y+(h||0))}function j(t){this.axis.getPosition&&d(t.pos,this.axis.getPosition(this.pos))}function O({options:t}){t.xAxis&&f(!0,e.radialDefaultOptions.circular,t.xAxis),t.yAxis&&f(!0,e.radialDefaultOptions.radialGauge,t.yAxis)}function B(t,e){let i=this.chart,s=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+s[0]+Math.cos(t)*e,y:i.plotTop+s[1]+Math.sin(t)*e}}function I(){this.isDirty=!1}function Y(){let t,e;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),t=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(e=this.postTranslate(this.angleRad,t[3]/2),t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop),this.len=this.width=this.height=(t[2]-t[3])*g(this.sector,1)/2)}function z(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)}function X(t){let{coll:i}=this,{angular:s,inverted:r,polar:n}=this.chart,a={};s?this.isXAxis||(a=f(o.yAxis,e.radialDefaultOptions.radialGauge)):n&&(a=this.horiz?f(o.xAxis,e.radialDefaultOptions.circular):f("xAxis"===i?o.xAxis:o.yAxis,e.radialDefaultOptions.radial)),r&&"yAxis"===i&&(a.stackLabels=c(o.yAxis,!0)?o.yAxis.stackLabels:{},a.reversedStacks=!0);let l=this.options=f(a,t);l.plotBands||(l.plotBands=[]),u(this,"afterSetOptions")}function G(t,e,i,s,r,o,n){let a,l=this.axis;return l.isRadial?["M",e,i,"L",(a=l.getPosition(this.pos,l.center[2]/2+s)).x,a.y]:t.call(this,e,i,s,r,o,n)}e.radialDefaultOptions=f(t),e.compose=function(t,e){return m(n,"Axis.Radial")&&(l(t,"afterInit",L),l(t,"autoLabelAlign",D),l(t,"destroy",T),l(t,"init",E),l(t,"initialAxisTranslation",R),l(e,"afterGetLabelPosition",N),l(e,"afterGetPosition",j),l(i,"setOptions",O),b(e.prototype,"getMarkPath",G)),t}}(r||(r={})),r})),i(e,"Series/PolarComposition.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Globals.js"],e["Core/Series/Series.js"],e["Extensions/Pane/Pane.js"],e["Core/Axis/RadialAxis.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o){let{animObject:n}=t,{composed:a}=e,{addEvent:l,defined:h,find:p,isNumber:d,merge:u,pick:c,pushUnique:f,relativeLength:g,splat:m,uniqueKey:x,wrap:b}=o;function v(){(this.pane||[]).forEach((t=>{t.render()}))}function y(t){let e=t.args[0].xAxis,i=t.args[0].yAxis,s=t.args[0].chart;e&&i&&("polygon"===i.gridLineInterpolation?(e.startOnTick=!0,e.endOnTick=!0):"polygon"===e.gridLineInterpolation&&s.inverted&&(i.startOnTick=!0,i.endOnTick=!0))}function w(){this.pane||(this.pane=[]),this.options.pane=m(this.options.pane),this.options.pane.forEach((t=>{new s(t,this)}),this)}function S(t){let e=t.args.marker,i=this.chart.xAxis[0],s=this.chart.yAxis[0],r=this.chart.inverted,o=r?s:i,n=r?i:s;if(this.chart.polar){t.preventDefault();let i=(e.attr?e.attr("start"):e.start)-o.startAngleRad,s=e.attr?e.attr("r"):e.r,r=(e.attr?e.attr("end"):e.end)-o.startAngleRad,a=e.attr?e.attr("innerR"):e.innerR;t.result.x=i+o.pos,t.result.width=r-i,t.result.y=n.len+n.pos-s,t.result.height=s-a}}function M(t){let e=this.chart;if(e.polar&&e.hoverPane&&e.hoverPane.axis){t.preventDefault();let i=e.hoverPane.center,s=e.mouseDownX||0,r=e.mouseDownY||0,o=t.args.chartY,n=t.args.chartX,a=2*Math.PI,l=e.hoverPane.axis.startAngleRad,h=e.hoverPane.axis.endAngleRad,p=e.inverted?e.xAxis[0]:e.yAxis[0],d={},u="arc";if(d.x=i[0]+e.plotLeft,d.y=i[1]+e.plotTop,this.zoomHor){let t=l>0?h-l:Math.abs(l)+Math.abs(h),c=Math.atan2(r-e.plotTop-i[1],s-e.plotLeft-i[0])-l,f=Math.atan2(o-e.plotTop-i[1],n-e.plotLeft-i[0])-l;d.r=i[2]/2,d.innerR=i[3]/2,c<=0&&(c+=a),f<=0&&(f+=a),f<c&&(f=[c,c=f][0]),t<a&&l+f>h+(a-t)/2&&(f=c,c=l<=0?l:0);let g=d.start=Math.max(c+l,l),m=d.end=Math.min(f+l,h);if("polygon"===p.options.gridLineInterpolation){let t=e.hoverPane.axis,s=g-t.startAngleRad+t.pos,r=p.getPlotLinePath({value:p.max}),o=t.toValue(s),n=t.toValue(s+(m-g));if(o<t.getExtremes().min){let{min:e,max:i}=t.getExtremes();o=i-(e-o)}if(n<t.getExtremes().min){let{min:e,max:i}=t.getExtremes();n=i-(e-n)}n<o&&(n=[o,o=n][0]),(r=P(r,o,n,t)).push(["L",i[0]+e.plotLeft,e.plotTop+i[1]]),d.d=r,u="path"}}if(this.zoomVert){let t=e.inverted?e.xAxis[0]:e.yAxis[0],a=Math.sqrt(Math.pow(s-e.plotLeft-i[0],2)+Math.pow(r-e.plotTop-i[1],2)),p=Math.sqrt(Math.pow(n-e.plotLeft-i[0],2)+Math.pow(o-e.plotTop-i[1],2));if(p<a&&(a=[p,p=a][0]),p>i[2]/2&&(p=i[2]/2),a<i[3]/2&&(a=i[3]/2),this.zoomHor||(d.start=l,d.end=h),d.r=p,d.innerR=a,"polygon"===t.options.gridLineInterpolation){let e=t.toValue(t.len+t.pos-a),i=t.toValue(t.len+t.pos-p),s=t.getPlotLinePath({value:i}).concat(t.getPlotLinePath({value:e,reverse:!0}));d.d=s,u="path"}}if(this.zoomHor&&this.zoomVert&&"polygon"===p.options.gridLineInterpolation){let t=e.hoverPane.axis,i=d.start||0,s=d.end||0,r=i-t.startAngleRad+t.pos,o=t.toValue(r),n=t.toValue(r+(s-i));if(d.d instanceof Array){let t=d.d.slice(0,d.d.length/2),i=d.d.slice(d.d.length/2,d.d.length);i=[...i].reverse();let s=e.hoverPane.axis;t=P(t,o,n,s),(i=P(i,o,n,s))&&(i[0][0]="L"),i=[...i].reverse(),d.d=t.concat(i),u="path"}}t.attrs=d,t.shapeType=u}}function A(){let t=this.chart;t.polar&&(this.polar=new I(this),t.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function k(){if(this.chart.polar&&this.xAxis){let{xAxis:t,yAxis:i}=this,s=this.chart;this.kdByAngle=s.tooltip&&s.tooltip.shared,this.kdByAngle||s.inverted?this.searchPoint=C:this.options.findNearestPointBy="xy";let r=this.points,o=r.length;for(;o--;)this.is("column")||this.is("columnrange")||this.polar.toXY(r[o]),s.hasParallelCoordinates||this.yAxis.reversed||(c(r[o].y,Number.MIN_VALUE)<i.min||r[o].x<t.min||r[o].x>t.max?(r[o].isNull=!0,r[o].plotY=NaN):r[o].isNull=r[o].isValid&&!r[o].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(l(this,"afterRender",(function(){let t;s.polar&&!1!==this.options.clip&&(t=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2}):this.clipCircle=function(t,e,i,s,r){let o=x(),n=t.createElement("clipPath").attr({id:o}).add(t.defs),a=r?t.arc(e,i,s,r,0,2*Math.PI).add(n):t.circle(e,i,s).add(n);return a.id=o,a.clipPath=n,a}(s.renderer,t[0],t[1],t[2]/2,t[3]/2),this.group.clip(this.clipCircle),this.setClip=e.noop)}))))}}function C(t){let e=this.chart,i=this.xAxis,s=this.yAxis,r=i.pane&&i.pane.center,o=t.chartX-(r&&r[0]||0)-e.plotLeft,n=t.chartY-(r&&r[1]||0)-e.plotTop,a=e.inverted?{clientX:t.chartX-s.pos,plotY:t.chartY-i.pos}:{clientX:180+-180/Math.PI*Math.atan2(o,n)};return this.searchKDTree(a)}function P(t,e,i,s){let r=s.tickInterval,o=s.tickPositions,n=p(o,(t=>t>=i)),a=p([...o].reverse(),(t=>t<=e));return h(n)||(n=o[o.length-1]),h(a)||(a=o[0],n+=r,t[0][0]="L",t.unshift(t[t.length-3])),(t=t.slice(o.indexOf(a),o.indexOf(n)+1))[0][0]="M",t}function L(t,e){return p(this.pane||[],(t=>t.options.id===e))||t.call(this,e)}function D(t,e,s,r,o,n){let a,l,h,p=this.chart,d=c(r.inside,!!this.options.stacking);if(p.polar){if(a=e.rectPlotX/Math.PI*180,p.inverted)this.forceDL=p.isInsidePlot(e.plotX,e.plotY),d&&e.shapeArgs?(l=e.shapeArgs,o=u(o,{x:(h=this.yAxis.postTranslate(((l.start||0)+(l.end||0))/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2)).x-p.plotLeft,y:h.y-p.plotTop})):e.tooltipPos&&(o=u(o,{x:e.tooltipPos[0],y:e.tooltipPos[1]})),r.align=c(r.align,"center"),r.verticalAlign=c(r.verticalAlign,"middle");else{var f;let t,e;null===(f=r).align&&(t=a>20&&a<160?"left":a>200&&a<340?"right":"center",f.align=t),null===f.verticalAlign&&(e=a<45||a>315?"bottom":a>135&&a<225?"top":"middle",f.verticalAlign=e),r=f}i.prototype.alignDataLabel.call(this,e,s,r,o,n),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end?s.hide():s.show()}else t.call(this,e,s,r,o,n)}function T(){let t,e,i,s,r,n,a,l,p,u,c,f,m,x=this.options,b=x.stacking,v=this.chart,y=this.xAxis,w=this.yAxis,S=w.reversed,M=w.center,A=y.startAngleRad,k=y.endAngleRad-A,C=x.threshold,P=0,L=0,D=0;if(y.isRadial)for(i=(t=this.points).length,s=w.translate(w.min),r=w.translate(w.max),C=x.threshold||0,v.inverted&&d(C)&&h(P=w.translate(C))&&(P<0?P=0:P>k&&(P=k),this.translatedThreshold=P+A);i--;){if(c=(e=t[i]).barX,a=e.x,l=e.y,e.shapeType="arc",v.inverted){e.plotY=w.translate(l),b&&w.stacking?(u=w.stacking.stacks[(l<0?"-":"")+this.stackKey],this.visible&&u&&u[a]&&!e.isNull&&(p=u[a].points[this.getStackIndicator(void 0,a,this.index).key],L=w.translate(p[0]),D=w.translate(p[1]),h(L)&&(L=o.clamp(L,0,k)))):(L=P,D=e.plotY),L>D&&(D=[L,L=D][0]),S?D>s?D=s:L<r?L=r:(L>s||D<r)&&(L=D=k):L<s?L=s:D>r?D=r:(D<s||L>r)&&(L=D=0),w.min>w.max&&(L=D=S?k:0),L+=A,D+=A,M&&(e.barX=c+=M[3]/2),f=Math.max(c,0),m=Math.max(c+e.pointWidth,0);let t=x.borderRadius,i=g(("object"==typeof t?t.radius:t)||0,m-f);e.shapeArgs={x:M[0],y:M[1],r:m,innerR:f,start:L,end:D,borderRadius:i},e.opacity=L===D?0:void 0,e.plotY=(h(this.translatedThreshold)&&(L<this.translatedThreshold?L:D))-A}else L=c+A,e.shapeArgs=this.polar.arc(e.yBottom,e.plotY,L,L+e.pointWidth),e.shapeArgs.borderRadius=0;this.polar.toXY(e),v.inverted?(n=w.postTranslate(e.rectPlotY,c+e.pointWidth/2),e.tooltipPos=[n.x-v.plotLeft,n.y-v.plotTop]):e.tooltipPos=[e.plotX,e.plotY],M&&(e.ttBelow=e.plotY>M[1])}}function E(t,e){let i,s,r=this;if(this.chart.polar){e=e||this.points;for(let t=0;t<e.length;t++)if(!e[t].isNull){i=t;break}!1!==this.options.connectEnds&&void 0!==i&&(this.connectEnds=!0,e.splice(e.length,0,e[i]),s=!0),e.forEach((t=>{void 0===t.polarPlotY&&r.polar.toXY(t)}))}let o=t.apply(this,[].slice.call(arguments,1));return s&&e.pop(),o}function R(t,e){let i=this.chart,s={xAxis:[],yAxis:[]};return i.polar?i.axes.forEach((t=>{if("colorAxis"===t.coll)return;let r=t.isXAxis,o=t.center,n=e.chartX-o[0]-i.plotLeft,a=e.chartY-o[1]-i.plotTop;s[r?"xAxis":"yAxis"].push({axis:t,value:t.translate(r?Math.PI-Math.atan2(n,a):Math.sqrt(Math.pow(n,2)+Math.pow(a,2)),!0)})})):s=t.call(this,e),s}function N(t,e){this.chart.polar||t.call(this,e)}function j(t,i){let s,r,o,a,l,h,p=this,d=this.chart,u=this.group,f=this.markerGroup,g=this.xAxis&&this.xAxis.center,m=d.plotLeft,x=d.plotTop,b=this.options.animation;d.polar?p.isRadialBar?i||(p.startAngleRad=c(p.translatedThreshold,p.xAxis.startAngleRad),e.seriesTypes.pie.prototype.animate.call(p,i)):(b=n(b),p.is("column")?i||(r=g[3]/2,p.points.forEach((t=>{o=t.graphic,l=(a=t.shapeArgs)&&a.r,h=a&&a.innerR,o&&a&&(o.attr({r,innerR:r}),o.animate({r:l,innerR:h},p.options.animation))}))):i?(s={translateX:g[0]+m,translateY:g[1]+x,scaleX:.001,scaleY:.001},u.attr(s),f&&f.attr(s)):(s={translateX:m,translateY:x,scaleX:1,scaleY:1},u.animate(s,b),f&&f.animate(s,b))):t.call(this,i)}function O(t,e,i,s){let r,o;if(this.chart.polar)if(s){let t=(o=function t(e,i,s,r){let o,n,a,l,h,p,d=r?1:0,u=(o=i>=0&&i<=e.length-1?i:i<0?e.length-1+i:0)-1<0?e.length-(1+d):o-1,c=o+1>e.length-1?d:o+1,f=e[u],g=e[c],m=f.plotX,x=f.plotY,b=g.plotX,v=g.plotY,y=e[o].plotX,w=e[o].plotY;n=(1.5*y+m)/2.5,a=(1.5*w+x)/2.5,l=(1.5*y+b)/2.5,h=(1.5*w+v)/2.5;let S=Math.sqrt(Math.pow(n-y,2)+Math.pow(a-w,2)),M=Math.sqrt(Math.pow(l-y,2)+Math.pow(h-w,2)),A=Math.atan2(a-w,n-y);p=Math.PI/2+(A+Math.atan2(h-w,l-y))/2,Math.abs(A-p)>Math.PI/2&&(p-=Math.PI),n=y+Math.cos(p)*S,a=w+Math.sin(p)*S;let k={rightContX:l=y+Math.cos(Math.PI+p)*M,rightContY:h=w+Math.sin(Math.PI+p)*M,leftContX:n,leftContY:a,plotX:y,plotY:w};return s&&(k.prevPointCont=t(e,u,!1,r)),k}(e,s,!0,this.connectEnds)).prevPointCont&&o.prevPointCont.rightContX,i=o.prevPointCont&&o.prevPointCont.rightContY;r=["C",d(t)?t:o.plotX,d(i)?i:o.plotY,d(o.leftContX)?o.leftContX:o.plotX,d(o.leftContY)?o.leftContY:o.plotY,o.plotX,o.plotY]}else r=["M",i.plotX,i.plotY];else r=t.call(this,e,i,s);return r}function B(t,e,i=this.plotY){if(!this.destroyed){let{plotX:s,series:r}=this,{chart:o}=r;return o.polar&&d(s)&&d(i)?[s+(e?o.plotLeft:0),i+(e?o.plotTop:0)]:t.call(this,e,i)}}class I{static compose(t,e,i,o,n,h,p,d,u,c){if(s.compose(e,i),r.compose(t,n),f(a,"Polar")){let t=e.prototype,s=h.prototype,r=i.prototype,n=o.prototype;if(l(e,"afterDrawChartBox",v),l(e,"getAxes",w),l(e,"init",y),b(t,"get",L),b(r,"getCoordinates",R),b(r,"pinch",N),l(i,"getSelectionMarkerAttrs",M),l(i,"getSelectionBox",S),l(o,"afterInit",A),l(o,"afterTranslate",k,{order:2}),l(o,"afterColumnTranslate",T,{order:4}),b(n,"animate",j),b(s,"pos",B),d){let t=d.prototype;b(t,"alignDataLabel",D),b(t,"animate",j)}if(u&&b(u.prototype,"getGraphPath",E),c){let t=c.prototype;b(t,"getPointSpline",O),p&&(p.prototype.getPointSpline=t.getPointSpline)}}}constructor(t){this.series=t}arc(t,e,i,s){let r=this.series,o=r.xAxis.center,n=r.yAxis.len,a=o[3]/2,l=n-e+a,h=n-c(t,n)+a;return r.yAxis.reversed&&(l<0&&(l=a),h<0&&(h=a)),{x:o[0],y:o[1],r:l,innerR:h,start:i,end:s}}toXY(t){let e,i=this.series,s=i.chart,r=i.xAxis,o=i.yAxis,n=t.plotX,a=s.inverted,l=t.y,h=t.plotY,p=a?n:o.len-h;if(a&&i&&!i.isRadialBar&&(t.plotY=h=d(l)?o.translate(l):0),t.rectPlotX=n,t.rectPlotY=h,o.center&&(p+=o.center[3]/2),d(h)){let e=a?o.postTranslate(h,p):r.postTranslate(n,p);t.plotX=t.polarPlotX=e.x-s.plotLeft,t.plotY=t.polarPlotY=e.y-s.plotTop}i.kdByAngle?((e=(n/Math.PI*180+r.pane.options.startAngle)%360)<0&&(e+=360),t.clientX=e):t.clientX=t.plotX}}return I})),i(e,"Core/Axis/WaterfallAxis.js",[e["Core/Globals.js"],e["Core/Axis/Stacking/StackItem.js"],e["Core/Utilities.js"]],(function(t,e,i){var s;let{composed:r}=t,{addEvent:o,objectEach:n,pushUnique:a}=i;return function(t){function i(){let t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function s(){let t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function l(){this.waterfall||(this.waterfall=new p(this))}function h(){let t=this.axes;for(let e of this.series)if(e.options.stacking){for(let e of t)e.isXAxis||(e.waterfall.stacks.changed=!0);break}}t.compose=function(t,e){a(r,"Axis.Waterfall")&&(o(t,"init",l),o(t,"afterBuildStacks",i),o(t,"afterRender",s),o(e,"beforeRedraw",h))};class p{constructor(t){this.axis=t,this.stacks={changed:!1}}renderStackTotals(){let t=this.axis,i=t.waterfall.stacks,s=t.stacking&&t.stacking.stackTotalGroup,r=new e(t,t.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=r,s&&n(i,(t=>{n(t,((t,i)=>{r.total=t.stackTotal,r.x=+i,t.label&&(r.label=t.label),e.prototype.render.call(r,s),t.label=r.label,delete r.label}))})),r.total=null}}t.Composition=p}(s||(s={})),s})),i(e,"Series/Waterfall/WaterfallPoint.js",[e["Series/Column/ColumnSeries.js"],e["Core/Series/Point.js"],e["Core/Utilities.js"]],(function(t,e,i){let{isNumber:s}=i;class r extends t.prototype.pointClass{getClassName(){let t=e.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t}isValid(){return s(this.y)||this.isSum||!!this.isIntermediateSum}}return r})),i(e,"Series/Waterfall/WaterfallSeriesDefaults.js",[],(function(){return{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}})),i(e,"Series/Waterfall/WaterfallSeries.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"],e["Core/Axis/WaterfallAxis.js"],e["Series/Waterfall/WaterfallPoint.js"],e["Series/Waterfall/WaterfallSeriesDefaults.js"]],(function(t,e,i,s,r){let{column:o,line:n}=t.seriesTypes,{addEvent:a,arrayMax:l,arrayMin:h,correctFloat:p,crisp:d,extend:u,isNumber:c,merge:f,objectEach:g,pick:m}=e;function x(t,e){return Object.hasOwnProperty.call(t,e)}class b extends o{generatePoints(){o.prototype.generatePoints.apply(this);for(let t=0,e=this.points.length;t<e;t++){let e=this.points[t],i=this.processedYData[t];c(i)&&(e.isIntermediateSum||e.isSum)&&(e.y=p(i))}}processData(t){let e,i,s,r,o,n,a=this.options,l=this.yData,h=a.data,d=l.length,u=a.threshold||0;s=i=r=o=0;for(let t=0;t<d;t++)n=l[t],e=h&&h[t]?h[t]:{},"sum"===n||e.isSum?l[t]=p(s):"intermediateSum"===n||e.isIntermediateSum?(l[t]=p(i),i=0):(s+=n,i+=n),r=Math.min(s,r),o=Math.max(s,o);super.processData.call(this,t),a.stacking||(this.dataMin=r+u,this.dataMax=o)}toYData(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y}updateParallelArrays(t,e){super.updateParallelArrays.call(this,t,e),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)}pointAttribs(t,e){let i=this.options.upColor;i&&!t.options.color&&c(t.y)&&(t.color=t.y>0?i:void 0);let s=o.prototype.pointAttribs.call(this,t,e);return delete s.dashstyle,s}getGraphPath(){return[["M",0,0]]}getCrispPath(){let t=this.data.filter((t=>c(t.y))),e=this.yAxis,i=t.length,s=this.graph?.strokeWidth()||0,r=this.xAxis.reversed,o=this.yAxis.reversed,n=this.options.stacking,a=[];for(let l=1;l<i;l++){if(!this.options.connectNulls&&!c(this.data[t[l].index-1].y))continue;let i=t[l].box,h=t[l-1],p=h.y||0,u=t[l-1].box;if(!i||!u)continue;let f=e.waterfall.stacks[this.stackKey],g=p>0?-u.height:0;if(f&&u&&i){let t,p=f[l-1];if(n){let i=p.connectorThreshold;t=d(e.translate(i,!1,!0,!1,!0)+(o?g:0),s)}else t=d(u.y+(h.minPointLengthOffset||0),s);a.push(["M",(u.x||0)+(r?0:u.width||0),t],["L",(i.x||0)+(r&&i.width||0),t])}if(u&&a.length&&(!n&&p<0&&!o||p>0&&o)){let t=a[a.length-2];t&&"number"==typeof t[2]&&(t[2]+=u.height||0);let e=a[a.length-1];e&&"number"==typeof e[2]&&(e[2]+=u.height||0)}}return a}drawGraph(){n.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(t){let e,i,s,r,o,n,a,l,h,p=this.options,d=t.waterfall?.stacks,u=p.threshold||0,c=this.stackKey,f=this.xData,g=f.length,m=u,x=m,b=0,v=0,y=0,w=(t,s,r,o)=>{if(e){if(i)for(;r<i;r++)e.stackState[r]+=o;else e.stackState[0]=t,i=e.stackState.length;e.stackState.push(e.stackState[i-1]+s)}};if(t.stacking&&d&&this.reserveSpace()){h=d.changed,(l=d.alreadyChanged)&&0>l.indexOf(c)&&(h=!0),d[c]||(d[c]={});let t=d[c];if(t)for(let l=0;l<g;l++)(!t[a=f[l]]||h)&&(t[a]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:h&&t[a]?t[a].label:void 0}),e=t[a],(n=this.yData[l])>=0?e.posTotal+=n:e.negTotal+=n,o=p.data[l],s=e.absolutePos=e.posTotal,r=e.absoluteNeg=e.negTotal,e.stackTotal=s+r,i=e.stackState.length,o&&o.isIntermediateSum?(w(y,v,0,y),y=v,v=u,m^=x,x^=m,m^=x):o&&o.isSum?(w(u,b,i,0),m=u):(w(m,n,0,b),o&&(b+=n,v+=n)),e.stateIndex++,e.threshold=m,m+=e.stackTotal;d.changed=!1,d.alreadyChanged||(d.alreadyChanged=[]),d.alreadyChanged.push(c)}}getExtremes(){let t,e,i,s=this.options.stacking;return s?(t=this.yAxis.waterfall.stacks,e=this.stackedYNeg=[],i=this.stackedYPos=[],g(t[this.stackKey],"overlap"===s?function(t){e.push(h(t.stackState)),i.push(l(t.stackState))}:function(t){e.push(t.negTotal+t.threshold),i.push(t.posTotal+t.threshold)}),{dataMin:h(e),dataMax:l(i)}):{dataMin:this.dataMin,dataMax:this.dataMax}}}return b.defaultOptions=f(o.defaultOptions,r),b.compose=i.compose,u(b.prototype,{pointValKey:"y",showLine:!0,pointClass:s}),a(b,"afterColumnTranslate",(function(){let t,e,i,s,{options:r,points:o,yAxis:n}=this,a=m(r.minPointLength,5),l=a/2,h=r.threshold||0,p=r.stacking,g=n.waterfall.stacks[this.stackKey],b=h,v=h;for(let r=0;r<o.length;r++){let m=o[r],y=this.processedYData[r],w=u({x:0,y:0,width:0,height:0},m.shapeArgs||{});m.box=w;let S=[0,y],M=m.y||0;if(p){if(g){let o=g[r];"overlap"===p?(e=o.stackState[o.stateIndex--],t=M>=0?e:e-M,x(o,"absolutePos")&&delete o.absolutePos,x(o,"absoluteNeg")&&delete o.absoluteNeg):(M>=0?(e=o.threshold+o.posTotal,o.posTotal-=M,t=e):(e=o.threshold+o.negTotal,o.negTotal-=M,t=e-M),!o.posTotal&&c(o.absolutePos)&&x(o,"absolutePos")&&(o.posTotal=o.absolutePos,delete o.absolutePos),!o.negTotal&&c(o.absoluteNeg)&&x(o,"absoluteNeg")&&(o.negTotal=o.absoluteNeg,delete o.absoluteNeg)),m.isSum||(o.connectorThreshold=o.threshold+o.stackTotal),n.reversed?(i=M>=0?t-M:t+M,s=t):(i=t,s=t-M),m.below=i<=h,w.y=n.translate(i,!1,!0,!1,!0),w.height=Math.abs(w.y-n.translate(s,!1,!0,!1,!0));let a=n.waterfall.dummyStackItem;a&&(a.x=r,a.label=g[r].label,a.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[r],this.stackedYPos[r],void 0,this.xAxis))}}else t=Math.max(v,v+M)+S[0],w.y=n.translate(t,!1,!0,!1,!0),m.isSum?(w.y=n.translate(S[1],!1,!0,!1,!0),w.height=Math.min(n.translate(S[0],!1,!0,!1,!0),n.len)-w.y,m.below=S[1]<=h):m.isIntermediateSum?(M>=0?(i=S[1]+b,s=b):(i=b,s=S[1]+b),n.reversed&&(i^=s,s^=i,i^=s),w.y=n.translate(i,!1,!0,!1,!0),w.height=Math.abs(w.y-Math.min(n.translate(s,!1,!0,!1,!0),n.len)),b+=S[1],m.below=i<=h):(w.height=y>0?n.translate(v,!1,!0,!1,!0)-w.y:n.translate(v,!1,!0,!1,!0)-n.translate(v-y,!1,!0,!1,!0),v+=y,m.below=v<h),w.height<0&&(w.y+=w.height,w.height*=-1);m.plotY=w.y,m.yBottom=w.y+w.height,w.height<=a&&!m.isNull?(w.height=a,w.y-=l,m.yBottom=w.y+w.height,m.plotY=w.y,m.minPointLengthOffset=M<0?-l:l):(m.isNull&&(w.width=0),m.minPointLengthOffset=0);let A=m.plotY+(m.negative?w.height:0);m.below&&(m.plotY+=w.height),m.tooltipPos&&(this.chart.inverted?m.tooltipPos[0]=n.len-A:m.tooltipPos[1]=A),m.isInside=this.isPointInside(m);let k=d(m.yBottom,this.borderWidth);w.y=d(w.y,this.borderWidth),w.height=k-w.y,f(!0,m.shapeArgs,w)}}),{order:2}),t.registerSeriesType("waterfall",b),b})),i(e,"masters/highcharts-more.src.js",[e["Core/Globals.js"],e["Core/Series/SeriesRegistry.js"],e["Extensions/Pane/Pane.js"],e["Series/Bubble/BubbleSeries.js"],e["Series/PackedBubble/PackedBubbleSeries.js"],e["Series/PolarComposition.js"],e["Core/Axis/RadialAxis.js"],e["Series/Waterfall/WaterfallSeries.js"]],(function(t,e,i,s,r,o,n,a){return t.RadialAxis=n,s.compose(t.Axis,t.Chart,t.Legend),r.compose(t.Axis,t.Chart,t.Legend),i.compose(t.Chart,t.Pointer),o.compose(t.Axis,t.Chart,t.Pointer,t.Series,t.Tick,t.Point,e.seriesTypes.areasplinerange,e.seriesTypes.column,e.seriesTypes.line,e.seriesTypes.spline),a.compose(t.Axis,t.Chart),t}))},t.exports?(o.default=o,t.exports=o):(s=[i(4783)],void 0===(r=function(t){return o(t),o.Highcharts=t,o}.apply(e,s))||(t.exports=r))},5682:(t,e,i)=>{(e=i(6314)(!1)).push([t.id,"\nsvg.compass-rose text {\n font-size: 28px;\n}\nsvg.compass-rose text.card {\n font-family: century-gothic, sans-serif;\n font-weight:700;\n font-size:18px;\n}\nsvg.compass-rose text.title {\n  font-weight:700;\n  font-size: 28px;\n  text-transform: uppercase;\n}\n\n",""]),t.exports=e},8364:(t,e,i)=>{var s,r,o;o=function(t){"use strict";var e=t?t._modules:{};function i(e,i,s,r){e.hasOwnProperty(i)||(e[i]=r.apply(null,s),"function"==typeof CustomEvent&&t.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}i(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(t,e){let{win:i}=t,{discardElement:s,objectEach:r}=e,o={ajax:function(t){let e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;function s(e,i){t.error&&t.error(e,i)}if(!t.url)return!1;i.open((t.type||"get").toUpperCase(),t.url,!0),t.headers&&t.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[t.dataType||"json"]||e.text),r(t.headers,(function(t,e){i.setRequestHeader(e,t)})),t.responseType&&(i.responseType=t.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==t.responseType&&(e=i.responseText,"json"===t.dataType))try{e=JSON.parse(e)}catch(t){if(t instanceof Error)return s(i,t)}return t.success&&t.success(e,i)}s(i,i.responseText)}},t.data&&"string"!=typeof t.data&&(t.data=JSON.stringify(t.data)),i.send(t.data)},getJSON:function(t,e){o.ajax({url:t,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(t,e,o){let n=new i.FormData;r(e,(function(t,e){n.append(e,t)})),n.append("b64","true");let{filename:a,type:l}=e;return i.fetch(t,{method:"POST",body:n,...o}).then((t=>{t.ok&&t.text().then((t=>{let e=document.createElement("a");e.href=`data:${l};base64,${t}`,e.download=a,e.click(),s(e)}))}))}};return o})),i(e,"Extensions/Data.js",[e["Core/Axis/Axis.js"],e["Core/Chart/Chart.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Series/Point.js"],e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],(function(t,e,i,s,r,o,n,a){let{getOptions:l}=i,{doc:h}=s,{ajax:p}=r,{seriesTypes:d}=n,{addEvent:u,defined:c,extend:f,fireEvent:g,isNumber:m,merge:x,objectEach:b,pick:v,splat:y}=a;function w(t){return!(!t||!(t.rowsURL||t.csvURL||t.columnsURL))}class S{static data(t,e={},i){return new S(t,e,i)}static rowsToColumns(t){let e,i,s,r,o;if(t)for(e=0,o=[],i=t.length;e<i;e++)for(s=0,r=t[e].length;s<r;s++)o[s]||(o[s]=[]),o[s][e]=t[e][s];return o}constructor(t,e={},i){this.rowsToColumns=S.rowsToColumns,this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})[\-\/\.](\d{1,2})[\-\/\.](\d{1,2})$/,parser:function(t){return t?Date.UTC(+t[1],+t[2]-1,+t[3]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(t){return t?Date.UTC(+t[3],+t[2]-1,+t[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{4})$/,parser:function(t){return t?Date.UTC(+t[3],+t[1]-1,+t[2]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(t){if(!t)return NaN;let e=new Date,i=+t[3];return i>e.getFullYear()-2e3?i+=1900:i+=2e3,Date.UTC(i,+t[2]-1,+t[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})[\-\/\.](\d{1,2})[\-\/\.](\d{2})$/,parser:function(t){return t?Date.UTC(+t[3]+2e3,+t[1]-1,+t[2]):NaN}}},this.chart=i,this.chartOptions=e,this.options=t,this.rawColumns=[],this.init(t,e,i)}init(t,e,i){let s,r=t.decimalPoint;e&&(this.chartOptions=e),i&&(this.chart=i),"."!==r&&","!==r&&(r=void 0),this.options=t,this.columns=t.columns||this.rowsToColumns(t.rows)||[],this.firstRowAsNames=v(t.firstRowAsNames,this.firstRowAsNames,!0),this.decimalRegex=r&&RegExp("^(-?[0-9]+)"+r+"([0-9]+)$"),void 0!==this.liveDataTimeout&&clearTimeout(this.liveDataTimeout),this.rawColumns=[],this.columns.length&&(this.dataFound(),s=!w(t)),s||(s=this.fetchLiveData()),s||(s=!!this.parseCSV().length),s||(s=!!this.parseTable().length),s||(s=this.parseGoogleSpreadsheet()),!s&&t.afterComplete&&t.afterComplete(this)}getColumnDistribution(){let t=this.chartOptions,e=this.options,i=[],s=function(t="line"){return(d[t].prototype.pointArrayMap||[0]).length},r=function(t="line"){return d[t].prototype.pointArrayMap},o=t?.chart?.type,n=[],a=[],l=e?.seriesMapping||t?.series?.map((function(){return{x:0}}))||[],h=0;(t?.series||[]).forEach((t=>{n.push(s(t.type||o))})),l.forEach((t=>{i.push(t.x||0)})),0===i.length&&i.push(0),l.forEach((e=>{let i=new M,l=n[h]||s(o),p=(t?.series??[])[h]??{},d=r(p.type||o),u=d??["y"];(c(e.x)||p.isCartesian||!d)&&i.addColumnReader(e.x,"x"),b(e,(function(t,e){"x"!==e&&i.addColumnReader(t,e)}));for(let t=0;t<l;t++)i.hasReader(u[t])||i.addColumnReader(void 0,u[t]);a.push(i),h++}));let p=r(o);void 0===p&&(p=["y"]),this.valueCount={global:s(o),xColumns:i,individual:n,seriesBuilders:a,globalPointArrayMap:p}}dataFound(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns)),this.getColumnDistribution(),this.parseTypes(),!1!==this.parsed()&&this.complete()}parseCSV(t){let e,i,s=this,r=this.columns=[],o=t||this.options,n=o.startColumn||0,a=o.endColumn||Number.MAX_VALUE,l=[],h={",":0,";":0,"\t":0},p=o.csv,d=o.startRow||0,u=o.endRow||Number.MAX_VALUE,c=0;if(p&&o.beforeParse&&(p=o.beforeParse.call(this,p)),p){if(i=p.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(o.lineDelimiter||"\n"),(!d||d<0)&&(d=0),(!u||u>=i.length)&&(u=i.length-1),o.itemDelimiter)e=o.itemDelimiter;else{let t,r,n;t=0,r=0,n=!1,i.some((function(e,i){let s,o,n,a=!1,l="";if(i>13)return!0;for(let i=0;i<e.length;i++){if(s=e[i],o=e[i+1],n=e[i-1],"#"===s)return;if('"'===s)if(a){if('"'!==n&&'"'!==o){for(;" "===o&&i<e.length;)o=e[++i];void 0!==h[o]&&h[o]++,a=!1}}else a=!0;else void 0!==h[s]?(isNaN(Date.parse(l=l.trim()))?(isNaN(l)||!isFinite(l))&&h[s]++:h[s]++,l=""):l+=s;","===s&&r++,"."===s&&t++}})),h[";"]>h[","]?n=";":(h[","],h[";"],n=","),o.decimalPoint||(o.decimalPoint=t>r?".":",",s.decimalRegex=RegExp("^(-?[0-9]+)"+o.decimalPoint+"([0-9]+)$")),e=n}let t=0;for(c=d;c<=u;c++)"#"===i[c][0]?t++:function(t,i){let s=0,h="",p="",d="",u="",c=0,f=0;function g(e){h=t[e],p=t[e-1],d=t[e+1]}function m(t){l.length<f+1&&l.push([t]),l[f][l[f].length-1]!==t&&l[f].push(t)}function x(){if(n>c||c>a)return++c,void(u="");o.columnTypes||(!isNaN(parseFloat(u))&&isFinite(u)?(u=parseFloat(u),m("number")):isNaN(Date.parse(u))?m("string"):(u=u.replace(/\//g,"-"),m("date"))),r.length<f+1&&r.push([]),r[f][i]=u,u="",++f,++c}if(t.trim().length&&"#"!==t.trim()[0]){for(;s<t.length;s++)if(g(s),'"'===h)for(g(++s);s<t.length&&('"'!==h||'"'===p||'"'===d);)('"'!==h||'"'===h&&'"'!==p)&&(u+=h),g(++s);else h===e?x():u+=h;x()}}(i[c],c-d-t);(!o.columnTypes||0===o.columnTypes.length)&&l.length&&l[0].length&&"date"===l[0][1]&&!o.dateFormat&&(o.dateFormat=function(t,e){let i,r,n,a="YYYY/mm/dd",l=[],h=[],p=[],d=0,u=!1;for((!e||e>t.length)&&(e=t.length);d<e;d++)if(void 0!==t[d]&&t[d]?.length)for(n=0,i=t[d].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" "),p=["","",""];n<i.length;n++)n<p.length&&(i[n]=parseInt(i[n],10),i[n]&&(h[n]=!h[n]||h[n]<i[n]?i[n]:h[n],void 0!==l[n]?l[n]!==i[n]&&(l[n]=!1):l[n]=i[n],i[n]>31?i[n]<100?p[n]="YY":p[n]="YYYY":i[n]>12&&i[n]<=31?(p[n]="dd",u=!0):p[n].length||(p[n]="mm")));if(u){for(n=0;n<l.length;n++)!1!==l[n]?h[n]>12&&"YY"!==p[n]&&"YYYY"!==p[n]&&(p[n]="YY"):h[n]>12&&"mm"===p[n]&&(p[n]="dd");return 3===p.length&&"dd"===p[1]&&"dd"===p[2]&&(p[2]="YY"),r=p.join("/"),(o.dateFormats||s.dateFormats)[r]?r:(g(s,"deduceDateFailed"),a)}return a}(r[0])),this.dataFound()}return r}parseTable(){let t=this.options,e=this.columns||[],i=t.startRow||0,s=t.endRow||Number.MAX_VALUE,r=t.startColumn||0,o=t.endColumn||Number.MAX_VALUE;if(t.table){let n=t.table;"string"==typeof n&&(n=h.getElementById(n)),[].forEach.call(n.getElementsByTagName("tr"),((t,n)=>{n>=i&&n<=s&&[].forEach.call(t.children,((t,s)=>{let a=e[s-r],l=1;if(("TD"===t.tagName||"TH"===t.tagName)&&s>=r&&s<=o)for(e[s-r]||(e[s-r]=[]),e[s-r][n-i]=t.innerHTML;n-i>=l&&void 0===a[n-i-l];)a[n-i-l]=null,l++}))})),this.dataFound()}return e}fetchLiveData(){let t=this,e=this.chart,i=this.options,s=i.enablePolling,r=x(i),o=0,n=1e3*(i.dataRefreshRate||2);return!!w(i)&&(n<1e3&&(n=1e3),delete i.csvURL,delete i.rowsURL,delete i.columnsURL,function a(l){function h(r,h,d){if(!r||!/^(http|\/|\.\/|\.\.\/)/.test(r))return r&&i.error&&i.error("Invalid URL"),!1;function u(){s&&e.liveDataURL===r&&(t.liveDataTimeout=setTimeout(a,n))}return l&&(clearTimeout(t.liveDataTimeout),e.liveDataURL=r),p({url:r,dataType:d||"json",success:function(t){e?.series&&h(t),u()},error:function(t,e){return++o<3&&u(),i.error?.(e,t)}}),!0}h(r.csvURL,(function(t){e.update({data:{csv:t}})}),"text")||h(r.rowsURL,(function(t){e.update({data:{rows:t}})}))||h(r.columnsURL,(function(t){e.update({data:{columns:t}})}))}(!0),w(i))}parseGoogleSpreadsheet(){let t=this,e=this.options,i=e.googleSpreadsheetKey,s=this.chart,r=Math.max(1e3*(e.dataRefreshRate||2),4e3),o=()=>{if(e.googleSpreadsheetRange)return e.googleSpreadsheetRange;let t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=(t.charAt(e.startColumn||0)||"A")+((e.startRow||0)+1),s=t.charAt(v(e.endColumn,-1))||"ZZ";return c(e.endRow)&&(s+=e.endRow+1),`${i}:${s}`};return i&&(delete e.googleSpreadsheetKey,function s(n){p({url:["https://sheets.googleapis.com/v4/spreadsheets",i,"values",o(),"?alt=json&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE&dateTimeRenderOption=FORMATTED_STRING&key="+e.googleAPIKey].join("/"),dataType:"json",success:function(i){n(i),e.enablePolling&&(t.liveDataTimeout=setTimeout((function(){s(n)}),r))},error:function(t,i){return e.error?.(i,t)}})}((function(e){let i=e.values;if(!i||0===i.length)return!1;let r=i.reduce(((t,e)=>Math.max(t,e.length)),0);i.forEach((t=>{for(let e=0;e<r;e++)void 0===t[e]&&(t[e]=null)})),s?.series?s.update({data:{columns:i}}):(t.columns=i,t.dataFound())}))),!1}trim(t,e){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""),e&&/[\d\s]+/.test(t)&&(t=t.replace(/\s/g,"")),this.decimalRegex&&(t=t.replace(this.decimalRegex,"$1.$2"))),t}parseTypes(){let t=this.columns||[],e=t.length;for(;e--;)this.parseColumn(t[e],e)}parseColumn(t,e){let i,s,r,o,n,a,l,h=this.rawColumns,p=this.columns=this.columns||[],d=this.firstRowAsNames,u=-1!==this.valueCount?.xColumns.indexOf(e),f=[],g=this.chartOptions,x=(this.options.columnTypes||[])[e],b=u&&g?.xAxis&&"category"===y(g.xAxis)[0].type||"string"===x,v=c(t.name),w=t.length;for(h[e]||(h[e]=[]);w--;)i=f[w]||t[w],r=this.trim(i),s=parseFloat(o=this.trim(i,!0)),void 0===h[e][w]&&(h[e][w]=r),b||0===w&&d&&!v?t[w]=""+r:+o===s?(t[w]=s,s>31536e6&&"float"!==x?t.isDatetime=!0:t.isNumeric=!0,void 0!==t[w+1]&&(l=s>t[w+1])):(r?.length&&(n=this.parseDate(i)),u&&m(n)&&"float"!==x?(f[w]=i,t[w]=n,t.isDatetime=!0,void 0!==t[w+1]&&((a=n>t[w+1])!==l&&void 0!==l&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,w=t.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):t.unsorted=!0),l=a)):(t[w]=""===r?null:r,0!==w&&(t.isDatetime||t.isNumeric)&&(t.mixed=!0)));if(u&&t.mixed&&(p[e]=h[e]),u&&l&&this.options.sort)for(e=0;e<p.length;e++)if(p[e].reverse(),d){let t=p[e].pop();t&&p[e].unshift(t)}}parseDate(t){let e,i,s,r,o=this.options.parseDate,n=this.options.dateFormat||this.dateFormat;if(o)e=o(t);else if("string"==typeof t){if(n)(s=this.dateFormats[n])||(s=this.dateFormats["YYYY/mm/dd"]),(r=t.match(s.regex))&&(e=s.parser(r));else for(i in this.dateFormats)if(s=this.dateFormats[i],r=t.match(s.regex)){this.dateFormat=n=i,this.alternativeFormat=s.alternative,e=s.parser(r);break}!r&&(t.match(/:.+(GMT|UTC|[Z+\-])/)&&(t=t.replace(/\s*(?:GMT|UTC)?([+\-])(\d\d)(\d\d)$/,"$1$2:$3").replace(/(?:\s+|GMT|UTC)([+\-])/,"$1").replace(/(\d)\s*(?:GMT|UTC|Z)$/,"$1+00:00")),"object"==typeof(r=Date.parse(t))&&null!==r&&r.getTime?e=r.getTime()-6e4*r.getTimezoneOffset():m(r)&&(e=r-6e4*new Date(r).getTimezoneOffset()))}return e}getData(){if(this.columns)return this.rowsToColumns(this.columns)?.slice(1)}parsed(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)}complete(){let t,e,i,s,r,o,n,a,l,h,p,d=this.columns=this.columns||[],u=this.options,f=[],g="linear";if(d.length,u.complete||u.afterComplete){if(this.firstRowAsNames)for(i=0;i<d.length;i++){let t=d[i];c(t.name)||(t.name=v(t.shift(),"").toString())}for(o=0,t=[],l=function(t,e){let i,s,r,o=[],n=[];for(s=0;s<t;s+=1)o.push(!0);for(i=0;i<e.length;i+=1)for(s=0,r=e[i].getReferencedColumnIndexes();s<r.length;s+=1)o[r[s]]=!1;for(s=0;s<o.length;s+=1)o[s]&&n.push(s);return n}(d?.length||0,this.valueCount.seriesBuilders);o<this.valueCount.seriesBuilders.length;o++)(a=this.valueCount.seriesBuilders[o]).populateColumns(l)&&f.push(a);for(;l.length>0;){for((a=new M).addColumnReader(0,"x"),-1!==(p=l.indexOf(0))&&l.splice(p,1),i=0;i<this.valueCount.global;i++)a.addColumnReader(void 0,this.valueCount.globalPointArrayMap[i]);a.populateColumns(l)&&f.push(a)}if(f.length>0&&f[0].readers.length>0&&void 0!==(h=d?.[f[0].readers[0].columnIndex??-1])&&(h.isDatetime?g="datetime":h.isNumeric||(g="category")),"category"===g)for(o=0;o<f.length;o++)for(r=0,a=f[o];r<a.readers.length;r++)"x"===a.readers[r].configName&&(a.readers[r].configName="name");for(o=0;o<f.length;o++){for(s=0,a=f[o],e=[];s<d[0].length;s++)e[s]=a.read(d,s);t[o]={data:e,pointStart:e[0]&&(a.pointIsArray?e[0]?.[0]:e[0]?.x)||void 0},a.name&&(t[o].name=a.name),"category"===g&&(t[o].turboThreshold=0,t[o].pointStart=0)}n={series:t},"linear"!==g||this.xAxisOptions&&this.xAxisOptions.type!==g?(this.xAxisOptions={type:g},"category"===g&&(this.xAxisOptions.uniqueNames=!1)):g=this.xAxisOptions=void 0,this.chart||x(!0,n,{xAxis:this.xAxisOptions||{}}),u.complete?.(n),u.afterComplete?.(this,n)}}xAxisUpdateHandler(t){let e=this.xAxisOptions;e&&(!t.options.type&&e.type&&(t.type=e.type),t.options.uniqueNames||!1!==e.uniqueNames||(t.uniqueNames=e.uniqueNames))}update(t,e){let i=this.chart,s=i.options;t&&(t.afterComplete=function(t,s){if(!s)return;let r=i.xAxis[0],o=t.xAxisOptions;o&&r&&(r.type!==o.type&&!r.options.type||r.uniqueNames&&!1===o.uniqueNames&&void 0===r.options.uniqueNames)?r.update({},!1):(s?.series||[]).forEach((function(t){delete t.pointStart})),i.update(s,e,!0)},x(!0,s.data,t),s.data?.googleSpreadsheetKey&&!t.columns&&delete s.data.columns,this.init(s.data||{},s))}}u(t,"afterSetOptions",(function(){this.isXAxis&&(!this.chart.xAxis.length||this.chart.xAxis[0]===this)&&this.chart.data?.xAxisUpdateHandler(this)})),u(e,"init",(function(t){let e=this,i=t.args[1],s=l().data,r=t.args[0]||{};if((s||r&&r.data)&&!e.hasDataDef){e.hasDataDef=!0;let o=x(s,r.data);e.data=new S(f(o,{afterComplete:function(t,s){let o,n;if(Object.hasOwnProperty.call(r,"series"))if("object"==typeof r.series)for(o=Math.max(r.series.length,s?.series?.length??0);o--;)n=r.series[o]||{},r.series[o]=x(n,s?.series?.[o]??{});else delete r.series;r=x(s,r),e.data=t,e.init(r,i)}}),r,e),t.preventDefault()}}));class M{constructor(){this.readers=[],this.pointIsArray=!0}populateColumns(t){let e=!0;return this.readers.forEach((e=>{void 0===e.columnIndex&&(e.columnIndex=t.shift())})),this.readers.forEach((t=>{void 0===t.columnIndex&&(e=!1)})),e}read(t,e){let i=this.pointIsArray,s=i?[]:{};if(this.readers.forEach((r=>{let n=t[r.columnIndex][e];i?s.push(n):r.configName.indexOf(".")>0?o.prototype.setNestedProperty(s,n,r.configName):s[r.configName]=n})),void 0===this.name&&this.readers.length>=2){let e=[];this.readers.forEach((function(t){("x"===t.configName||"name"===t.configName||"y"===t.configName)&&void 0!==t.columnIndex&&e.push(t.columnIndex)})),e.length>=2&&(e.shift(),e.sort((function(t,e){return t-e}))),this.name=t[v(e.shift(),0)].name}return s}addColumnReader(t,e){this.readers.push({columnIndex:t,configName:e}),"x"===e||"y"===e||void 0===e||(this.pointIsArray=!1)}getReferencedColumnIndexes(){let t,e,i=[];for(t=0;t<this.readers.length;t+=1)void 0!==(e=this.readers[t]).columnIndex&&i.push(e.columnIndex);return i}hasReader(t){let e;for(e=0;e<this.readers.length;e+=1)if(this.readers[e].configName===t)return!0}}return S})),i(e,"masters/modules/data.src.js",[e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Extensions/Data.js"]],(function(t,e,i){return t.Data=t.Data||i,t.HttpUtilities=t.HttpUtilities||e,t.ajax=t.HttpUtilities.ajax,t.data=t.Data.data,t.getJSON=t.HttpUtilities.getJSON,t.post=t.HttpUtilities.post,t}))},t.exports?(o.default=o,t.exports=o):(s=[i(4783)],void 0===(r=function(t){return o(t),o.Highcharts=t,o}.apply(e,s))||(t.exports=r))},8793:(t,e,i)=>{(e=i(6314)(!1)).push([t.id,"\n.graph-container {\n    width:700px;\n    height:auto;\n    max-height:95%;\n    position:fixed;\n    top: calc(50% - 300px);\n    left:calc(50% - 350px);\n    border: 2px solid #888;\n    border-radius: 0 0 5px 5px;\n    background: white;\n    box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, 0.2);\n    z-index:11;\n}\n.my-spinner {\n  display:block;\n  text-align: center;\n  vertical-align: middle;\n  color: grey;\n  height:100%;\n  line-height: 150px;\n}\n.my-spinner > span {\n  vertical-align: middle;\n}\n.graph-container .tio-element {\n  font-color: darkgrey;\n  font-size: 12px;\n  /* display:inline-block;*/\n  margin-top:20px;\n  vertical-align:top;\n  padding:0 5px;\n}\n.graph-container .tio-element  > div {\n  margin-left:10px;\n}\n.graph-container .graph-infos {\n   margin:0px;\n   padding:0;\n   font-size:0.9rem;\n}\n.graph-container .graph-header {\n  background: #f3F3F3;\n  position:relative;\n  margin: 0;\n}\n.graph-container .graph-infos label {\n  font-weight:700;\n}\n.graph-container .graph-header h4 {\n  margin:0;\n  padding: 5px 10px 5px 5px;\n  cursor: move;\n}\n.graph-container .graph-header .fa.fa-close {\n  display:block;\n  float:right;\n  margin: 3px 5px;\n  padding: 2px;\n  border: 1px dotted #f3F3F3;\n  cursor: pointer;\n}\n.graph-container .graph-header .fa.fa-close:hover {\n  border-color: #333;\n}\n",""]),t.exports=e}}]);
//# sourceMappingURL=607.gdm-search-components-vjs.js.map