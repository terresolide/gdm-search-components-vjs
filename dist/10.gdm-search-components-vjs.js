(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{252:function(e,t,s){var o=s(345);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,s(3).default)("3dd9065e",o,!0,{})},344:function(e,t,s){"use strict";s(252)},345:function(e,t,s){(t=s(2)(!1)).push([e.i,'\n.job-header {\n  display:flex;\n}\n.job-header > div {\n  padding: 0 10px 0 0;\n  flex-grow:1;\n}\n.job-header h2,\n.job-content h1 {\n  color:black;\n  font-size:20px;\n  font-family: "Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif;\n}\n.job-content h1 {\n  font-size: 24px;\n}\n.user-search {\n   margin:auto;\n   margin-bottom:20px;\n   text-align: left;\n   display: inline-block;\n   background: #F5f5f5;\n   margin-bottom: 40px;\n   margin-left: calc(50% - 225px);\n   padding: 10px;\n   border: 1px solid grey;\n   border-radius: 5px;\n}\n.user-search-large {\n   margin-left:5px;\n}\n.user-search > div {\n   display: inline-block;\n}\n.user-search label {\n   margin-left:10px;\n   font-weight: 700;\n}\nul.menu-content {\n  border-bottom: 1px solid #adadad;\n}\nul.menu-content li {\n  display: inline-block;\n\tmin-width: 50px;\n\tfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n\tborder: 1px solid #adadad;\n\tborder-bottom: none;\n\ttext-align: center;\n\tcolor: black;\n\theight: 30px;\n\tvertical-align: middle;\n\tmargin: 0;\n\tbackground: #efefef;\n\tcursor:pointer;\n}\nul.menu-content li span {\n   text-transform: capitalize;\nvertical-align: middle;\nfont-size: 1.1rem;\nheight: 30px;\nmin-width: 50px;\ncolor: black;\npadding: 5px 10px 0 10px;\ntext-decoration: none;\ndisplay: inline-block;\n}\n/* ul.menu-content li{\n    text-transform: capitalize;\n    vertical-align: middle;\n    font-size: 1.1rem;\n    height: 30px;\n    min-width:50px;\n    color:black;\n    padding: 5px 10px 0 10px;\n    text-decoration: none;\n    display:inline-block;\n} */\nul.menu-content li:hover {\n  color:#b8412c;\n}\nul.menu-content li.selected  span {\n  background:white;\n  color:#b8412c;\n}\nul.menu-content li.isDisabled {\n  pointer-events: none;\n  color:grey;\n}\n',""]),e.exports=t},366:function(e,t,s){"use strict";s.r(t);var o=s(340),n=s(341),r=s.n(n),a=s(342),i=s.n(a),c=s(343),l=s.n(c),u=s(0),d=s.n(u),v={name:"GdmStatForm",props:{mode:{type:String,default:"connection"},services:{type:Array,default:function(){return[]}},groups:{type:Object,default:function(){}}},watch:{mode:function(e){this.search()}},computed:{selectedName:function(){var e=this;if(""!==this.selectedService){var t=this.services.find((function(t){return t.id===e.selectedService}));if(t)return"Jobs pour le service "+t.name}return""!==this.selectedGroup?"Jobs pour les services "+this.selectedGroup:"Jobs pour tous les services"}},data:function(){return{by:"day",startDate:null,endDate:null,group:"type",groupBy:"service",status:"",selectedService:"",selectedServices:[],selectedGroup:"",userType:null}},created:function(){this.by="day",this.startDate=d()().startOf("month").format("YYYY-MM-DD"),this.endDate=d()().endOf("month").format("YYYY-MM-DD"),this.selectedServices=this.services,this.search()},methods:{details:function(){var e={};if(this.startDate&&(e.startDate=this.startDate),this.endDate&&(e.endDate=this.endDate),""!==this.status&&(e.status=this.status),""!==this.selectedService)e.service=this.selectedService;else if(""!==this.selectedGroup){var t=this.selectedServices.map((function(e){return e.id}));e.service=t.join(",")}return e.groupBy=this.groupBy,this.group&&(e.group=this.group),e.by=this.by,e},search:function(){this.$emit("search",this.details())},changeGroup:function(){""!==this.selectedGroup?(this.selectedService="",this.selectedServices=this.groups[this.selectedGroup]):this.selectedServices=this.services,this.$emit("servicesChange",this.selectedServices),this.search()},draw:function(){this.$emit("draw",this.details())}}},p=s(1),_=Object(p.a)(v,(function(){var e=this,t=e._self._c;return t("span",[t("div",{staticStyle:{"margin-left":"20px"}},["service"!==e.mode?t("div",{staticClass:"user-search",class:{"user-search-large":"job"===e.mode||"product"===e.mode||"ciest2"===e.mode}},[t("label",[e._v("Du")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.startDate,expression:"startDate"}],attrs:{type:"date"},domProps:{value:e.startDate},on:{change:function(t){return e.search()},input:function(t){t.target.composing||(e.startDate=t.target.value)}}}),e._v(" "),t("label",[e._v("au")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endDate,expression:"endDate"}],attrs:{type:"date"},domProps:{value:e.endDate},on:{change:function(t){return e.search()},input:function(t){t.target.composing||(e.endDate=t.target.value)}}}),e._v(" "),t("label",[e._v("Par")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.by,expression:"by"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.by=t.target.multiple?s:s[0]},function(t){return e.draw()}]}},[t("option",{attrs:{value:"day"}},[e._v("Jour")]),e._v(" "),t("option",{attrs:{value:"month"}},[e._v("Mois")]),e._v(" "),t("option",{attrs:{value:"year"}},[e._v("Year")])]),e._v(" "),"connection"===e.mode?t("span",[t("label",[e._v("Par")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.group,expression:"group"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.group=t.target.multiple?s:s[0]},function(t){return e.draw()}]}},[t("option",{attrs:{value:"type"}},[e._v("Type d'utilisateur")]),e._v(" "),t("option",{attrs:{value:"pole"}},[e._v("Pôle de données")])])]):e._e(),e._v(" "),"job"===e.mode||"ciest2"===e.mode?t("span",[t("label",[e._v("Statut")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.status=t.target.multiple?s:s[0]},function(t){return e.search()}]}},[t("option",{attrs:{value:""}},[e._v("---")]),e._v(" "),t("option",{attrs:{value:"ended"}},[e._v("Terminé")]),e._v(" "),t("option",{attrs:{value:"success"}},[e._v("Terminé avec succès")]),e._v(" "),t("option",{attrs:{value:"failed"}},[e._v("En échec")]),e._v(" "),t("option",{attrs:{value:"aborted"}},[e._v("Abandonné")])])]):e._e(),e._v(" "),"job"===e.mode||"product"===e.mode||"ciest2"===e.mode?t("span",[t("label",[e._v("Groupe")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGroup,expression:"selectedGroup"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedGroup=t.target.multiple?s:s[0]},function(t){return e.changeGroup()}]}},[t("option",{attrs:{value:""}},[e._v("TOUS")]),e._v(" "),e._l(e.groups,(function(s,o){return t("option",{domProps:{value:o}},[e._v("\n            "+e._s(o)+"\n         ")])}))],2),e._v(" "),t("label",[e._v("Service")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedService,expression:"selectedService"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedService=t.target.multiple?s:s[0]},function(t){return e.search()}]}},[t("option",{attrs:{value:""}},[e._v("TOUS")]),e._v(" "),e._l(e.selectedServices,(function(s){return t("option",{domProps:{value:s.id}},[e._v("\n            "+e._s(s.name)+"\n         ")])}))],2)]):e._e(),e._v(" "),"job"===e.mode?t("span",[t("label",[e._v("Regrouper par")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.groupBy,expression:"groupBy"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.groupBy=t.target.multiple?s:s[0]},function(t){return e.search()}]}},[t("option",{attrs:{value:"service"}},[e._v("Service")]),e._v(" "),t("option",{attrs:{value:"type"}},[e._v("Type d'organisme")]),e._v(" "),t("option",{attrs:{value:"pole"}},[e._v("Pôle de données")])])]):e._e()]):e._e()])])}),[],!1,null,null,null).exports;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"object"===h(o)&&(r()(o),l()(o),i()(o));var f={name:"GdmStat",components:{GdmStatForm:_},props:{appUrl:{type:String,default:null}},computed:{},data:function(){return{startDate:null,endDate:null,by:"day",mode:"service",group:"type",groupBy:"service",serviceUsers:[],userTypes:[],poles:[],days:[],months:[],years:[],services:[],selectedServices:[],groups:{},sessions:null,newUsers:null,jobs:null,products:null,ciest2:null,download:null,status:"",totalUsers:0,disabledUsers:0,colors:["#2f7ed8","#910000","#8bbc21","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a","#0d233a"]}},created:function(){this.getClassification(),this.sessions={type:this.defaultData(),pole:this.defaultData()},this.newUsers={type:this.defaultData(),pole:this.defaultData()},this.jobs=this.defaultData(),this.products=this.defaultData(),this.ciest2=this.defaultData(),this.download=this.jobs=this.defaultData()},methods:{defaultData:function(){return{data:{days:{},months:{},years:{}},count:{},cost:{},countCost:{},duration:{},countDuration:{},countJobs:{},avg:{}}},selectedName:function(){return this.$refs&&this.$refs.form?this.$refs.form.selectedName:""},selectedService:function(){return this.$refs&&this.$refs.form?this.$refs.form.selectedService:""},initServices:function(e){this.selectedServices=e},nameByKey:function(e,t){return"pole"===t?this.poleName(e):this.userTypeName(e)},poleName:function(e){var t=this.poles.find((function(t){return t.po_id===e}));return t?t.po_name?t.po_name:t.po_description.fr:"inconnu"},userTypeName:function(e){var t=this.userTypes.find((function(t){return t.t_id===e}));if(t)return t.t_name_fr},draw:function(e){switch(this.group=e.group,this.mode){case"connection":this.drawConnection(e),this.drawNewUsers(e);break;case"services":this.drawServices(e);break;case"job":this.drawJobs(e);break;case"product":this.drawProducts(e);break;case"ciest2":this.drawCiest2(e),this.drawDownload(e)}},drawHistogram:function(e,t,s,n,r){var a=this.colors;r&&r.colors&&(a=r.colors),o.chart(e,{chart:{type:"column"},title:{text:t,align:"left",style:{color:"#000000",fontSize:"20px",fontWeight:700}},credits:{enabled:!1},colors:a,legend:{labelFormatter:function(){return this.name}},subtitle:{text:""},xAxis:{categories:s,crosshair:!0},yAxis:{min:0,allowDecimals:!1,title:{text:""}},tooltip:{formatter:function(e){var t=0,s="<b>"+this.x.replaceAll("-","/")+"</b><br />";return this.points.forEach((function(e,o){s+='<span style="color: '+e.color+'">●</span> '+n[o].name+": "+e.y+"<br/>",t+=e.y})),s+'<span style="margin-left:10px;font-weight:700">Total: </span>'+t},shared:!0,useHTML:!0},plotOptions:{column:{stacking:"normal",pointPadding:0,borderWidth:1,groupPadding:0,shadow:!1}},series:n})},drawPie:function(e,t,s,n){var r=this.colors;n.colors&&(r=n.colors),o.chart(e,{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:t},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},credits:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",colors:r,dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:s})},drawNewUsers:function(e){var t=this[e.by+"s"],s=this.newUsers[e.group].data[e.by+"s"],o=[],n={};for(var r in s)if(o.push({name:this.nameByKey(r,e.group),data:s[r]}),"pole"===e.group){n.colors||(n.colors=[]);var a=this.poles.find((function(e){return e.po_id===r}));n.colors.push(a.po_color)}this.drawHistogram("newUsers","Histogramme des Nouveaux comptes",t,o,n)},drawConnection:function(e){var t=this[e.by+"s"],s=this.sessions[e.group].data[e.by+"s"],o=[],n={};for(var r in s)if(o.push({name:this.nameByKey(r,e.group),data:s[r]}),"pole"===e.group){n.colors||(n.colors=[]);var a=this.poles.find((function(e){return e.po_id===r}));n.colors.push(a.po_color)}this.drawHistogram("sessions","Histogramme de connexions",t,o,n)},drawJobs:function(e){var t=this[e.by+"s"],s=this.jobs.data[e.by+"s"],o=[],n=[],r="";for(var a in s){switch(e.groupBy){case"pole":var i=this.poles.find((function(e){return e.po_id===a}));n.push(i.po_color);case"type":r=this.nameByKey(a,e.groupBy);break;case"service":var c=this.services.find((function(e){return e.name===a}));r=a,n.push(c.color)}o.push({name:r,data:s[a]})}var l={};n.length>0&&(l={colors:n}),this.drawHistogram("jobs","Nombre de jobs",t,o,l)},drawProducts:function(e){var t=this[e.by+"s"],s=this.products.data[e.by+"s"],o=[],n=[],r="";for(var a in s){var i=this.services.find((function(e){return e.name===a}));r=a,n.push(i.color),o.push({name:r,data:s[a]})}var c={};n.length>0&&(c={colors:n}),this.drawHistogram("products","Nombre de produits",t,o,c)},drawCiest2:function(){var e=this[this.by+"s"],t=this.ciest2.data[this.by+"s"],s=[],o=[],n="";for(var r in t){var a=this.services.find((function(e){return e.name===r}));n=r,o.push(a.color),s.push({name:n,data:t[r]})}var i={};o.length>0&&(i={colors:o}),this.drawHistogram("ciest2","Activité CIEST2",e,s,i)},drawDownload:function(){var e=this[this.by+"s"],t=this.download.data[this.by+"s"],s=[];s.push({name:"Téléchargements",data:t});this.drawHistogram("download","Téléchargement FTP",e,s,{})},getServices:function(){var e=this.appUrl+"/auth/getServices";this.$http.get(e).then((function(e){this.services=e.body.services,this.selectedServices=this.services;var t=this;this.services.forEach((function(e){t.groups[e.group]?t.groups[e.group].push(e):t.groups[e.group]=[e]}))}))},getClassification:function(){var e=this.appUrl+"/auth/getClassification";this.$http.get(e,{}).then((function(e){this.initialize(e.body)}))},initialize:function(e){e.types&&(this.userTypes=e.types,this.poles=e.poles),this.getServices()},average:function(e,t){var s=0,o=0,n=0,r=0,a=0;switch(t){case"type":this.userTypes.forEach((function(t){s+=e.count[t.t_id],n+=e.countDuration[t.t_id],o+=e.duration[t.t_id],r+=e.cost[t.t_id],a+=e.countCost[t.t_id]}));break;case"pole":this.poles.forEach((function(t){s+=e.count[t.po_id],n+=e.countDuration[t.po_id],o+=e.duration[t.po_id],r+=e.cost[t.po_id],a+=e.countCost[t.po_id]}));break;default:this.selectedServices.forEach((function(t){s+=e.count[t.name],n+=e.countDuration[t.name],o+=e.duration[t.name],r+=e.cost[t.name],a+=e.countCost[t.name]}))}e.avg={count:s,cost:a>0?Math.round(r/a):0,duration:n>0?Math.round(o/n):0}},productsAverage:function(e){var t=this,s=0,o=0;this.selectedServices.forEach((function(e){o+=t.products.countJobs[e.name],s+=t.products.count[e.name]})),this.products.avg={countJobs:o,countProducts:s}},secondToStr:function(e){e=Math.round(e);var t=Math.floor(e/86400);e%=86400;var s=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60),n=e%60;return(t>0?t+"j ":"")+s.toString().padStart(2,"0")+":"+o.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")},setMode:function(e){this.mode=e},search:function(e){if(this.appUrl)switch(this.mode){case"connection":this.searchConnection(e);break;case"service":this.searchService(e);break;case"job":this.searchJob(e);break;case"product":this.searchProduct(e);break;case"ciest2":this.searchCiest2(e)}},searchConnection:function(e){var t=this.appUrl+"/statistics/searchSession?",s=[];e.startDate&&s.push("start="+e.startDate),e.endDate&&s.push("end="+e.endDate),t+=s.join("&"),this.$http.get(t).then((function(t){this.treatmentConnection(t.body,e)}))},searchJob:function(e){var t=this.appUrl+"/statistics/searchJobs?",s=[];e.startDate&&s.push("start="+e.startDate),e.endDate&&s.push("end="+e.endDate),e.status&&s.push("status="+e.status),e.service&&s.push("service="+e.service),"service"!==e.groupBy&&s.push(e.groupBy+"=1"),t+=s.join("&"),this.$http.get(t).then((function(t){this.treatmentJobs(t.body,e)}))},searchProduct:function(e){var t=this.appUrl+"/statistics/countProducts?",s=[];e.startDate&&s.push("start="+e.startDate),e.endDate&&s.push("end="+e.endDate),e.service&&s.push("service="+e.service),t+=s.join("&"),this.$http.get(t).then((function(t){this.treatmentProducts(t.body,e)}))},searchService:function(){this.$http.get(this.appUrl+"/statistics/serviceUsers").then((function(e){this.treatmentServices(e.body)}))},searchCiest2:function(e){var t=this.appUrl+"/statistics/ciest?",s=[];e.startDate&&s.push("start="+e.startDate),e.endDate&&s.push("end="+e.endDate),""!==this.status&&s.push("status="+e.status),e.service&&s.push("service="+e.service),t+=s.join("&"),this.$http.get(t).then((function(t){this.treatmentCiest2(t.body,e)}))},extractSeriesFrom:function(e,t,s,o,n){o&&(this.days=[],this.months=[],this.years=[],t&&(s.cost={},s.count={},s.countCost={},s.duration={},s.countDuration={},s.countJobs={})),t?(s.count[t]=0,s.cost[t]=0,s.countCost[t]=0,s.duration[t]=0,s.countDuration[t]=0,s.countJobs[t]=0):(s.count=0,s.cost=0,s.countCost=0,s.duration=0,s.countDuration=0,s.countJobs=0);var r=d()(n.startDate,"YYYY-MM-DD"),a={days:[],months:[],years:[]},i=(r=d()(n.startDate,"YYYY-MM-DD"),this),c=r.year(),l=(r.month()+1).toString().padStart(2,"0")+"-"+c,u=null,v=null;o&&(this.years.push(c+""),this.months.push(l));var p=0,_=0;e.forEach((function(e){var n=e.year.toString()+e.month.toString().padStart(2,"0")+e.day.toString().padStart(2,"0"),h=d()(n,"YYYYMMDD");for(u=h.year(),v=(h.month()+1).toString().padStart(2,"0")+"-"+u;h.diff(r,"days")>0;)o&&i.days.push(r.format("DD-MM-YYYY")),a.days.push(0),r.add(1,"days"),u=r.year(),(v=(r.month()+1).toString().padStart(2,"0")+"-"+u)!==l&&(a.months.push(p),o&&i.months.push(v),l=v,p=0),u!==c&&(a.years.push(_),o&&i.years.push(u+""),c=u,_=0);o&&i.days.push(r.format("DD-MM-YYYY")),a.days.push(e.tot),t?s.count[t]=s.count[t]+e.tot:s.count=s.count+e.tot,e.cost&&t&&(s.cost[t]=s.cost[t]+e.cost,s.countCost[t]=s.countCost[t]+e.tot),e.count&&t&&(s.countJobs[t]=s.countJobs[t]+e.count),e.duration&&t&&(s.duration[t]=s.duration[t]+parseInt(e.duration),s.countDuration[t]=s.countDuration[t]+e.tot),p+=e.tot,_+=e.tot,v!==l&&(a.months.push(p),o&&i.months.push(v),l=v,p=0),u!==c&&(a.years.push(_),o&&i.years.push(u+""),c=u,_=0),r=h.add(1,"days")}));for(var h=d()(n.endDate,"YYYY-MM-DD");h.diff(r,"days")>=0;)o&&i.days.push(r.format("DD-MM-YYYY")),a.days.push(0),u=r.year(),(v=(r.month()+1).toString().padStart(2,"0")+"-"+u)!==l&&(a.months.push(p),o&&i.months.push(v),l=v,p=0),u!==c&&(a.years.push(_),o&&i.years.push(u+""),c=u,_=0),r.add(1,"days");return this.years.length>a.years.length&&a.years.push(_),this.months.length>a.months.length&&a.months.push(p),a},treatmentConnection:function(e,t){var s=this,o=!0;this.userTypes.forEach((function(n){var r=e.sessionByType.filter((function(e){return e.type===n.t_id})),a=s.extractSeriesFrom(r,n.t_id,s.sessions.type,o,t);o=!1,s.sessions.type.data.days[n.t_id]=a.days,s.sessions.type.data.months[n.t_id]=a.months,s.sessions.type.data.years[n.t_id]=a.years})),this.average(this.sessions.type,"type"),this.poles.forEach((function(n){var r=e.sessionByPole.filter((function(e){return e.pole===n.po_id})),a=s.extractSeriesFrom(r,n.po_id,s.sessions.pole,o,t);o=!1,s.sessions.pole.data.days[n.po_id]=a.days,s.sessions.pole.data.months[n.po_id]=a.months,s.sessions.pole.data.years[n.po_id]=a.years})),this.average(this.sessions.pole,"pole"),this.drawConnection(t),this.userTypes.forEach((function(o){var n=e.newUserByType.filter((function(e){return e.type===o.t_id})),r=s.extractSeriesFrom(n,o.t_id,s.newUsers.type,!1,t);s.newUsers.type.data.days[o.t_id]=r.days,s.newUsers.type.data.months[o.t_id]=r.months,s.newUsers.type.data.years[o.t_id]=r.years})),this.average(this.newUsers.type,"type"),this.poles.forEach((function(n){var r=e.newUserByPole.filter((function(e){return e.pole===n.po_id})),a=s.extractSeriesFrom(r,n.po_id,s.newUsers.pole,o,t);o=!1,s.newUsers.pole.data.days[n.po_id]=a.days,s.newUsers.pole.data.months[n.po_id]=a.months,s.newUsers.pole.data.years[n.po_id]=a.years})),this.average(this.newUsers.pole,"pole"),this.drawNewUsers(t)},treatmentJobs:function(e,t){this.groupBy=t.groupBy;var s=this;this.jobs.data={days:{},months:{},years:{}};var o=!0;switch(t.groupBy){case"type":this.userTypes.forEach((function(n){var r=e.process.filter((function(e){return e.type===n.t_id})),a=s.extractSeriesFrom(r,n.t_id,s.jobs,o,t);o=!1,s.jobs.data.days[n.t_id]=a.days,s.jobs.data.months[n.t_id]=a.months,s.jobs.data.years[n.t_id]=a.years}));break;case"pole":this.poles.forEach((function(n){var r=e.process.filter((function(e){return e.pole===n.po_id})),a=s.extractSeriesFrom(r,n.po_id,s.jobs,o,t);o=!1,s.jobs.data.days[n.po_id]=a.days,s.jobs.data.months[n.po_id]=a.months,s.jobs.data.years[n.po_id]=a.years}));break;case"service":this.selectedServices.forEach((function(n){if(""===s.selectedService()||s.selectedService()===n.id){var r=e.process.filter((function(e){return e.service===parseInt(n.id)})),a=s.extractSeriesFrom(r,n.name,s.jobs,o,t);o=!1,s.jobs.data.days[n.name]=a.days,s.jobs.data.months[n.name]=a.months,s.jobs.data.years[n.name]=a.years}}))}this.average(this.jobs,t.groupBy,t),this.drawJobs(t)},treatmentCiest2:function(e,t){console.log(t);var s=this;this.ciest2.data={days:{},months:{},years:{}};var o=!0;this.selectedServices.forEach((function(n){if(""===s.selectedService()||s.selectedService()===n.id){var r=e.process.filter((function(e){return e.service===parseInt(n.id)})),a=s.extractSeriesFrom(r,n.name,s.ciest2,o,t);o=!1,s.ciest2.data.days[n.name]=a.days,s.ciest2.data.months[n.name]=a.months,s.ciest2.data.years[n.name]=a.years}})),this.download.data=this.extractSeriesFrom(e.download,null,this.download,!1,t),this.average(this.ciest2,"service",t),this.drawCiest2(t),this.drawDownload(t)},treatmentProducts:function(e,t){this.products.data={days:{},months:{},years:{}};var s=!0,o=this;this.selectedServices.forEach((function(n){if(""===o.selectedService()||o.selectedService()===n.id){var r=e.products.filter((function(e){return e.service===parseInt(n.id)})),a=o.extractSeriesFrom(r,n.name,o.products,s,t);s=!1,o.products.data.days[n.name]=a.days,o.products.data.months[n.name]=a.months,o.products.data.years[n.name]=a.years}})),this.productsAverage(t),this.drawProducts(t)},treatmentServices:function(e){var t=this,s=0,o=0;e.userByType.forEach((function(e){e.type?s+=e.tot:o+=e.tot})),this.totalUsers=s,this.disabledUsers=o;var n=0,r=[];this.userTypes.forEach((function(o,a,i){var c=e.userByType.find((function(e){return e.type===o.t_id}));c?(n=Math.round(100*c.tot/s),s):n=0,r.push({name:t.userTypeName(o.t_id),y:n})}));var a={name:"truc",data:r};this.drawPie("userByType","Utilisateurs par type d'organisme",[a],{}),s=0,e.userByPole.forEach((function(e){e.pole&&(s+=e.tot)})),n=0,r=[],u=[],this.poles.forEach((function(o,a,i){var c=e.userByPole.find((function(e){return e.pole===o.po_id}));c?(n=Math.round(100*c.tot/s),s):n=0,u.push(o.po_color),r.push({name:t.poleName(o.po_id),y:n})}));a={name:"truc",data:r};this.drawPie("userByPole","Utilisateurs par pôle",[a],{colors:u});var i=null,c=[],l={},u=[];this.poles.forEach((function(e){l[e.po_id]=[],u.push(e.po_color)})),e.servicePoles.forEach((function(t){if(t.service!==i)for(var s in c.push(t.service),i=t.service,l){var o=e.servicePoles.find((function(e){return e.pole===s&&e.service===i}));o?l[s].push(o.tot):l[s].push(0)}}));var d=[];for(var v in l)d.push({name:this.poleName(v),data:l[v]});this.drawHistogram("servicePoles","Nombre d'utilisateurs par service et par pôle",c,d,{colors:u}),i=null,c=[],l={},this.userTypes.forEach((function(e){l[e.t_id]=[]})),e.serviceUsers.forEach((function(t){if(t.service!==i)for(var s in c.push(t.service),i=t.service,l){var o=e.serviceUsers.find((function(e){return e.type===s&&e.service===i}));o?l[s].push(o.tot):l[s].push(0)}}));d=[];for(var p in l)d.push({name:this.userTypeName(p),data:l[p]});this.drawHistogram("serviceUsers","Nombre d'utilisateurs par service et type",c,d)}}},m=(s(344),Object(p.a)(f,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{padding:"10px"}},[t("ul",{staticClass:"menu-content"},[t("li",{class:{selected:"service"===e.mode},on:{click:function(t){return e.setMode("service")}}},[t("span",[e._v("Services")])]),t("li",{class:{selected:"connection"===e.mode},on:{click:function(t){return e.setMode("connection")}}},[t("span",[e._v("Connexion")])]),t("li",{class:{selected:"job"===e.mode},on:{click:function(t){return e.setMode("job")}}},[t("span",[e._v("Jobs")])]),t("li",{class:{selected:"product"===e.mode},on:{click:function(t){return e.setMode("product")}}},[t("span",[e._v("Produits")])]),t("li",{class:{selected:"ciest2"===e.mode},on:{click:function(t){return e.setMode("ciest2")}}},[t("span",[e._v("CIEST2")])])])]),e._v(" "),t("gdm-stat-form",{ref:"form",attrs:{mode:e.mode,services:e.services,groups:e.groups},on:{servicesChange:e.initServices,search:e.search,draw:e.draw}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"connection"===e.mode,expression:"mode === 'connection'"}]},[t("h1",[e._v("Suivi des authentifications")]),e._v(" "),"type"===e.group?t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Total connexions aux services de calcul par type d'organisme")]),e._v(" "),e._l(e.userTypes,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n\t             "),e.sessions.type.count&&e.sessions.type.count[s.t_id]?t("span",[e._v(e._s(e.sessions.type.count[s.t_id].toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.sessions.type.avg.count)+"\n           ")])],2),e._v(" "),t("div",[t("h2",[e._v("Visiteurs par jour")]),e._v(" "),e._l(e.userTypes,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n               "),e.sessions.type.count&&e.sessions.type.count[s.t_id]?t("span",[e._v(e._s((e.sessions.type.count[s.t_id]/e.days.length).toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s((e.sessions.type.avg.count/e.days.length).toLocaleString())+"\n           ")])],2)]):t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Total connexions aux services de calcul par pôle")]),e._v(" "),e._l(e.poles,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n               "),e.sessions.pole.count&&e.sessions.pole.count[s.po_id]?t("span",[e._v(e._s(e.sessions.pole.count[s.po_id].toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.sessions.pole.avg.count)+"\n           ")])],2),e._v(" "),t("div",[t("h2",[e._v("Visiteurs par jour")]),e._v(" "),e._l(e.poles,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n               "),e.sessions.pole.count&&e.sessions.pole.count[s.po_id]?t("span",[e._v(e._s((e.sessions.pole.count[s.po_id]/e.days.length).toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s((e.sessions.pole.avg.count/e.days.length).toLocaleString())+"\n           ")])],2)]),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"sessions"}}),e._v(" "),t("h1",[e._v("Suivi des créations de comptes")]),e._v(" "),"type"===e.group?t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Total nouvels utilisateurs")]),e._v(" "),e._l(e.userTypes,(function(s,o){return e.userTypes?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n               "),e.newUsers.type.count&&e.newUsers.type.count[s.t_id]?t("span",[e._v(e._s(e.newUsers.type.count[s.t_id].toLocaleString()))]):t("span",[e._v("0")])]):e._e()})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.newUsers.type.avg.count)+"\n           ")])],2),e._v(" "),t("div",[t("h2",[e._v("Nouveaux comptes par jour")]),e._v(" "),e._l(e.userTypes,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n               "),e.newUsers.type.count&&e.newUsers.type.count[s.t_id]?t("span",[e._v(e._s((e.newUsers.type.count[s.t_id]/e.days.length).toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s((e.newUsers.type.avg.count/e.days.length).toLocaleString())+"\n           ")])],2)]):t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Total nouvels utilisateurs")]),e._v(" "),e._l(e.poles,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n               "),e.newUsers.pole.count&&e.newUsers.pole.count[s.po_id]?t("span",[e._v(e._s(e.newUsers.pole.count[s.po_id].toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.newUsers.pole.avg.count)+"\n           ")])],2),e._v(" "),t("div",[t("h2",[e._v("Nouveaux comptes par jour")]),e._v(" "),e._l(e.poles,(function(s,o){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n               "),e.newUsers.pole.count&&e.newUsers.pole.count[s.po_id]?t("span",[e._v(e._s((e.newUsers.pole.count[s.po_id]/e.days.length).toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}),e._v(" "),t("div",[t("b",[e._v("Total")]),e._v(": "+e._s((e.newUsers.pole.avg.count/e.days.length).toLocaleString())+"\n           ")])],2)]),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"newUsers"}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"service"===e.mode,expression:"mode === 'service'"}]},[t("h2",[e._v("Répartition des utilisateurs")]),e._v(" "),t("div",[t("b",[e._v("Nombre d'utilisateurs actifs")]),e._v(": "+e._s(e.totalUsers))]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"serviceUsers"}}),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"servicePoles"}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"job"===e.mode,expression:"mode === 'job'"}],staticClass:"job-content"},[t("h1",[e._v(e._s(e.selectedName()))]),e._v(" "),t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Total jobs")]),e._v(" "),e._l(e.userTypes,(function(s,o){return"type"===e.groupBy?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n             "),e.jobs.count&&e.jobs.count[s.t_id]?t("span",[e._v(e._s(e.jobs.count[s.t_id].toLocaleString()))]):t("span",[e._v("0")])]):e._e()})),e._v(" "),e._l(e.poles,(function(s,o){return"pole"===e.groupBy?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n             "),e.jobs.count&&e.jobs.count[s.po_id]?t("span",[e._v(e._s(e.jobs.count[s.po_id].toLocaleString()))]):t("span",[e._v("0")])]):e._e()})),e._v(" "),e._l(e.selectedServices,(function(s){return"service"!==e.groupBy||""!==e.selectedService()&&e.selectedService()!==s.id?e._e():t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.jobs.count&&e.jobs.count[s.name]?t("span",[e._v(e._s(e.jobs.count[s.name].toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),""===e.selectedService()||"service"!==e.groupBy?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()||"service"!==e.groupBy?t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.jobs.avg.count)+"\n           ")]):e._e()],2),e._v(" "),t("div",[t("h2",[e._v("Coût moyen")]),e._v(" "),e._l(e.userTypes,(function(s,o){return"type"===e.groupBy?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n             "),e.jobs.cost&&e.jobs.cost[s.t_id]?t("span",[e._v(e._s(Math.round(e.jobs.cost[s.t_id]/e.jobs.countCost[s.t_id]).toLocaleString())+" CPU secondes")]):t("span",[e._v("---")])]):e._e()})),e._v(" "),e._l(e.poles,(function(s,o){return"pole"===e.groupBy?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n             "),e.jobs.cost&&e.jobs.cost[s.po_id]?t("span",[e._v(e._s(Math.round(e.jobs.cost[s.po_id]/e.jobs.countCost[s.po_id]).toLocaleString())+" CPU secondes")]):t("span",[e._v("---")])]):e._e()})),e._v(" "),e._l(e.selectedServices,(function(s){return"service"!==e.groupBy||""!==e.selectedService()&&e.selectedService()!==s.id?e._e():t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.jobs.cost&&e.jobs.cost[s.name]?t("span",[e._v(e._s(Math.round(e.jobs.cost[s.name]/e.jobs.countCost[s.name]).toLocaleString())+" CPU secondes")]):t("span",[e._v("---")])])})),e._v(" "),""===e.selectedService()||"service"!==e.groupBy?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()||"service"!==e.groupBy?t("div",[t("b",[e._v("Tout "+e._s(e.groupBy))]),e._v(":\n              "),e.jobs.avg&&e.jobs.avg.cost?t("span",[e._v(e._s(Math.round(e.jobs.avg.cost).toLocaleString())+" CPU Secondes")]):t("span",[e._v("---")])]):e._e()],2),e._v(" "),t("div",[t("h2",[e._v("Durée moyenne")]),e._v(" "),e._l(e.userTypes,(function(s,o){return"type"===e.groupBy?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:e.colors[o]}}),e._v(" "),t("b",[e._v(e._s(s.t_name_fr))]),e._v(":\n             "),"success"===e.status&&e.jobs.duration&&e.jobs.countDuration[s.t_id]?t("span",[e._v(e._s(e.secondToStr(e.jobs.duration[s.t_id]/e.jobs.countDuration[s.t_id])))]):t("span",[e._v("---")])]):e._e()})),e._v(" "),e._l(e.poles,(function(s,o){return"pole"===e.groupBy?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.po_color}}),e._v(" "),t("b",[e._v(e._s(e.poleName(s.po_id)))]),e._v(":\n             "),"success"===e.status&&e.jobs.duration&&e.jobs.countDuration[s.po_id]?t("span",[e._v(e._s(e.secondToStr(e.jobs.duration[s.po_id]/e.jobs.countDuration[s.po_id])))]):t("span",[e._v("---")])]):e._e()})),e._v(" "),e._l(e.selectedServices,(function(s){return"service"!==e.groupBy||""!==e.selectedService()&&e.selectedService()!==s.id?e._e():t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),"success"===e.status&&e.jobs.duration&&e.jobs.countDuration[s.name]?t("span",[e._v(e._s(e.secondToStr(e.jobs.duration[s.name]/e.jobs.countDuration[s.name])))]):t("span",[e._v("---")])])})),e._v(" "),""===e.selectedService()||"service"!==e.groupBy?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()||"service"!==e.groupBy?t("div",[t("b",[e._v("Tout "+e._s(e.groupBy))]),e._v(":\n              "),"success"===e.status&&e.jobs.avg.duration?t("span",[e._v(e._s(e.secondToStr(e.jobs.avg.duration)))]):t("span",[e._v("---")])]):e._e()],2)]),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"jobs"}})]),e._v(" "),"product"===e.mode?t("div",[t("h1",[e._v(e._s(e.selectedName()))]),e._v(" "),t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Nombre de jobs")]),e._v(" "),e._l(e.selectedServices,(function(s){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.products.countJobs&&e.products.countJobs[s.name]?t("span",[e._v(e._s(e.products.countJobs[s.name].toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),""===e.selectedService()?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()?t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.products.avg.countJobs)+"\n           ")]):e._e()],2),e._v(" "),t("div",[t("h2",[e._v("Total produits générés")]),e._v(" "),e._l(e.selectedServices,(function(s){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.products.countJobs&&e.products.countJobs[s.name]?t("span",[e._v(e._s(e.products.count[s.name].toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),""===e.selectedService()?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()?t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.products.avg.countProducts)+"\n           ")]):e._e()],2),e._v(" "),t("div",[t("h2",[e._v("Nombre moyen de produits générés")]),e._v(" "),e._l(e.selectedServices,(function(s){return t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.products.countJobs&&e.products.countJobs[s.name]?t("span",[e._v(e._s((e.products.count[s.name]/e.products.countJobs[s.name]).toLocaleString()))]):t("span",[e._v("0")])])})),e._v(" "),""===e.selectedService()?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()?t("div",[t("b",[e._v("Total")]),e._v(": \n              "),e.products.avg.countJobs?t("span",[e._v(e._s(Math.round(e.products.avg.countProducts/e.products.avg.countJobs).toLocaleString()))]):t("span",[e._v("---")])]):e._e()],2)]),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"products"}})]):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:"ciest2"===e.mode,expression:"mode === 'ciest2'"}],staticClass:"job-content"},[t("h1",[e._v(e._s(e.selectedName()))]),e._v(" "),t("div",{staticClass:"job-header"},[t("div",[t("h2",[e._v("Total jobs")]),e._v(" "),e._l(e.selectedServices,(function(s){return""===e.selectedService()||e.selectedService()===s.id?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.ciest2.count&&e.ciest2.count[s.name]?t("span",[e._v(e._s(e.ciest2.count[s.name].toLocaleString()))]):t("span",[e._v("0")])]):e._e()})),e._v(" "),""===e.selectedService()?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()?t("div",[t("b",[e._v("Total")]),e._v(": "+e._s(e.ciest2.avg.count)+"\n           ")]):e._e()],2),e._v(" "),t("div",[t("h2",[e._v("Coût moyen")]),e._v(" "),e._l(e.selectedServices,(function(s){return""===e.selectedService()||e.selectedService()===s.id?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),e.ciest2.cost&&e.ciest2.cost[s.name]?t("span",[e._v(e._s(Math.round(e.ciest2.cost[s.name]/e.ciest2.countCost[s.name]).toLocaleString())+" CPU secondes")]):t("span",[e._v("---")])]):e._e()})),e._v(" "),""===e.selectedService()?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()?t("div",[t("b",[e._v("Tout service")]),e._v(":\n              "),e.ciest2.avg&&e.ciest2.avg.cost?t("span",[e._v(e._s(Math.round(e.ciest2.avg.cost).toLocaleString())+" CPU Secondes")]):t("span",[e._v("---")])]):e._e()],2),e._v(" "),t("div",[t("h2",[e._v("Durée moyenne")]),e._v(" "),e._l(e.selectedServices,(function(s){return""===e.selectedService()||e.selectedService()===s.id?t("div",[t("span",{staticClass:"fa fa-circle",style:{color:s.color}}),e._v(" "),t("b",[e._v(e._s(s.name))]),e._v(":\n             "),"success"===e.status&&e.ciest2.duration&&e.ciest2.countDuration[s.name]?t("span",[e._v(e._s(e.secondToStr(e.ciest2.duration[s.name]/e.ciest2.countDuration[s.name])))]):t("span",[e._v("---")])]):e._e()})),e._v(" "),""===e.selectedService()?t("hr",{staticStyle:{width:"60%","margin-left":"5px",color:"gray"}}):e._e(),e._v(" "),""===e.selectedService()?t("div",[t("b",[e._v("Tout service")]),e._v(":\n              "),"success"===e.status&&e.ciest2.avg.duration?t("span",[e._v(e._s(e.secondToStr(e.ciest2.avg.duration)))]):t("span",[e._v("---")])]):e._e()],2)]),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"ciest2"}}),e._v(" "),t("div",{staticStyle:{"margin-top":"30px"}},[t("h1",[e._v("Images téléchargées")]),e._v(" "),t("div",{staticClass:"job-header"},[t("h2",[e._v("Total: "+e._s(e.download.count))])]),e._v(" "),t("div",{attrs:{id:"download"}})])])],1)}),[function(){var e=this._self._c;return e("div",{staticStyle:{width:"48%",display:"inline-block","margin-top":"30px"}},[e("div",{attrs:{id:"userByType"}})])},function(){var e=this._self._c;return e("div",{staticStyle:{width:"48%",display:"inline-block"}},[e("div",{attrs:{id:"userByPole"}})])}],!1,null,null,null));t.default=m.exports}}]);
//# sourceMappingURL=10.gdm-search-components-vjs.js.map