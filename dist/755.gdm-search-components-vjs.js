(self.webpackChunkgdm_search_components_vjs=self.webpackChunkgdm_search_components_vjs||[]).push([[755],{6036:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}L.Control.Gdmlayer=L.Control.Layers.extend({options:{position:"topleft"},bbox:null,tiles:{osm:{name:"OSM",url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'},osmFr:{name:"OSM France",url:"//{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",attribution:'donn&eacute;es &copy; <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>'},opentopomap:{name:"OSM Topo",url:"//{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:'Kartendaten: © <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>-Mitwirkende, <a href="http://viewfinderpanoramas.org">SRTM</a> | Kartendarstellung: © <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'},arcgisTopo:{name:"ArcGIS",url:"//server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",attribution:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>'}},initialize:function(t,e,n){for(var i in L.Control.Layers.prototype.initialize.call(this,t,e,n),this.tiles){var a=L.tileLayer(this.tiles[i].url,{attribution:this.tiles[i].attribution});this.tiles[i].layer=a,this.addBaseLayer(a,this.tiles[i].name)}},addBboxLayer:function(){},setBboxLayer:function(t){},removeBboxLayer:function(){},_addItem:function(t){var n=this._overlaysList;if(t.layer.first&&("object"===e(t.layer.first)?(title=t.layer.first.title,(i=document.createElement("div")).className="leaflet-control-layers-separator",n.appendChild(i)):title=t.layer.first,(i=document.createElement("b")).innerHTML=title,this._overlaysList.appendChild(i)),t.layer.images){var i=document.createElement("div"),a=this._map.hasLayer(t.layer),o=this;return t.layer.images.forEach((function(e,l){var r,s=document.createElement("label"),p=a&&t.layer.indexImage===l;(r=document.createElement("input")).type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=p,o._layerControlInputs.push(r),r.layerId=L.Util.stamp(t.layer),r.index=l,L.DomEvent.on(r,"click",o._onInputClick,o);var d=document.createElement("span");d.innerHTML=" "+e.title;var c=document.createElement("div");s.appendChild(c),c.appendChild(r),c.appendChild(d),i.appendChild(s),n.appendChild(i),o._checkDisabledLayers()})),i}if(L.Control.Layers.prototype._addItem.call(this,t),t.layer.last){if(i=document.createElement("div"),t.layer.last.classname&&i.classList.add(t.layer.last.classname),t.layer.last.funct){i.style.textAlign="center";var l=document.createElement("input");l.setAttribute("type","button"),l.setAttribute("value",t.layer.last.name),t.layer.last.title&&l.setAttribute("title",t.layer.last.title),l.addEventListener("click",(function(e){t.layer.last.funct(e),e.stopPropagation()}),{once:!0,useCapture:!0}),i.appendChild(l)}else i.innerHTML="<b>"+t.layer.last.name+"</b>";this._overlaysList.appendChild(i)}},_onInputClick:function(t){var e,n,i=t.target.layerId,a=(n=this._getLayer(i).layer).hasOwnProperty("type"),o=this._layerControlInputs,l=[],r=[];this._handlingClick=!0;for(var s=o.length-1;s>=0;s--){e=o[s],n=this._getLayer(e.layerId).layer;var p=!t.target.hasOwnProperty("index")||t.target.index===e.index;!e.checked||!p||e.layerId!==i&&a?(!e.checked||n.type&&a)&&(e.checked=!1,n.checked=!1,r.push(n)):(l.push(n),t.target.hasOwnProperty("index")&&(n.setUrl(n.images[t.target.index].png),n.legend=n.images[t.target.index].legend,n.indexImage=t.target.index,n.checked=!0))}for(s=0;s<r.length;s++)this._map.hasLayer(r[s])&&this._map.removeLayer(r[s]);for(s=0;s<l.length;s++)this._map.hasLayer(l[s])||this._map.addLayer(l[s]);this._handlingClick=!1,this._refocusOnMap()},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,a=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,a+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&a>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this}}),t.exports=L.Control.Gdmlayer},7715:t=>{L.Control.Opacity=L.Control.extend({options:{position:"topright"},_value:.5,_layers:[],_bbox:null,_lang:"en",_hidden:!0,_translate:{en:{opacity:"Opacity"},fr:{opacity:"Opacité"}},initialize:function(t,e){this.setLang(t),e&&(this._value=e)},getValue:function(){return this._value},setLang:function(t){this._lang=["en","fr"].indexOf(t)>=0?t:"en"},setLayers:function(t){this._layers=t},setVisible:function(t){t?this._container.classList.remove("hidden"):this._container.classList.add("hidden")},setBbox:function(t){this._bbox=t,this._container.classList.remove("hidden")},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-bar leaflet-control lfh-control-opacity hidden");L.DomEvent.disableScrollPropagation(e),L.DomEvent.disableClickPropagation(e);var n=L.DomUtil.create("a","icon-progress");n.setAttribute("title",this._translate[this._lang].opacity),e.appendChild(n);var i=L.DomUtil.create("div"),a=L.DomUtil.create("strong");a.textContent=this._translate[this._lang].opacity,i.appendChild(a);var o=L.DomUtil.create("input");o.setAttribute("type","range"),o.setAttribute("name","opacity"),o.setAttribute("min",0),o.setAttribute("max",1),o.setAttribute("step",.1),o.setAttribute("value",this._value),i.appendChild(o),e.appendChild(i);var l=this;return L.DomEvent.on(o,"change",(function(t){return l._layers.forEach((function(e){e.setOpacity(t.target.value)})),l._bbox&&l._bbox.setStyle((function(e){return{fillOpacity:t.target.value}})),L.DomEvent.stopPropagation(t),L.DomEvent.preventDefault(t),!1})),L.DomEvent.on(a,"click",(function(t){l._container.classList.remove("expand")})),L.DomEvent.on(n,"click",(function(t){l._container.classList.add("expand")})),e}}),t.exports=L.Control.Legend},8590:(t,e,n)=>{var i=n(3645),a=n(1667),o=n(5922);e=i(!1);var l=a(o);e.push([t.id,'\n.gdm-mouseposition {\n     position:absolute;\n     bottom:5px;\n     left:3px;\n     font-size:11px;\n     padding: 0 5px;\n     color: #333;\n     z-index:1;\n     background: rgba(255, 255, 255, 0.7);\n}\n.research-map{\n  float:left;\n  margin-right: 10px;\n}\ndiv.map-container {\n}\ndiv[id="fmtMap"]{\n position:relative;\n width: 100%;\n min-height: 900px;\n z-index: 0;\n}\ndiv[id="fmtMap"].mtdt-small {\n max-height:200px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-top .leaflet-control{\n   margin-top: 3px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-left .leaflet-control{\n   margin-left: 3px;\n}\ndiv[id="fmtMap"].mtdt-small.leaflet-control .leaflet-control-zoom-in, \ndiv[id="fmtMap"].mtdt-small .leaflet-control .leaflet-control-zoom-out{\n  font-size:16px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-bar a,\ndiv[id="fmtMap"].mtdt-small .leaflet-control a{\n width: 15px;\n height:15px;\n line-height:15px;\n}\ndiv[id="fmtMap"] .lfh-control-fullscreen {\n   cursor:pointer;\n}\ndiv[id="fmtMap"] .lfh-control-legend {\n   cursor: pointer;\n   background: white;\n   display:none;\n}\ndiv[id="fmtMap"] .lfh-control-opacity {\n  background:white;\n  display:block;\n}\ndiv[id="fmtMap"] .lfh-control-opacity.hidden {\n  display:none;\n}\ndiv[id="fmtMap"] .lfh-control-opacity.expand {\n  padding:5px;\n}\ndiv[id="fmtMap"] .lfh-control-opacity a.icon-progress{\n   background-image: url('+l+');\n   background-size: cover;\n   pointer-events:auto;\n   cursor:pointer;\n   display:block;\n}\ndiv[id="fmtMap"] .lfh-control-opacity.expand a.icon-progress{\n   display:none;\n}\ndiv[id="fmtMap"] .lfh-control-opacity div{\n   display:none;\n}\ndiv[id="fmtMap"] .lfh-control-opacity strong{\n   display:block;\n   text-align:right;\n   cursor:pointer;\n}\ndiv[id="fmtMap"] .lfh-control-opacity input{\n   pointer-events:auto;\n}\ndiv[id="fmtMap"] .lfh-control-opacity.expand div {\n    display:block;\n}\ndiv[id="fmtMap"] .lfh-control-legend img{\n    display:block;\n    max-height:250px;\n    max-width: 300px;\n}\ndiv[id="fmtMap"]  div.lfh-control-legend{\n    display:block;\n}\ndiv[id="fmtMap"]  div.lfh-control-legend.hidden,\n    div[id="fmtMap"]  div.lfh-control-legend.opacity{\n    display:none;\n}\ndiv[id="fmtMap"].mtdt-small .lfh-control-legend img{\n   max-width:120px;\n   max-height:100px;\n}\ndiv[id="fmtMap"] .lfh-control-legend img{\n    display: none;\n}\n/*  div[id="fmtMap"] .lfh-control-legend a{\n   display:block;\n } */\ndiv[id="fmtMap"] .lfh-control-legend.expand img{;\n   display:block;\n   margin-left:5px;\n}\ndiv[id="fmtMap"] .lfh-control-legend.expand img:first-child{\n    margin-left:0px;\n}\ndiv[id="fmtMap"] .lfh-control-legend.expand a{\n   display:none;\n}\ndiv[id="fmtMap"].mtdt-fullscreen{\n   min-height:400px;\n   width:100%;\n   font-size: 16px;\n}\ndiv[id="fmtMap"] a.leaflet-control-layers-toggle{\n  background-image: none;\n  color: black;\n  text-decoration: none;\n  text-align:center;\n}\ndiv[id="fmtMap"] a.leaflet-control-layers-toggle::before{\n   font-family:Formater;\n   content: "\\e806";\n}\ndiv[id="fmtMap"] .leaflet-control-layers-expanded {\n          padding: 3px 5px;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list input[type=radio],\n     div[id="fmtMap"] section.leaflet-control-layers-list input[type=checkbox]{\n     display:none;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list  input[type=radio] + span:before {\n     font-family: FontAwesome;\n     content: "\\f10c";\n     opacity:0.8;\n     cursor: pointer;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list input[type=radio]:checked + span:before {\n     content: "\\f111";\n     opacity:1;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list  input[type=checkbox] + span:before {\n     font-family: FontAwesome;\n     content: "\\f096";\n     opacity:0.8;\n     cursor: pointer;\n}\ndiv[id="fmtMap"] section.leaflet-control-layers-list input[type=checkbox]:checked + span:before {\n     content: "\\f046";\n     opacity:1;\n}\ndiv[id="fmtMap"] .leaflet-control-layers-base label span{\n   vertical-align: middle;\n}\ndiv[id="fmtMap"].mtdt-fullscreen{\n   min-height:300px;\n   font-size: 16px;\n}\ndiv[id="fmtMap"].mtdt-fullscreen a.leaflet-control-layers-toggle{\n   width: 30px;\n   height: 30px;\n   border-radius: 2px;\n   line-height: 30px;\n}\ndiv[id="fmtMap"].mtdt-fullscreen a.leaflet-control-layers{\n   border-radius: 2px;\n}\ndiv[id="fmtMap"].mtdt-small .leaflet-popup-content{\n\n   font-size: 10px;\n}\ndiv[id="fmtMap"].mtdt-fullscreen .leaflet-popup-content{\n\n   font-size: 14px;\n}\ndiv[id="fmtMap"] .leaflet-popup-content h3 {\n   margin: 0 0 5px 0;\n}\ndiv[id="fmtMap"] .leaflet-popup-content label {\n   font-weight:700;\n}\ndiv[id="fmtMap"] .leaflet-pane > svg path {\n  pointer-events: auto;\n}\ndiv[id="fmtMap"] h3 {\n   color: inherit;\n}\n',""]),t.exports=e},5922:t=>{t.exports="data:image/png;base64,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"},5755:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>o});var i=n(5243);i.Control.Gdmlayer=n(6036),n(7715),n(4812);const a={name:"GdmTest",props:{},data:function(){return{map:null,controlLayer:null,controlOpacity:null,imageLayer:null,center:[37.0886443,37.4734276],TL:[34.8580475,39.0314845],TR0:[39.3192411,39.0314845],BL0:[34.8580475,35.9138708],TR:null,BL:null,teta:0,url:"https://s3.unistra.fr/a2s_TS_EQ/MM_Mean_displacement_EW_WGS84.RGB_4320w.png"}},watch:{},created:function(){this.TR=this.TR0,this.BL=this.BL0},mounted:function(){console.log("ici"),this.center=[(this.TR[0]+this.BL[0])/2,(this.TR[1]+this.BL[1])/2],this.initialize()},destroyed:function(){},methods:{initialize:function(){var t=this,e=this.$el.querySelector("#fmtMap");this.map=i.map(e,{scrollWheelZoom:!0}).setView([51.505,-.09],1),this.controlLayer=new i.Control.Gdmlayer(null,null,{position:"topleft"}),this.controlLayer.tiles.arcgisTopo.layer.addTo(this.map),this.controlLayer.addTo(this.map),this.controlOpacity=new i.Control.Opacity("fr"),this.controlOpacity.addTo(this.map),this.controlOpacity.setVisible(!0),this.map.fitBounds([[this.TR[1],this.TR[0]],[this.BL[1],this.BL[0]]]),this.$nextTick((function(){t.initImageLayer(-.001)}))},rotate:function(t,e){return[(t[0]-this.center[0])*Math.cos(e)+(t[1]-this.center[1])*Math.sin(e)+this.center[0],(t[1]-this.center[1])*Math.cos(e)-(t[0]-this.center[0])*Math.sin(e)+this.center[1]]},initImageLayer:function(t){console.log(this.TR),console.log(this.TL),console.log(this.BL),this.TR=this.rotate(this.TR0,t),this.BL=this.rotate(this.BL0,t),this.imageLayer=new i.ImageOverlay.Rotated(this.url,[this.TL[1],this.TL[0]],[this.TR[1],this.TR[0]],[this.BL[1],this.BL[0]],{opacity:1}).addTo(this.map)}}};n(8721),n(1052),n(2969),n(9153);const o=(0,n(1900).Z)(a,(function(){return this._self._c,this._m(0)}),[function(){var t=this._self._c;return t("span",{staticClass:"gdm-map"},[t("div",{attrs:{id:"fmtMap"}})])}],!1,null,null,null).exports},9153:(t,e,n)=>{var i=n(8590);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,n(5346).Z)("279b1381",i,!0,{})}}]);
//# sourceMappingURL=755.gdm-search-components-vjs.js.map